var CrowdSimulator;CrowdSimulator=(()=>{"use strict";var t={546:(t,i,e)=>{e.r(i),e.d(i,{init:()=>T,playPause:()=>E,reconfigure:()=>L,step:()=>G});var n,o=function(){function t(t,i){this._renderer=t,this._agents=i}return t.prototype.init=function(t){this._agents.init(t)},t.prototype.update=function(t){var i=this;this._agents.forEach((function(e){e.update(t,i._agents.getNeighboursInRangeEuclidean(e,300))})),this._agents.init(this._agents.getAll())},t.prototype.draw=function(){this._renderer.clear(),this._renderer.drawAgents(this._agents)},t}(),r=function(){function t(t){var i=this;this.cameraDist=800,this.mouseDown=function(t){i.drag=!0,i.oldX=t.pageX,i.oldY=t.pageY},this.mouseUp=function(t){i.drag=!1,t.preventDefault()},this.mouseMove=function(t){if(!i.drag)return!1;i.xPan+=t.pageX-i.oldX,i.yPan+=t.pageY-i.oldY,i.oldX=t.pageX,i.oldY=t.pageY},this.mouseScroll=function(t){i.cameraDist+=t.deltaY,i.cameraDist<0&&(i.cameraDist=0),t.preventDefault(),console.log("Scroll")},this.canvas=t,this.context=this.canvas.getContext("2d"),this.xPan=this.canvas.width/2,this.yPan=this.canvas.height/2,this.canvas.addEventListener("mousedown",this.mouseDown,!1),this.canvas.addEventListener("mouseup",this.mouseUp,!1),this.canvas.addEventListener("mouseout",this.mouseUp,!1),this.canvas.addEventListener("mousemove",this.mouseMove,!1),this.canvas.addEventListener("wheel",this.mouseScroll,!1)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.fillStyle="rgb(135, 194, 250)",this.context.fillRect(0,0,this.context.canvas.width,this.context.canvas.height)},t.prototype.drawAgents=function(t){var i=this,e=800/this.cameraDist;this.context.setTransform(1,0,0,1,0,0),this.context.translate(this.xPan,this.yPan),this.context.scale(e,e),this.context.fillStyle="rgb(51, 51, 51)",this.context.fillRect(.55*-this.context.canvas.width,.55*-this.context.canvas.height,1.1*this.context.canvas.width,1.1*this.context.canvas.height),t.forEach((function(t){i.drawAgent(t)}))},t.prototype.drawAgent=function(t){var i=t.getPosition(),e=t.getDirection(),n=t.getColour();this.context.beginPath(),this.context.strokeStyle="rgb("+n.r+", "+n.g+", "+n.b+")",this.context.lineWidth=2,this.context.arc(i.x,i.y,t.Radius,0,2*Math.PI);var o=e.magnitude();if(0!==o){this.context.moveTo(i.x,i.y);var r=i.add(e.divide(o).multiply(t.Radius));this.context.lineTo(r.x,r.y)}this.context.stroke()},t}(),s=function(){function t(){}return t.prototype.init=function(t){this._agents=t,this._root=this.constructTree(this._agents,!0)},t.prototype.getAll=function(){return this._agents},t.prototype.getNeighboursInRangeRectilinear=function(t,i){var e=t.getPosition().x-i,n=t.getPosition().y-i,o=t.getPosition().x+i,r=t.getPosition().y+i;return this.rangeSearch(this._root,e,n,o,r,!0).filter((function(i){return i.Id!==t.Id}))},t.prototype.getNeighboursInRangeEuclidean=function(t,i){return this.getNeighboursInRangeRectilinear(t,i).filter((function(e){return t.getPosition().subtract(e.getPosition()).magnitudeSqrd()<=Math.pow(i,2)}))},t.prototype.forEach=function(t){this._agents.forEach(t)},t.prototype.constructTree=function(t,i){if(0===t.length)return null;var e=Math.floor(t.length/2),n=i?t.sort((function(t,i){return t.getPosition().x-i.getPosition().x})):t.sort((function(t,i){return t.getPosition().y-i.getPosition().y})),o=this.constructTree(n.slice(0,e),!i),r=this.constructTree(n.slice(e+1,t.length),!i);return{agent:t[e],left:o,right:r}},t.prototype.rangeSearch=function(t,i,e,n,o,r){if(null==t)return[];var s=[];return r?(t.agent.getPosition().x<=n&&(s=s.concat(this.rangeSearch(t.right,i,e,n,o,!r))),t.agent.getPosition().x>=i&&(s=s.concat(this.rangeSearch(t.left,i,e,n,o,!r)))):(t.agent.getPosition().y<=o&&(s=s.concat(this.rangeSearch(t.right,i,e,n,o,!r))),t.agent.getPosition().y>=e&&(s=s.concat(this.rangeSearch(t.left,i,e,n,o,!r)))),t.agent.getPosition().x>=i&&t.agent.getPosition().y>=e&&t.agent.getPosition().x<=n&&t.agent.getPosition().y<=o&&s.push(t.agent),s},t}(),a=function(){function t(t,i){this.x=t,this.y=i}return t.prototype.copy=function(i){return new t(i.x,i.y)},t.prototype.add=function(i){return new t(this.x+i.x,this.y+i.y)},t.prototype.subtract=function(i){return new t(this.x-i.x,this.y-i.y)},t.prototype.multiply=function(i){return new t(this.x*i,this.y*i)},t.prototype.divide=function(i){return new t(this.x/i,this.y/i)},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.magnitudeSqrd=function(){return Math.pow(this.x,2)+Math.pow(this.y,2)},t.prototype.magnitude=function(){return Math.sqrt(this.magnitudeSqrd())},t.prototype.normalise=function(){var i=this.magnitude();return 0==i?new t(0,0):this.divide(i)},t.prototype.sample=function(i){var e=Math.sqrt(Math.random())*i,n=2*Math.PI*Math.random();return new t(this.x+e*Math.cos(n),this.y+e*Math.sin(n))},t}(),c=function(){function t(t,i,e){this.Id=t,this.Radius=20,this._position=i,this._direction=new a(0,0),this._getPreferredVelocity=e,this._isDone=!1}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.isDone=function(){return this._isDone},t}(),u=function(){function t(){}return t.FromHsv=function(t,i,e){var n=(t*=6)-Math.floor(t),o=e*(1-i),r=e*(1-i*n),s=e*(1-i*(1-n));return 0<=t&&t<1?{r:255*e,g:255*s,b:255*o}:1<=t&&t<2?{r:255*r,g:255*e,b:255*o}:2<=t&&t<3?{r:255*o,g:255*e,b:255*s}:3<=t&&t<4?{r:255*o,g:255*r,b:255*e}:4<=t&&t<5?{r:255*s,g:255*o,b:255*e}:5<=t&&t<6?{r:255*e,g:255*o,b:255*r}:{r:0,g:0,b:0}},t.White={r:255,g:255,b:255},t.Red={r:255,g:0,b:0},t.Green={r:0,g:255,b:0},t}(),h=(n=function(t,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),l=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return h(i,t),i.prototype.getColour=function(){return this._isDone?u.White:u.Green},i.prototype.update=function(t,i){if(!this._isDone){var e=this._getPreferredVelocity(this._position);e.magnitude(),0!=e.x||0!=e.y?(this._direction=e,this._position=this._position.add(e.multiply(60*t/1e3))):this._isDone=!0}},i}(c),d=function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(i,e)};return function(i,e){function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),p=function(t){function i(i,e,n){var o=t.call(this,i,e,n)||this;return o._isStuck=!1,o}return d(i,t),i.prototype.getColour=function(){return this._isDone?u.White:this._isStuck?u.Red:u.Green},i.prototype.update=function(t,i){if(!this._isDone){var e=this._getPreferredVelocity(this._position);if(0!=e.x||0!=e.y){this._direction=e.normalise();var n=this._position.add(this._direction.multiply(20));this._isStuck=!1;for(var o=0;o<i.length;o++)if(this.collides(i[o],n))return void(this._isStuck=!0);this._direction=e,this._position=this._position.add(this._direction.multiply(60*t/1e3))}else this._isDone=!0}},i.prototype.collides=function(t,i){return t.getPosition().subtract(i).magnitudeSqrd()<(t.Radius+this.Radius)*(t.Radius+this.Radius)},i}(c),f=function(){function t(){}return t.getClosestPointOnLine=function(t,i,e){var n=i.normalise(),o=e.subtract(t).dot(n);return t.add(n.multiply(o))},t.getFirstRayCircleIntersection=function(t,i,e,n){var o=e.subtract(t),r=n.dot(n),s=2*n.dot(o),a=o.dot(o)-Math.pow(i,2),c=Math.pow(s,2)-4*r*a;if(c<0)return 1/0;var u=(-s-Math.sqrt(c))/2*r;return u<0?1/0:u},t.getLineLineIntersection=function(t,i,e,n){var o=e.subtract(t),r=n.x*i.y-n.y*i.x,s=(o.y*n.x-o.y*n.y)/r;return t.add(i.multiply(s))},t}(),g=function(){function t(t,i,e){this.vertex=t,this.tangent1=i,this.tangent2=e}return t.prototype.contains=function(t){var i=(this.tangent1.x-this.vertex.x)*(t.y-this.vertex.y)-(this.tangent1.y-this.vertex.y)*(t.x-this.vertex.x),e=(this.tangent2.x-this.vertex.x)*(t.y-this.vertex.y)-(this.tangent2.y-this.vertex.y)*(t.x-this.vertex.x);return i>0&&e<0},t}(),y=function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(i,e)};return function(i,e){function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_=function(t){function i(i,e,n){var o=t.call(this,i,e,n)||this;return o._colour=u.Green,o}return y(i,t),i.prototype.getColour=function(){return this._colour},i.prototype.update=function(t,i){if(!this._isDone){var e=this._getPreferredVelocity(this._position);if(0==e.x&&0==e.y)return this._isDone=!0,this._direction=new a(0,0),void(this._colour=u.White);for(var n,o,r=!0,s=0;s<i.length;s++)if(null!=(m=this.getVelocityObstacle(i[s]))&&m.contains(e)){r=!1,n=m,o=s;break}if(r)return this._direction=e,this._position=this._position.add(this._direction.multiply(60*t/1e3)),void(this._colour=u.Green);if(null!=n){var c=f.getClosestPointOnLine(n.vertex,n.tangent1,e),h=f.getClosestPointOnLine(n.vertex,n.tangent2,e),l=!0,d=!0;for(s=0;s<i.length;s++)s!=o&&(null!=(m=this.getVelocityObstacle(i[s]))&&m.contains(c)&&(l=!1),null!=m&&m.contains(c)&&(d=!1));if(l&&d?c.subtract(e).magnitudeSqrd()<h.subtract(e).magnitudeSqrd()?this._direction=c:this._direction=h:l?this._direction=c:d&&(this._direction=h),l||d)return this._position=this._position.add(this._direction.multiply(60*t/1e3)),void this.setColour(e)}var p=1/0,g=new a(0,0);for(s=0;s<100;s++){for(var y=new a(0,0).sample(1),_=1/0,v=0;v<i.length;v++){var m,x=i[v];if(null==(m=this.getVelocityObstacle(x))||m.contains(y)){var b=f.getFirstRayCircleIntersection(x.getPosition().add(x.getDirection()),this.Radius+x.Radius,this._position,y.subtract(x.getDirection()));b<_&&(_=b)}}var w=100/_+e.subtract(y).magnitude();w<p&&(p=w,g=y)}this._direction=g,this._position=this._position.add(this._direction.multiply(60*t/1e3)),this.setColour(e)}},i.prototype.getVelocityObstacle=function(t){var i=t.getDirection(),e=t.getPosition().subtract(this._position).add(i),n=t.Radius+this.Radius,o=i.subtract(e),r=o.magnitude();if(r<n)return null;var s=Math.acos(n/r),c=Math.atan2(o.y,o.x),u=c+s,h=new a(e.x+n*Math.cos(u),e.y+n*Math.sin(u)),l=c-s,d=new a(e.x+n*Math.cos(l),e.y+n*Math.sin(l));return new g(i,h,d)},i.prototype.setColour=function(t){var i=t.subtract(this._direction).magnitude();this._colour=u.FromHsv((1-i)/3,1,1)},i}(c),v=function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(i,e)};return function(i,e){function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),m=function(t){function i(i,e,n){var o=t.call(this,i,e,n)||this;return o._colour=u.Green,o}return v(i,t),i.prototype.getColour=function(){return this._colour},i.prototype.update=function(t,i){if(!this._isDone){var e=this._getPreferredVelocity(this._position);if(0==e.x&&0==e.y)return this._isDone=!0,this._direction=new a(0,0),void(this._colour=u.White);for(var n,o,r=!0,s=0;s<i.length;s++)if(null!=(m=this.getReciprocalVelocityObstacle(i[s]))&&m.contains(e)){r=!1,n=m,o=s;break}if(r)return this._direction=e,this._position=this._position.add(this._direction.multiply(60*t/1e3)),void(this._colour=u.Green);if(null!=n){var c=f.getClosestPointOnLine(n.vertex,n.tangent1,e),h=f.getClosestPointOnLine(n.vertex,n.tangent2,e),l=!0,d=!0;for(s=0;s<i.length;s++)s!=o&&(null!=(m=this.getReciprocalVelocityObstacle(i[s]))&&m.contains(c)&&(l=!1),null!=m&&m.contains(c)&&(d=!1));if(l&&d?c.subtract(e).magnitudeSqrd()<h.subtract(e).magnitudeSqrd()?this._direction=c:this._direction=h:l?this._direction=c:d&&(this._direction=h),l||d)return this._position=this._position.add(this._direction.multiply(60*t/1e3)),void this.setColour(e)}var p=1/0,g=new a(0,0);for(s=0;s<100;s++){for(var y=new a(0,0).sample(1),_=1/0,v=0;v<i.length;v++){var m,x=i[v];if(null==(m=this.getReciprocalVelocityObstacle(x))||m.contains(y)){var b=f.getFirstRayCircleIntersection(x.getPosition().add(x.getDirection()),this.Radius+x.Radius,this._position,y.subtract(x.getDirection()));b<_&&(_=b)}}var w=100/_+e.subtract(y).magnitude();w<p&&(p=w,g=y)}this._direction=g,this._position=this._position.add(this._direction.multiply(60*t/1e3)),this.setColour(e)}},i.prototype.getReciprocalVelocityObstacle=function(t){var i=this.getDirection(),e=t.getDirection(),n=i.add(e).divide(2),o=t.getPosition().subtract(this._position).add(e),r=t.Radius+this.Radius,s=e.subtract(o),c=s.magnitude();if(c<r)return null;var u=Math.acos(r/c),h=Math.atan2(s.y,s.x),l=h+u,d=new a(o.x+r*Math.cos(l),o.y+r*Math.sin(l)),p=h-u,f=new a(o.x+r*Math.cos(p),o.y+r*Math.sin(p));return new g(n,d,f)},i.prototype.setColour=function(t){var i=t.subtract(this._direction).magnitude();this._colour=u.FromHsv((1-i)/3,1,1)},i}(c),x=function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(i,e)};return function(i,e){function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),b=function(t){function i(i,e,n){var o=t.call(this,i,e,n)||this;return o._colour=u.Green,o}return x(i,t),i.prototype.getColour=function(){return this._colour},i.prototype.update=function(t,i){if(!this._isDone){var e=this._getPreferredVelocity(this._position);if(0==e.x&&0==e.y)return this._isDone=!0,this._direction=new a(0,0),void(this._colour=u.White);for(var n,o,r=!0,s=0;s<i.length;s++)if(null!=(m=this.getHybridReciprocalVelocityObstacle(i[s]))&&m.contains(e)){r=!1,n=m,o=s;break}if(r)return this._direction=e,this._position=this._position.add(this._direction.multiply(60*t/1e3)),void(this._colour=u.Green);if(null!=n){var c=f.getClosestPointOnLine(n.vertex,n.tangent1,e),h=f.getClosestPointOnLine(n.vertex,n.tangent2,e),l=!0,d=!0;for(s=0;s<i.length;s++)s!=o&&(null!=(m=this.getHybridReciprocalVelocityObstacle(i[s]))&&m.contains(c)&&(l=!1),null!=m&&m.contains(c)&&(d=!1));if(l&&d?c.subtract(e).magnitudeSqrd()<h.subtract(e).magnitudeSqrd()?this._direction=c:this._direction=h:l?this._direction=c:d&&(this._direction=h),l||d)return this._position=this._position.add(this._direction.multiply(60*t/1e3)),void this.setColour(e)}var p=1/0,g=new a(0,0);for(s=0;s<100;s++){for(var y=new a(0,0).sample(1),_=1/0,v=0;v<i.length;v++){var m,x=i[v];if(null==(m=this.getHybridReciprocalVelocityObstacle(x))||m.contains(y)){var b=f.getFirstRayCircleIntersection(x.getPosition().add(x.getDirection()),this.Radius+x.Radius,this._position,y.subtract(x.getDirection()));b<_&&(_=b)}}var w=100/_+e.subtract(y).magnitude();w<p&&(p=w,g=y)}this._direction=g,this._position=this._position.add(this._direction.multiply(60*t/1e3)),this.setColour(e)}},i.prototype.getHybridReciprocalVelocityObstacle=function(t){var i=this.getDirection(),e=t.getDirection(),n=e,o=i.add(e).divide(2),r=t.getPosition().subtract(this._position),s=r.add(e),c=t.Radius+this.Radius,u=e.subtract(s),h=u.magnitude();if(h<c)return null;var l,d=Math.acos(c/h),p=Math.atan2(u.y,u.x),y=p+d,_=new a(s.x+c*Math.cos(y),s.y+c*Math.sin(y)),v=p-d,m=new a(s.x+c*Math.cos(v),s.y+c*Math.sin(v));return l=(r.x-e.x)*(i.y-e.y)-(r.y-e.y)*(i.x-e.x)>0?f.getLineLineIntersection(n,_,o,m):f.getLineLineIntersection(n,m,o,_),new g(l,_,m)},i.prototype.setColour=function(t){var i=t.subtract(this._direction).magnitude();this._colour=u.FromHsv((1-i)/3,1,1)},i}(c),w=function(){function t(){}return t.getAgent=function(t,i,e,n){switch(t){case"BasicAgent":return new l(i,e,n);case"StopAgent":return new p(i,e,n);case"VOAgent":return new _(i,e,n);case"RVOAgent":return new m(i,e,n);case"HRVOAgent":return new b(i,e,n);default:throw new Error('Unknown agent type "'+t+'"')}},t}(),P=function(){function t(){}return t.getConfiguration=function(t,i,e,n,o){switch(t){case"RandomToRandom":return this.RandomToRandom(i,e,n,o);case"RandomToLine":return this.RandomToLine(i,e,n,o);case"CircleToCircle":return this.CircleToCircle(i,e,n,o);case"GridToGrid":return this.GridToGrid(i,e,n,o);default:throw new Error('Unknown configuration type "'+t+'"')}},t.RandomToRandom=function(t,i,e,n){for(var o=[],r=this.poissonDiskSample(i,e,n,50).map((function(t){return t.subtract(new a(i/2,e/2))})),s=this.poissonDiskSample(i,e,n,50).map((function(t){return t.subtract(new a(i/2,e/2))})),c=0;c<n;c++){var u=w.getAgent(t,c,r[c],this.preferredVelocityFromGoalPosition(s[c]));o.push(u)}return o},t.RandomToLine=function(t,i,e,n){for(var o=[],r=this.poissonDiskSample(i,e,n,50).map((function(t){return t.subtract(new a(i/2,e/2))})),s=0;s<n;s++){var c=w.getAgent(t,s,r[s],this.preferredVelocityFromGoalPosition(new a(((s+1)/(n+1)-.5)*i,0)));o.push(c)}return o},t.CircleToCircle=function(t,i,e,n){for(var o=[],r=e/2-25,s=0;s<n;s++){var c=2*Math.PI*s/n,u=w.getAgent(t,s,new a(r*Math.cos(c),r*Math.sin(c)),this.preferredVelocityFromGoalPosition(new a(r*Math.cos(c+Math.PI),r*Math.sin(c+Math.PI))));o.push(u)}return o},t.GridToGrid=function(t,i,e,n){for(var o=[],r=Math.ceil(Math.sqrt(n/2)),s=90,c=30-i/2,u=-(r-1)/2*s,h=0;h<n;h++){var l=Math.floor(h/2),d=Math.floor(l/r),p=l%r;if(h%2==0){var f=w.getAgent(t,h,new a(c+(r-1-p)*s,u+d*s),this.preferredVelocityFromGoalPosition(new a(-c-p*s,u+d*s)));o.push(f)}else f=w.getAgent(t,h,new a(-c-(r-1-p)*s,u+d*s),this.preferredVelocityFromGoalPosition(new a(c+p*s,u+d*s))),o.push(f)}return o},t.preferredVelocityFromGoalPosition=function(t){return function(i){var e=t.subtract(i);return e.magnitudeSqrd()<1?e:e.normalise()}},t.poissonDiskSample=function(t,i,e,n){for(var o=[],r=function(){for(var e,r=!0;r;)r=!1,e=new a(t*Math.random(),i*Math.random()),o.forEach((function(t){e.subtract(t).magnitudeSqrd()<Math.pow(n,2)&&(r=!0)}));o.push(e)},s=0;s<e;s++)r();return o},t}(),O=document.getElementById("config"),M=document.getElementById("agentType"),R=document.getElementById("numberOfAgents"),D=document.getElementById("canvas"),S=document.getElementById("framerate"),C=document.getElementById("playButton"),I=document.getElementById("stepButton"),V=new o(new r(D),new s),A=!1;function T(){this.reconfigure();var t=0,i=0,e=0;window.requestAnimationFrame((function n(o){var r=o-t;t=o,A&&V.update(r),V.draw(),e++,o-i>=250&&(S.textContent="FPS: "+(1e3*e/(o-i)).toFixed(1),e=0,i=o),window.requestAnimationFrame(n)}))}function E(){(A=!A)?(C.textContent="Pause",I.disabled=!0):(C.textContent="Play",I.disabled=!1)}function G(){V.update(1e3/60)}function L(){var t;A&&this.playPause();var i=O.value,e=M.value,n=null!==(t=parseInt(R.value))&&void 0!==t?t:0;V.init(P.getConfiguration(i,e,D.width,D.height,n))}}},i={};function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{}};return t[n](o,o.exports,e),o.exports}return e.d=(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e(546)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9TaW11bGF0aW9uLnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL1JlbmRlcmVyMkQudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvQWdlbnRUcmVlLnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL1ZlY3RvcjJmLnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL0FnZW50LnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL0NvbG91ci50cyIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9hZ2VudHMvQmFzaWNBZ2VudC50cyIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9hZ2VudHMvU3RvcEFnZW50LnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL0dlb21ldHJ5LnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL1ZlbG9jaXR5T2JzdGFjbGUudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvYWdlbnRzL1ZPQWdlbnQudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvYWdlbnRzL1JWT0FnZW50LnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL2FnZW50cy9IUlZPQWdlbnQudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvQWdlbnRGYWN0b3J5LnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL0NvbmZpZ3VyYXRpb25GYWN0b3J5LnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL2RlbW8yZC50cyIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3Ivd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3Ivd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCJdLCJuYW1lcyI6WyJyZW5kZXJlciIsImFnZW50cyIsInRoaXMiLCJfcmVuZGVyZXIiLCJfYWdlbnRzIiwiaW5pdCIsInVwZGF0ZSIsImRlbHRhVCIsImZvckVhY2giLCJhZ2VudCIsImdldE5laWdoYm91cnNJblJhbmdlRXVjbGlkZWFuIiwiZ2V0QWxsIiwiZHJhdyIsImNsZWFyIiwiZHJhd0FnZW50cyIsImNhbnZhcyIsImNhbWVyYURpc3QiLCJtb3VzZURvd24iLCJldmVudCIsImRyYWciLCJvbGRYIiwicGFnZVgiLCJvbGRZIiwicGFnZVkiLCJtb3VzZVVwIiwicHJldmVudERlZmF1bHQiLCJtb3VzZU1vdmUiLCJ4UGFuIiwieVBhbiIsIm1vdXNlU2Nyb2xsIiwiZGVsdGFZIiwiY29uc29sZSIsImxvZyIsImNvbnRleHQiLCJnZXRDb250ZXh0Iiwid2lkdGgiLCJoZWlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0VHJhbnNmb3JtIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJzY2FsZUZhY3RvciIsInRyYW5zbGF0ZSIsInNjYWxlIiwiZHJhd0FnZW50IiwicG9zaXRpb24iLCJnZXRQb3NpdGlvbiIsImRpcmVjdGlvbiIsImdldERpcmVjdGlvbiIsImNvbG91ciIsImdldENvbG91ciIsImJlZ2luUGF0aCIsInN0cm9rZVN0eWxlIiwiciIsImciLCJiIiwibGluZVdpZHRoIiwiYXJjIiwieCIsInkiLCJSYWRpdXMiLCJNYXRoIiwiUEkiLCJtYWduaXR1ZGUiLCJtb3ZlVG8iLCJuZXdQb3MiLCJhZGQiLCJkaXZpZGUiLCJtdWx0aXBseSIsImxpbmVUbyIsInN0cm9rZSIsIl9yb290IiwiY29uc3RydWN0VHJlZSIsImdldE5laWdoYm91cnNJblJhbmdlUmVjdGlsaW5lYXIiLCJyYW5nZSIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJyYW5nZVNlYXJjaCIsImZpbHRlciIsIm90aGVyIiwiSWQiLCJzdWJ0cmFjdCIsIm1hZ25pdHVkZVNxcmQiLCJmdW4iLCJ4QXhpcyIsImxlbmd0aCIsIm1pZCIsImZsb29yIiwic29ydGVkIiwic29ydCIsImEiLCJsZWZ0Iiwic2xpY2UiLCJyaWdodCIsInJvb3QiLCJyZXMiLCJjb25jYXQiLCJwdXNoIiwiY29weSIsInYiLCJWZWN0b3IyZiIsInMiLCJkb3QiLCJzcXJ0Iiwibm9ybWFsaXNlIiwibSIsInNhbXBsZSIsIm1heFJhZGl1cyIsInJhZGl1cyIsInJhbmRvbSIsImFuZ2xlIiwiY29zIiwic2luIiwiaWQiLCJzdGFydFBvc2l0aW9uIiwiZ2V0UHJlZmVycmVkVmVsb2NpdHkiLCJfcG9zaXRpb24iLCJfZGlyZWN0aW9uIiwiX2dldFByZWZlcnJlZFZlbG9jaXR5IiwiX2lzRG9uZSIsImlzRG9uZSIsIkZyb21Ic3YiLCJoIiwiZnJhY3QiLCJQIiwiUSIsIlQiLCJXaGl0ZSIsIlJlZCIsIkdyZWVuIiwiQ29sb3VyIiwiX25laWdoYm91cnMiLCJnb2FsRGlyZWN0aW9uIiwiQWdlbnQiLCJfaXNTdHVjayIsIm5laWdoYm91cnMiLCJoZWFkaW5nIiwiaSIsImNvbGxpZGVzIiwiZ2V0Q2xvc2VzdFBvaW50T25MaW5lIiwibGluZVBvaW50IiwibGluZURpcmVjdGlvbiIsInBvaW50IiwiZGlzdGFuY2UiLCJnZXRGaXJzdFJheUNpcmNsZUludGVyc2VjdGlvbiIsImNlbnRyZSIsIm9yaWdpbiIsImRlbHRhIiwiYyIsImRpc2NyaW0iLCJJbmZpbml0eSIsImdldExpbmVMaW5lSW50ZXJzZWN0aW9uIiwicG9pbnQxIiwiZGlyZWN0aW9uMSIsInBvaW50MiIsImRpcmVjdGlvbjIiLCJkaWZmIiwiZGV0IiwidCIsInZlcnRleCIsInRhbmdlbnQxIiwidGFuZ2VudDIiLCJjb250YWlucyIsInZlbG9jaXR5IiwiZGV0ZXJtaW5hbnQxIiwiZGV0ZXJtaW5hbnQyIiwiX2NvbG91ciIsInByZWZlcnJlZFZlbG9jaXR5IiwiY29sbGlzaW9uIiwic2FmZSIsInZlbG9jaXR5T2JzdGFjbGUiLCJnZXRWZWxvY2l0eU9ic3RhY2xlIiwiR2VvbWV0cnkiLCJsZWZ0U2FmZSIsInJpZ2h0U2FmZSIsInNldENvbG91ciIsIm1pblBlbmFsdHkiLCJiZXN0VmVsb2NpdHkiLCJtaW5UaW1lVG9Db2xsaXNpb24iLCJqIiwidGltZVRvQ29sbGlzaW9uIiwicGVuYWx0eSIsInZlbG9jaXR5QiIsImRpc3QiLCJ0aGV0YSIsImFjb3MiLCJwaGkiLCJhdGFuMiIsImFuZ2xlMSIsImFuZ2xlMiIsIlZlbG9jaXR5T2JzdGFjbGUiLCJzdHJlc3MiLCJnZXRSZWNpcHJvY2FsVmVsb2NpdHlPYnN0YWNsZSIsInZlbG9jaXR5QSIsImdldEh5YnJpZFJlY2lwcm9jYWxWZWxvY2l0eU9ic3RhY2xlIiwidm9WZXJ0ZXgiLCJydm9WZXJ0ZXgiLCJwb3NpdGlvbkIiLCJnZXRBZ2VudCIsInR5cGUiLCJCYXNpY0FnZW50IiwiU3RvcEFnZW50IiwiVk9BZ2VudCIsIlJWT0FnZW50IiwiSFJWT0FnZW50IiwiRXJyb3IiLCJnZXRDb25maWd1cmF0aW9uIiwiYWdlbnRUeXBlIiwibnVtYmVyT2ZBZ2VudHMiLCJSYW5kb21Ub1JhbmRvbSIsIlJhbmRvbVRvTGluZSIsIkNpcmNsZVRvQ2lyY2xlIiwiR3JpZFRvR3JpZCIsInN0YXJ0UG9zaXRpb25zIiwicG9pc3NvbkRpc2tTYW1wbGUiLCJtYXAiLCJnb2FsUG9zaXRpb25zIiwiQWdlbnRGYWN0b3J5IiwicHJlZmVycmVkVmVsb2NpdHlGcm9tR29hbFBvc2l0aW9uIiwiX3dpZHRoIiwiX2hlaWdodCIsImdyaWRTaXplIiwiY2VpbCIsIm9mZnNldCIsImlkeCIsInJvdyIsImNvbCIsImdvYWxQb3NpdGlvbiIsInBvcyIsInhSYW5nZSIsInlSYW5nZSIsIm4iLCJ0aHJlc2hvbGQiLCJzYW1wbGVzIiwicmVzYW1wbGUiLCJjb25maWdTZWxlY3QiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYWdlbnRUeXBlU2VsZWN0IiwibnVtYmVyT2ZBZ2VudHNJbnB1dCIsImZyYW1lcmF0ZSIsInBsYXlCdXR0b24iLCJzdGVwQnV0dG9uIiwic2ltdWxhdGlvbiIsIlNpbXVsYXRpb24iLCJSZW5kZXJlcjJEIiwiQWdlbnRUcmVlIiwicGxheSIsInJlY29uZmlndXJlIiwibGFzdFJlbmRlciIsImxhc3RGUFMiLCJmcmFtZXMiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJsb29wIiwidGltZXN0YW1wIiwidGV4dENvbnRlbnQiLCJ0b0ZpeGVkIiwicGxheVBhdXNlIiwiZGlzYWJsZWQiLCJzdGVwIiwiY29uZmlnIiwidmFsdWUiLCJwYXJzZUludCIsIkNvbmZpZ3VyYXRpb25GYWN0b3J5IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciXSwibWFwcGluZ3MiOiJrSkFJQSxJLEVBQUEsYUFJRSxXQUFZQSxFQUFxQkMsR0FDL0JDLEtBQUtDLFVBQVlILEVBQ2pCRSxLQUFLRSxRQUFVSCxFQXVCbkIsT0FwQkUsWUFBQUksS0FBQSxTQUFLSixHQUNIQyxLQUFLRSxRQUFRQyxLQUFLSixJQUdwQixZQUFBSyxPQUFBLFNBQU9DLEdBQVAsV0FFRUwsS0FBS0UsUUFBUUksU0FBUSxTQUFDQyxHQUNwQkEsRUFBTUgsT0FDSkMsRUFDQSxFQUFLSCxRQUFRTSw4QkFBOEJELEVBSm5DLFNBUVpQLEtBQUtFLFFBQVFDLEtBQUtILEtBQUtFLFFBQVFPLFdBR2pDLFlBQUFDLEtBQUEsV0FDRVYsS0FBS0MsVUFBVVUsUUFDZlgsS0FBS0MsVUFBVVcsV0FBV1osS0FBS0UsVUFFbkMsRUE3QkEsR0NBQSxhQVlFLFdBQVlXLEdBQVosV0FGUSxLQUFBQyxXQUFhLElBMEViLEtBQUFDLFVBQVksU0FBQ0MsR0FDbkIsRUFBS0MsTUFBTyxFQUNaLEVBQUtDLEtBQU9GLEVBQU1HLE1BQ2xCLEVBQUtDLEtBQU9KLEVBQU1LLE9BR1osS0FBQUMsUUFBVSxTQUFDTixHQUNqQixFQUFLQyxNQUFPLEVBQ1pELEVBQU1PLGtCQUdBLEtBQUFDLFVBQVksU0FBQ1IsR0FDbkIsSUFBSyxFQUFLQyxLQUFNLE9BQU8sRUFFdkIsRUFBS1EsTUFBUVQsRUFBTUcsTUFBUSxFQUFLRCxLQUNoQyxFQUFLUSxNQUFRVixFQUFNSyxNQUFRLEVBQUtELEtBRWhDLEVBQUtGLEtBQU9GLEVBQU1HLE1BQ2xCLEVBQUtDLEtBQU9KLEVBQU1LLE9BR1osS0FBQU0sWUFBYyxTQUFDWCxHQUNyQixFQUFLRixZQUFjRSxFQUFNWSxPQUNyQixFQUFLZCxXQUFhLElBQ3BCLEVBQUtBLFdBQWEsR0FHcEJFLEVBQU1PLGlCQUNOTSxRQUFRQyxJQUFJLFdBbkdaOUIsS0FBS2EsT0FBU0EsRUFDZGIsS0FBSytCLFFBQVUvQixLQUFLYSxPQUFPbUIsV0FBVyxNQUN0Q2hDLEtBQUt5QixLQUFPekIsS0FBS2EsT0FBT29CLE1BQVEsRUFDaENqQyxLQUFLMEIsS0FBTzFCLEtBQUthLE9BQU9xQixPQUFTLEVBR2pDbEMsS0FBS2EsT0FBT3NCLGlCQUFpQixZQUFhbkMsS0FBS2UsV0FBVyxHQUMxRGYsS0FBS2EsT0FBT3NCLGlCQUFpQixVQUFXbkMsS0FBS3NCLFNBQVMsR0FDdER0QixLQUFLYSxPQUFPc0IsaUJBQWlCLFdBQVluQyxLQUFLc0IsU0FBUyxHQUN2RHRCLEtBQUthLE9BQU9zQixpQkFBaUIsWUFBYW5DLEtBQUt3QixXQUFXLEdBQzFEeEIsS0FBS2EsT0FBT3NCLGlCQUFpQixRQUFTbkMsS0FBSzJCLGFBQWEsR0EyRjVELE9BeEZFLFlBQUFoQixNQUFBLFdBRUVYLEtBQUsrQixRQUFRSyxhQUFhLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUN6Q3BDLEtBQUsrQixRQUFRTSxVQUFZLHFCQUN6QnJDLEtBQUsrQixRQUFRTyxTQUNYLEVBQ0EsRUFDQXRDLEtBQUsrQixRQUFRbEIsT0FBT29CLE1BQ3BCakMsS0FBSytCLFFBQVFsQixPQUFPcUIsU0FJeEIsWUFBQXRCLFdBQUEsU0FBV2IsR0FBWCxXQUNRd0MsRUFBYyxJQUFNdkMsS0FBS2MsV0FHL0JkLEtBQUsrQixRQUFRSyxhQUFhLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUN6Q3BDLEtBQUsrQixRQUFRUyxVQUFVeEMsS0FBS3lCLEtBQU16QixLQUFLMEIsTUFDdkMxQixLQUFLK0IsUUFBUVUsTUFBTUYsRUFBYUEsR0FHaEN2QyxLQUFLK0IsUUFBUU0sVUFBWSxrQkFDekJyQyxLQUFLK0IsUUFBUU8sU0FDa0IsS0FBNUJ0QyxLQUFLK0IsUUFBUWxCLE9BQU9vQixNQUNTLEtBQTdCakMsS0FBSytCLFFBQVFsQixPQUFPcUIsT0FDTyxJQUE1QmxDLEtBQUsrQixRQUFRbEIsT0FBT29CLE1BQ1MsSUFBN0JqQyxLQUFLK0IsUUFBUWxCLE9BQU9xQixRQUl0Qm5DLEVBQU9PLFNBQVEsU0FBQ0MsR0FDZCxFQUFLbUMsVUFBVW5DLE9BSVgsWUFBQW1DLFVBQVIsU0FBa0JuQyxHQUNoQixJQUFNb0MsRUFBV3BDLEVBQU1xQyxjQUNqQkMsRUFBWXRDLEVBQU11QyxlQUNsQkMsRUFBU3hDLEVBQU15QyxZQUVyQmhELEtBQUsrQixRQUFRa0IsWUFDYmpELEtBQUsrQixRQUFRbUIsWUFBYyxPQUFPSCxFQUFPSSxFQUFDLEtBQUtKLEVBQU9LLEVBQUMsS0FBS0wsRUFBT00sRUFBQyxJQUNwRXJELEtBQUsrQixRQUFRdUIsVUFBWSxFQUV6QnRELEtBQUsrQixRQUFRd0IsSUFBSVosRUFBU2EsRUFBR2IsRUFBU2MsRUFBR2xELEVBQU1tRCxPQUFRLEVBQUcsRUFBSUMsS0FBS0MsSUFFbkUsSUFBSUMsRUFBWWhCLEVBQVVnQixZQUMxQixHQUFrQixJQUFkQSxFQUFpQixDQUNuQjdELEtBQUsrQixRQUFRK0IsT0FBT25CLEVBQVNhLEVBQUdiLEVBQVNjLEdBQ3pDLElBQUlNLEVBQVNwQixFQUFTcUIsSUFDcEJuQixFQUFVb0IsT0FBT0osR0FBV0ssU0FBUzNELEVBQU1tRCxTQUU3QzFELEtBQUsrQixRQUFRb0MsT0FBT0osRUFBT1AsRUFBR08sRUFBT04sR0FHdkN6RCxLQUFLK0IsUUFBUXFDLFVBaUNqQixFQWxIQSxHQ0tBLDJCQStHQSxPQTNHRSxZQUFBakUsS0FBQSxTQUFLSixHQUNIQyxLQUFLRSxRQUFVSCxFQUNmQyxLQUFLcUUsTUFBUXJFLEtBQUtzRSxjQUFjdEUsS0FBS0UsU0FBUyxJQUdoRCxZQUFBTyxPQUFBLFdBQ0UsT0FBT1QsS0FBS0UsU0FHZCxZQUFBcUUsZ0NBQUEsU0FBZ0NoRSxFQUFjaUUsR0FDNUMsSUFBSUMsRUFBT2xFLEVBQU1xQyxjQUFjWSxFQUFJZ0IsRUFDL0JFLEVBQU9uRSxFQUFNcUMsY0FBY2EsRUFBSWUsRUFDL0JHLEVBQU9wRSxFQUFNcUMsY0FBY1ksRUFBSWdCLEVBQy9CSSxFQUFPckUsRUFBTXFDLGNBQWNhLEVBQUllLEVBR25DLE9BRGlCeEUsS0FBSzZFLFlBQVk3RSxLQUFLcUUsTUFBT0ksRUFBTUMsRUFBTUMsRUFBTUMsR0FBTSxHQUNwREUsUUFBTyxTQUFDQyxHQUFVLE9BQUFBLEVBQU1DLEtBQU96RSxFQUFNeUUsT0FHekQsWUFBQXhFLDhCQUFBLFNBQThCRCxFQUFjaUUsR0FFMUMsT0FEaUJ4RSxLQUFLdUUsZ0NBQWdDaEUsRUFBT2lFLEdBQzNDTSxRQUNoQixTQUFDQyxHQUNDLE9BQUF4RSxFQUFNcUMsY0FBY3FDLFNBQVNGLEVBQU1uQyxlQUFlc0MsaUJBQ2xELFNBQUFWLEVBQVMsT0FJZixZQUFBbEUsUUFBQSxTQUFRNkUsR0FDTm5GLEtBQUtFLFFBQVFJLFFBQVE2RSxJQUdmLFlBQUFiLGNBQVIsU0FBc0J2RSxFQUFpQnFGLEdBQ3JDLEdBQXNCLElBQWxCckYsRUFBT3NGLE9BQ1QsT0FBTyxLQUdULElBQUlDLEVBQU0zQixLQUFLNEIsTUFBTXhGLEVBQU9zRixPQUFTLEdBRWpDRyxFQUFTSixFQUNUckYsRUFBTzBGLE1BQUssU0FBQ0MsRUFBR3JDLEdBQU0sT0FBQXFDLEVBQUU5QyxjQUFjWSxFQUFJSCxFQUFFVCxjQUFjWSxLQUMxRHpELEVBQU8wRixNQUFLLFNBQUNDLEVBQUdyQyxHQUFNLE9BQUFxQyxFQUFFOUMsY0FBY2EsRUFBSUosRUFBRVQsY0FBY2EsS0FFMURrQyxFQUFPM0YsS0FBS3NFLGNBQWNrQixFQUFPSSxNQUFNLEVBQUdOLElBQU9GLEdBQ2pEUyxFQUFRN0YsS0FBS3NFLGNBQ2ZrQixFQUFPSSxNQUFNTixFQUFNLEVBQUd2RixFQUFPc0YsU0FDNUJELEdBR0gsTUFBTyxDQUFFN0UsTUFBT1IsRUFBT3VGLEdBQU1LLEtBQU1BLEVBQU1FLE1BQU9BLElBRzFDLFlBQUFoQixZQUFSLFNBQ0VpQixFQUNBckIsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQVEsR0FFQSxHQUFZLE1BQVJVLEVBQ0YsTUFBTyxHQUdULElBQUlDLEVBQWUsR0F5Q25CLE9BeENJWCxHQUVFVSxFQUFLdkYsTUFBTXFDLGNBQWNZLEdBQUttQixJQUNoQ29CLEVBQU1BLEVBQUlDLE9BQ1JoRyxLQUFLNkUsWUFBWWlCLEVBQUtELE1BQU9wQixFQUFNQyxFQUFNQyxFQUFNQyxHQUFPUSxLQUt0RFUsRUFBS3ZGLE1BQU1xQyxjQUFjWSxHQUFLaUIsSUFDaENzQixFQUFNQSxFQUFJQyxPQUNSaEcsS0FBSzZFLFlBQVlpQixFQUFLSCxLQUFNbEIsRUFBTUMsRUFBTUMsRUFBTUMsR0FBT1EsT0FLckRVLEVBQUt2RixNQUFNcUMsY0FBY2EsR0FBS21CLElBQ2hDbUIsRUFBTUEsRUFBSUMsT0FDUmhHLEtBQUs2RSxZQUFZaUIsRUFBS0QsTUFBT3BCLEVBQU1DLEVBQU1DLEVBQU1DLEdBQU9RLEtBS3REVSxFQUFLdkYsTUFBTXFDLGNBQWNhLEdBQUtpQixJQUNoQ3FCLEVBQU1BLEVBQUlDLE9BQ1JoRyxLQUFLNkUsWUFBWWlCLEVBQUtILEtBQU1sQixFQUFNQyxFQUFNQyxFQUFNQyxHQUFPUSxNQU96RFUsRUFBS3ZGLE1BQU1xQyxjQUFjWSxHQUFLaUIsR0FDOUJxQixFQUFLdkYsTUFBTXFDLGNBQWNhLEdBQUtpQixHQUM5Qm9CLEVBQUt2RixNQUFNcUMsY0FBY1ksR0FBS21CLEdBQzlCbUIsRUFBS3ZGLE1BQU1xQyxjQUFjYSxHQUFLbUIsR0FFOUJtQixFQUFJRSxLQUFLSCxFQUFLdkYsT0FHVHdGLEdBRVgsRUEvR0EsR0NUQSxhQUlFLFdBQVl2QyxFQUFXQyxHQUNyQnpELEtBQUt3RCxFQUFJQSxFQUNUeEQsS0FBS3lELEVBQUlBLEVBaURiLE9BOUNFLFlBQUF5QyxLQUFBLFNBQUtDLEdBQ0gsT0FBTyxJQUFJQyxFQUFTRCxFQUFFM0MsRUFBRzJDLEVBQUUxQyxJQUc3QixZQUFBTyxJQUFBLFNBQUltQyxHQUNGLE9BQU8sSUFBSUMsRUFBU3BHLEtBQUt3RCxFQUFJMkMsRUFBRTNDLEVBQUd4RCxLQUFLeUQsRUFBSTBDLEVBQUUxQyxJQUcvQyxZQUFBd0IsU0FBQSxTQUFTa0IsR0FDUCxPQUFPLElBQUlDLEVBQVNwRyxLQUFLd0QsRUFBSTJDLEVBQUUzQyxFQUFHeEQsS0FBS3lELEVBQUkwQyxFQUFFMUMsSUFHL0MsWUFBQVMsU0FBQSxTQUFTbUMsR0FDUCxPQUFPLElBQUlELEVBQVNwRyxLQUFLd0QsRUFBSTZDLEVBQUdyRyxLQUFLeUQsRUFBSTRDLElBRzNDLFlBQUFwQyxPQUFBLFNBQU9vQyxHQUNMLE9BQU8sSUFBSUQsRUFBU3BHLEtBQUt3RCxFQUFJNkMsRUFBR3JHLEtBQUt5RCxFQUFJNEMsSUFHM0MsWUFBQUMsSUFBQSxTQUFJSCxHQUNGLE9BQU9uRyxLQUFLd0QsRUFBSTJDLEVBQUUzQyxFQUFJeEQsS0FBS3lELEVBQUkwQyxFQUFFMUMsR0FHbkMsWUFBQXlCLGNBQUEsV0FDRSxPQUFPLFNBQUFsRixLQUFLd0QsRUFBSyxHQUFJLFNBQUF4RCxLQUFLeUQsRUFBSyxJQUdqQyxZQUFBSSxVQUFBLFdBQ0UsT0FBT0YsS0FBSzRDLEtBQUt2RyxLQUFLa0Ysa0JBR3hCLFlBQUFzQixVQUFBLFdBQ0UsSUFBSUMsRUFBSXpHLEtBQUs2RCxZQUNiLE9BQVksR0FBTDRDLEVBQVMsSUFBSUwsRUFBUyxFQUFHLEdBQUtwRyxLQUFLaUUsT0FBT3dDLElBR25ELFlBQUFDLE9BQUEsU0FBT0MsR0FFTCxJQUFJQyxFQUFTakQsS0FBSzRDLEtBQUs1QyxLQUFLa0QsVUFBWUYsRUFDcENHLEVBQVEsRUFBSW5ELEtBQUtDLEdBQUtELEtBQUtrRCxTQUMvQixPQUFPLElBQUlULEVBQ1RwRyxLQUFLd0QsRUFBSW9ELEVBQVNqRCxLQUFLb0QsSUFBSUQsR0FDM0I5RyxLQUFLeUQsRUFBSW1ELEVBQVNqRCxLQUFLcUQsSUFBSUYsS0FHakMsRUF2REEsR0NHQSxhQVNFLFdBQ0VHLEVBQ0FDLEVBQ0FDLEdBRUFuSCxLQUFLZ0YsR0FBS2lDLEVBQ1ZqSCxLQUFLMEQsT0FBUyxHQUVkMUQsS0FBS29ILFVBQVlGLEVBQ2pCbEgsS0FBS3FILFdBQWEsSUFBSWpCLEVBQVMsRUFBRyxHQUNsQ3BHLEtBQUtzSCxzQkFBd0JILEVBQzdCbkgsS0FBS3VILFNBQVUsRUFpQm5CLE9BZEUsWUFBQTNFLFlBQUEsV0FDRSxPQUFPNUMsS0FBS29ILFdBR2QsWUFBQXRFLGFBQUEsV0FDRSxPQUFPOUMsS0FBS3FILFlBR2QsWUFBQUcsT0FBQSxXQUNFLE9BQU94SCxLQUFLdUgsU0FLaEIsRUFyQ0EsR0NIQSwyQkFnREEsT0F6QlMsRUFBQUUsUUFBUCxTQUFlQyxFQUFXckIsRUFBV0YsR0FJbkMsSUFBTXdCLEdBRk5ELEdBQUssR0FFYS9ELEtBQUs0QixNQUFNbUMsR0FDdkJFLEVBQUl6QixHQUFLLEVBQUlFLEdBQ2J3QixFQUFJMUIsR0FBSyxFQUFJRSxFQUFJc0IsR0FDakJHLEVBQUkzQixHQUFLLEVBQUlFLEdBQUssRUFBSXNCLElBRTVCLE9BQUksR0FBS0QsR0FBS0EsRUFBSSxFQUNULENBQUV2RSxFQUFPLElBQUpnRCxFQUFTL0MsRUFBTyxJQUFKMEUsRUFBU3pFLEVBQU8sSUFBSnVFLEdBQzNCLEdBQUtGLEdBQUtBLEVBQUksRUFDaEIsQ0FBRXZFLEVBQU8sSUFBSjBFLEVBQVN6RSxFQUFPLElBQUorQyxFQUFTOUMsRUFBTyxJQUFKdUUsR0FDM0IsR0FBS0YsR0FBS0EsRUFBSSxFQUNoQixDQUFFdkUsRUFBTyxJQUFKeUUsRUFBU3hFLEVBQU8sSUFBSitDLEVBQVM5QyxFQUFPLElBQUp5RSxHQUMzQixHQUFLSixHQUFLQSxFQUFJLEVBQ2hCLENBQUV2RSxFQUFPLElBQUp5RSxFQUFTeEUsRUFBTyxJQUFKeUUsRUFBU3hFLEVBQU8sSUFBSjhDLEdBQzNCLEdBQUt1QixHQUFLQSxFQUFJLEVBQ2hCLENBQUV2RSxFQUFPLElBQUoyRSxFQUFTMUUsRUFBTyxJQUFKd0UsRUFBU3ZFLEVBQU8sSUFBSjhDLEdBQzNCLEdBQUt1QixHQUFLQSxFQUFJLEVBQ2hCLENBQUV2RSxFQUFPLElBQUpnRCxFQUFTL0MsRUFBTyxJQUFKd0UsRUFBU3ZFLEVBQU8sSUFBSndFLEdBRTdCLENBQUUxRSxFQUFHLEVBQUdDLEVBQUcsRUFBR0MsRUFBRyxJQXhDckIsRUFBQTBFLE1BQWdCLENBQ3JCNUUsRUFBRyxJQUNIQyxFQUFHLElBQ0hDLEVBQUcsS0FHRSxFQUFBMkUsSUFBYyxDQUNuQjdFLEVBQUcsSUFDSEMsRUFBRyxFQUNIQyxFQUFHLEdBR0UsRUFBQTRFLE1BQWdCLENBQ3JCOUUsRUFBRyxFQUNIQyxFQUFHLElBQ0hDLEVBQUcsR0E0QlAsRUFoREEsRywwVUNHQSwyQiwrQ0E2QkEsT0E3QmdDLE9BQzlCLFlBQUFMLFVBQUEsV0FDRSxPQUFJaEQsS0FBS3VILFFBQ0FXLEVBQU9ILE1BRVBHLEVBQU9ELE9BSWxCLFlBQUE3SCxPQUFBLFNBQU9DLEVBQWdCOEgsR0FDckIsSUFBSW5JLEtBQUt1SCxRQUFULENBSUEsSUFBTWEsRUFBZ0JwSSxLQUFLc0gsc0JBQXNCdEgsS0FBS29ILFdBQ2pDZ0IsRUFBY3ZFLFlBR1osR0FBbkJ1RSxFQUFjNUUsR0FBNkIsR0FBbkI0RSxFQUFjM0UsR0FNMUN6RCxLQUFLcUgsV0FBYWUsRUFDbEJwSSxLQUFLb0gsVUFBWXBILEtBQUtvSCxVQUFVcEQsSUFDOUJvRSxFQUFjbEUsU0FBbUIsR0FBVDdELEVBQWUsT0FQdkNMLEtBQUt1SCxTQUFVLElBVXJCLEVBN0JBLENBQWdDYyxHLGlXQ0NoQyxjQUdFLFdBQ0VwQixFQUNBQyxFQUNBQyxHQUhGLE1BS0UsWUFBTUYsRUFBSUMsRUFBZUMsSUFBcUIsSyxPQUM5QyxFQUFLbUIsVUFBVyxFLEVBbURwQixPQTVEK0IsT0FZN0IsWUFBQXRGLFVBQUEsV0FDRSxPQUFJaEQsS0FBS3VILFFBQ0FXLEVBQU9ILE1BQ0wvSCxLQUFLc0ksU0FDUEosRUFBT0YsSUFFUEUsRUFBT0QsT0FJbEIsWUFBQTdILE9BQUEsU0FBT0MsRUFBZ0JrSSxHQUNyQixJQUFJdkksS0FBS3VILFFBQVQsQ0FJQSxJQUFNYSxFQUFnQnBJLEtBQUtzSCxzQkFBc0J0SCxLQUFLb0gsV0FHdEQsR0FBdUIsR0FBbkJnQixFQUFjNUUsR0FBNkIsR0FBbkI0RSxFQUFjM0UsRUFBMUMsQ0FLQXpELEtBQUtxSCxXQUFhZSxFQUFjNUIsWUFDaEMsSUFBTWdDLEVBQVV4SSxLQUFLb0gsVUFBVXBELElBQUloRSxLQUFLcUgsV0FBV25ELFNBQVMsS0FHNURsRSxLQUFLc0ksVUFBVyxFQUNoQixJQUFLLElBQUlHLEVBQUksRUFBR0EsRUFBSUYsRUFBV2xELE9BQVFvRCxJQUNyQyxHQUFJekksS0FBSzBJLFNBQVNILEVBQVdFLEdBQUlELEdBRS9CLFlBREF4SSxLQUFLc0ksVUFBVyxHQU1wQnRJLEtBQUtxSCxXQUFhZSxFQUNsQnBJLEtBQUtvSCxVQUFZcEgsS0FBS29ILFVBQVVwRCxJQUM5QmhFLEtBQUtxSCxXQUFXbkQsU0FBbUIsR0FBVDdELEVBQWUsV0FuQnpDTCxLQUFLdUgsU0FBVSxJQXVCbkIsWUFBQW1CLFNBQUEsU0FBU25JLEVBQWNvQyxHQUNyQixPQUNFcEMsRUFBTXFDLGNBQWNxQyxTQUFTdEMsR0FBVXVDLGlCQUN0QzNFLEVBQU1tRCxPQUFTMUQsS0FBSzBELFNBQVduRCxFQUFNbUQsT0FBUzFELEtBQUswRCxTQUcxRCxFQTVEQSxDQUErQjJFLEdDRi9CLDJCQXNEQSxPQXJEUyxFQUFBTSxzQkFBUCxTQUNFQyxFQUNBQyxFQUNBQyxHQUVBLElBQU1qRyxFQUFZZ0csRUFBY3JDLFlBRTFCdUMsRUFEU0QsRUFBTTdELFNBQVMyRCxHQUNOdEMsSUFBSXpELEdBRTVCLE9BQU8rRixFQUFVNUUsSUFBSW5CLEVBQVVxQixTQUFTNkUsS0FHbkMsRUFBQUMsOEJBQVAsU0FDRUMsRUFDQXJDLEVBQ0FzQyxFQUNBckcsR0FFQSxJQUFNc0csRUFBUUQsRUFBT2pFLFNBQVNnRSxHQUV4QnZELEVBQUk3QyxFQUFVeUQsSUFBSXpELEdBQ2xCUSxFQUFJLEVBQUlSLEVBQVV5RCxJQUFJNkMsR0FDdEJDLEVBQUlELEVBQU03QyxJQUFJNkMsR0FBUyxTQUFBdkMsRUFBVSxHQUVqQ3lDLEVBQVUsU0FBQWhHLEVBQUssR0FBSSxFQUFJcUMsRUFBSTBELEVBRWpDLEdBQUlDLEVBQVUsRUFFWixPQUFPQyxJQUdULElBQU1QLElBQWMxRixFQUFJTSxLQUFLNEMsS0FBSzhDLElBQVksRUFBSzNELEVBRW5ELE9BQUlxRCxFQUFXLEVBRU5PLElBR0ZQLEdBR0YsRUFBQVEsd0JBQVAsU0FDRUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FFQSxJQUFNQyxFQUFPRixFQUFPekUsU0FBU3VFLEdBQ3ZCSyxFQUFNRixFQUFXbkcsRUFBSWlHLEVBQVdoRyxFQUFJa0csRUFBV2xHLEVBQUlnRyxFQUFXakcsRUFDOURzRyxHQUFLRixFQUFLbkcsRUFBSWtHLEVBQVduRyxFQUFJb0csRUFBS25HLEVBQUlrRyxFQUFXbEcsR0FBS29HLEVBRTVELE9BQU9MLEVBQU94RixJQUFJeUYsRUFBV3ZGLFNBQVM0RixLQUUxQyxFQXREQSxHQ0FBLGFBS0UsV0FBWUMsRUFBa0JDLEVBQW9CQyxHQUNoRGpLLEtBQUsrSixPQUFTQSxFQUNkL0osS0FBS2dLLFNBQVdBLEVBQ2hCaEssS0FBS2lLLFNBQVdBLEVBZ0JwQixPQWJFLFlBQUFDLFNBQUEsU0FBU0MsR0FFUCxJQUFNQyxHQUNIcEssS0FBS2dLLFNBQVN4RyxFQUFJeEQsS0FBSytKLE9BQU92RyxJQUFNMkcsRUFBUzFHLEVBQUl6RCxLQUFLK0osT0FBT3RHLElBQzdEekQsS0FBS2dLLFNBQVN2RyxFQUFJekQsS0FBSytKLE9BQU90RyxJQUFNMEcsRUFBUzNHLEVBQUl4RCxLQUFLK0osT0FBT3ZHLEdBRzFENkcsR0FDSHJLLEtBQUtpSyxTQUFTekcsRUFBSXhELEtBQUsrSixPQUFPdkcsSUFBTTJHLEVBQVMxRyxFQUFJekQsS0FBSytKLE9BQU90RyxJQUM3RHpELEtBQUtpSyxTQUFTeEcsRUFBSXpELEtBQUsrSixPQUFPdEcsSUFBTTBHLEVBQVMzRyxFQUFJeEQsS0FBSytKLE9BQU92RyxHQUVoRSxPQUFPNEcsRUFBZSxHQUFLQyxFQUFlLEdBRTlDLEVBeEJBLEcsaVdDSUEsY0FHRSxXQUNFcEQsRUFDQUMsRUFDQUMsR0FIRixNQUtFLFlBQU1GLEVBQUlDLEVBQWVDLElBQXFCLEssT0FDOUMsRUFBS21ELFFBQVVwQyxFQUFPRCxNLEVBaU0xQixPQTFNNkIsT0FZM0IsWUFBQWpGLFVBQUEsV0FDRSxPQUFPaEQsS0FBS3NLLFNBR2QsWUFBQWxLLE9BQUEsU0FBT0MsRUFBZ0JrSSxHQUNyQixJQUFJdkksS0FBS3VILFFBQVQsQ0FJQSxJQUFNZ0QsRUFBb0J2SyxLQUFLc0gsc0JBQXNCdEgsS0FBS29ILFdBRzFELEdBQTJCLEdBQXZCbUQsRUFBa0IvRyxHQUFpQyxHQUF2QitHLEVBQWtCOUcsRUFJaEQsT0FIQXpELEtBQUt1SCxTQUFVLEVBQ2Z2SCxLQUFLcUgsV0FBYSxJQUFJakIsRUFBUyxFQUFHLFFBQ2xDcEcsS0FBS3NLLFFBQVVwQyxFQUFPSCxPQVF4QixJQUpBLElBQ0l5QyxFQUNBakssRUFGQWtLLEdBQU8sRUFJRmhDLEVBQUksRUFBR0EsRUFBSUYsRUFBV2xELE9BQVFvRCxJQUdyQyxHQUNzQixPQUZoQmlDLEVBQW1CMUssS0FBSzJLLG9CQUFvQnBDLEVBQVdFLE1BRzNEaUMsRUFBaUJSLFNBQVNLLEdBQzFCLENBQ0FFLEdBQU8sRUFDUEQsRUFBWUUsRUFDWm5LLEVBQVFrSSxFQUNSLE1BS0osR0FBSWdDLEVBTUYsT0FMQXpLLEtBQUtxSCxXQUFha0QsRUFDbEJ2SyxLQUFLb0gsVUFBWXBILEtBQUtvSCxVQUFVcEQsSUFDOUJoRSxLQUFLcUgsV0FBV25ELFNBQW1CLEdBQVQ3RCxFQUFlLFdBRTNDTCxLQUFLc0ssUUFBVXBDLEVBQU9ELE9BS3hCLEdBQWlCLE1BQWJ1QyxFQUFtQixDQUNyQixJQUFNN0UsRUFBT2lGLEVBQVNqQyxzQkFDcEI2QixFQUFVVCxPQUNWUyxFQUFVUixTQUNWTyxHQUdJMUUsRUFBUStFLEVBQVNqQyxzQkFDckI2QixFQUFVVCxPQUNWUyxFQUFVUCxTQUNWTSxHQUdFTSxHQUFXLEVBQ1hDLEdBQVksRUFFaEIsSUFBU3JDLEVBQUksRUFBR0EsRUFBSUYsRUFBV2xELE9BQVFvRCxJQUNqQ0EsR0FBS2xJLElBRWlCLE9BRGxCbUssRUFBbUIxSyxLQUFLMkssb0JBQW9CcEMsRUFBV0UsTUFDN0JpQyxFQUFpQlIsU0FBU3ZFLEtBQ3hEa0YsR0FBVyxHQUVXLE1BQXBCSCxHQUE0QkEsRUFBaUJSLFNBQVN2RSxLQUN4RG1GLEdBQVksSUFxQmxCLEdBaEJJRCxHQUFZQyxFQUdabkYsRUFBS1YsU0FBU3NGLEdBQW1CckYsZ0JBQ2pDVyxFQUFNWixTQUFTc0YsR0FBbUJyRixnQkFFbENsRixLQUFLcUgsV0FBYTFCLEVBRWxCM0YsS0FBS3FILFdBQWF4QixFQUVYZ0YsRUFDVDdLLEtBQUtxSCxXQUFhMUIsRUFDVG1GLElBQ1Q5SyxLQUFLcUgsV0FBYXhCLEdBR2hCZ0YsR0FBWUMsRUFLZCxPQUpBOUssS0FBS29ILFVBQVlwSCxLQUFLb0gsVUFBVXBELElBQzlCaEUsS0FBS3FILFdBQVduRCxTQUFtQixHQUFUN0QsRUFBZSxXQUUzQ0wsS0FBSytLLFVBQVVSLEdBTW5CLElBRUlTLEVBQWExQixJQUNiMkIsRUFBZSxJQUFJN0UsRUFBUyxFQUFHLEdBRW5DLElBQVNxQyxFQUFJLEVBQUdBLEVBTEEsSUFLYUEsSUFBSyxDQU1oQyxJQUpBLElBQU0vQixFQUFTLElBQUlOLEVBQVMsRUFBRyxHQUFHTSxPQUFPLEdBQ3JDd0UsRUFBcUI1QixJQUdoQjZCLEVBQUksRUFBR0EsRUFBSTVDLEVBQVdsRCxPQUFROEYsSUFBSyxDQUMxQyxJQUNNVCxFQURBckgsRUFBSWtGLEVBQVc0QyxHQUdyQixHQUF3QixPQUZsQlQsRUFBbUIxSyxLQUFLMkssb0JBQW9CdEgsS0FFbEJxSCxFQUFpQlIsU0FBU3hELEdBQVMsQ0FDakUsSUFBTTBFLEVBQWtCUixFQUFTNUIsOEJBQy9CM0YsRUFBRVQsY0FBY29CLElBQUlYLEVBQUVQLGdCQUN0QjlDLEtBQUswRCxPQUFTTCxFQUFFSyxPQUNoQjFELEtBQUtvSCxVQUNMVixFQUFPekIsU0FBUzVCLEVBQUVQLGlCQUdoQnNJLEVBQWtCRixJQUNwQkEsRUFBcUJFLElBTTNCLElBQU1DLEVBN0JFLElBOEJGSCxFQUFxQlgsRUFBa0J0RixTQUFTeUIsR0FBUTdDLFlBRTFEd0gsRUFBVUwsSUFDWkEsRUFBYUssRUFDYkosRUFBZXZFLEdBSW5CMUcsS0FBS3FILFdBQWE0RCxFQUNsQmpMLEtBQUtvSCxVQUFZcEgsS0FBS29ILFVBQVVwRCxJQUM5QmhFLEtBQUtxSCxXQUFXbkQsU0FBbUIsR0FBVDdELEVBQWUsTUFFM0NMLEtBQUsrSyxVQUFVUixLQUlULFlBQUFJLG9CQUFSLFNBQTRCdEgsR0FDMUIsSUFBTWlJLEVBQVlqSSxFQUFFUCxlQU1kbUcsRUFIWTVGLEVBQUVULGNBQWNxQyxTQUFTakYsS0FBS29ILFdBR3ZCcEQsSUFBSXNILEdBQ3ZCMUUsRUFBU3ZELEVBQUVLLE9BQVMxRCxLQUFLMEQsT0FHekJrRyxFQUFPMEIsRUFBVXJHLFNBQVNnRSxHQUMxQnNDLEVBQU8zQixFQUFLL0YsWUFDbEIsR0FBSTBILEVBQU8zRSxFQUNULE9BQU8sS0FHVCxJQUFNNEUsRUFBUTdILEtBQUs4SCxLQUFLN0UsRUFBUzJFLEdBQzNCRyxFQUFNL0gsS0FBS2dJLE1BQU0vQixFQUFLbkcsRUFBR21HLEVBQUtwRyxHQUc5Qm9JLEVBQVNGLEVBQU1GLEVBQ2Z4QixFQUFXLElBQUk1RCxFQUNuQjZDLEVBQU96RixFQUFJb0QsRUFBU2pELEtBQUtvRCxJQUFJNkUsR0FDN0IzQyxFQUFPeEYsRUFBSW1ELEVBQVNqRCxLQUFLcUQsSUFBSTRFLElBR3pCQyxFQUFTSCxFQUFNRixFQUNmdkIsRUFBVyxJQUFJN0QsRUFDbkI2QyxFQUFPekYsRUFBSW9ELEVBQVNqRCxLQUFLb0QsSUFBSThFLEdBQzdCNUMsRUFBT3hGLEVBQUltRCxFQUFTakQsS0FBS3FELElBQUk2RSxJQUkvQixPQUFPLElBQUlDLEVBQWlCUixFQUFXdEIsRUFBVUMsSUFHM0MsWUFBQWMsVUFBUixTQUFrQlIsR0FDaEIsSUFBTXdCLEVBQVN4QixFQUFrQnRGLFNBQVNqRixLQUFLcUgsWUFBWXhELFlBQzNEN0QsS0FBS3NLLFFBQVVwQyxFQUFPVCxTQUFTLEVBQUlzRSxHQUFVLEVBQUcsRUFBRyxJQUV2RCxFQTFNQSxDQUE2QjFELEcsaVdDQTdCLGNBR0UsV0FDRXBCLEVBQ0FDLEVBQ0FDLEdBSEYsTUFLRSxZQUFNRixFQUFJQyxFQUFlQyxJQUFxQixLLE9BQzlDLEVBQUttRCxRQUFVcEMsRUFBT0QsTSxFQXVNMUIsT0FoTjhCLE9BWTVCLFlBQUFqRixVQUFBLFdBQ0UsT0FBT2hELEtBQUtzSyxTQUdkLFlBQUFsSyxPQUFBLFNBQU9DLEVBQWdCa0ksR0FDckIsSUFBSXZJLEtBQUt1SCxRQUFULENBSUEsSUFBTWdELEVBQW9CdkssS0FBS3NILHNCQUFzQnRILEtBQUtvSCxXQUcxRCxHQUEyQixHQUF2Qm1ELEVBQWtCL0csR0FBaUMsR0FBdkIrRyxFQUFrQjlHLEVBSWhELE9BSEF6RCxLQUFLdUgsU0FBVSxFQUNmdkgsS0FBS3FILFdBQWEsSUFBSWpCLEVBQVMsRUFBRyxRQUNsQ3BHLEtBQUtzSyxRQUFVcEMsRUFBT0gsT0FReEIsSUFKQSxJQUNJeUMsRUFDQWpLLEVBRkFrSyxHQUFPLEVBSUZoQyxFQUFJLEVBQUdBLEVBQUlGLEVBQVdsRCxPQUFRb0QsSUFLckMsR0FDc0IsT0FKaEJpQyxFQUFtQjFLLEtBQUtnTSw4QkFDNUJ6RCxFQUFXRSxNQUlYaUMsRUFBaUJSLFNBQVNLLEdBQzFCLENBQ0FFLEdBQU8sRUFDUEQsRUFBWUUsRUFDWm5LLEVBQVFrSSxFQUNSLE1BS0osR0FBSWdDLEVBTUYsT0FMQXpLLEtBQUtxSCxXQUFha0QsRUFDbEJ2SyxLQUFLb0gsVUFBWXBILEtBQUtvSCxVQUFVcEQsSUFDOUJoRSxLQUFLcUgsV0FBV25ELFNBQW1CLEdBQVQ3RCxFQUFlLFdBRTNDTCxLQUFLc0ssUUFBVXBDLEVBQU9ELE9BS3hCLEdBQWlCLE1BQWJ1QyxFQUFtQixDQUNyQixJQUFNN0UsRUFBT2lGLEVBQVNqQyxzQkFDcEI2QixFQUFVVCxPQUNWUyxFQUFVUixTQUNWTyxHQUdJMUUsRUFBUStFLEVBQVNqQyxzQkFDckI2QixFQUFVVCxPQUNWUyxFQUFVUCxTQUNWTSxHQUdFTSxHQUFXLEVBQ1hDLEdBQVksRUFFaEIsSUFBU3JDLEVBQUksRUFBR0EsRUFBSUYsRUFBV2xELE9BQVFvRCxJQUNqQ0EsR0FBS2xJLElBSWlCLE9BSGxCbUssRUFBbUIxSyxLQUFLZ00sOEJBQzVCekQsRUFBV0UsTUFFbUJpQyxFQUFpQlIsU0FBU3ZFLEtBQ3hEa0YsR0FBVyxHQUVXLE1BQXBCSCxHQUE0QkEsRUFBaUJSLFNBQVN2RSxLQUN4RG1GLEdBQVksSUFxQmxCLEdBaEJJRCxHQUFZQyxFQUdabkYsRUFBS1YsU0FBU3NGLEdBQW1CckYsZ0JBQ2pDVyxFQUFNWixTQUFTc0YsR0FBbUJyRixnQkFFbENsRixLQUFLcUgsV0FBYTFCLEVBRWxCM0YsS0FBS3FILFdBQWF4QixFQUVYZ0YsRUFDVDdLLEtBQUtxSCxXQUFhMUIsRUFDVG1GLElBQ1Q5SyxLQUFLcUgsV0FBYXhCLEdBR2hCZ0YsR0FBWUMsRUFLZCxPQUpBOUssS0FBS29ILFVBQVlwSCxLQUFLb0gsVUFBVXBELElBQzlCaEUsS0FBS3FILFdBQVduRCxTQUFtQixHQUFUN0QsRUFBZSxXQUUzQ0wsS0FBSytLLFVBQVVSLEdBTW5CLElBRUlTLEVBQWExQixJQUNiMkIsRUFBZSxJQUFJN0UsRUFBUyxFQUFHLEdBRW5DLElBQVNxQyxFQUFJLEVBQUdBLEVBTEEsSUFLYUEsSUFBSyxDQU1oQyxJQUpBLElBQU0vQixFQUFTLElBQUlOLEVBQVMsRUFBRyxHQUFHTSxPQUFPLEdBQ3JDd0UsRUFBcUI1QixJQUdoQjZCLEVBQUksRUFBR0EsRUFBSTVDLEVBQVdsRCxPQUFROEYsSUFBSyxDQUMxQyxJQUNNVCxFQURBckgsRUFBSWtGLEVBQVc0QyxHQUdyQixHQUF3QixPQUZsQlQsRUFBbUIxSyxLQUFLZ00sOEJBQThCM0ksS0FFNUJxSCxFQUFpQlIsU0FBU3hELEdBQVMsQ0FDakUsSUFBTTBFLEVBQWtCUixFQUFTNUIsOEJBQy9CM0YsRUFBRVQsY0FBY29CLElBQUlYLEVBQUVQLGdCQUN0QjlDLEtBQUswRCxPQUFTTCxFQUFFSyxPQUNoQjFELEtBQUtvSCxVQUNMVixFQUFPekIsU0FBUzVCLEVBQUVQLGlCQUdoQnNJLEVBQWtCRixJQUNwQkEsRUFBcUJFLElBTTNCLElBQU1DLEVBN0JFLElBOEJGSCxFQUFxQlgsRUFBa0J0RixTQUFTeUIsR0FBUTdDLFlBRTFEd0gsRUFBVUwsSUFDWkEsRUFBYUssRUFDYkosRUFBZXZFLEdBSW5CMUcsS0FBS3FILFdBQWE0RCxFQUNsQmpMLEtBQUtvSCxVQUFZcEgsS0FBS29ILFVBQVVwRCxJQUM5QmhFLEtBQUtxSCxXQUFXbkQsU0FBbUIsR0FBVDdELEVBQWUsTUFFM0NMLEtBQUsrSyxVQUFVUixLQUlULFlBQUF5Qiw4QkFBUixTQUFzQzNJLEdBQ3BDLElBQU00SSxFQUFZak0sS0FBSzhDLGVBQ2pCd0ksRUFBWWpJLEVBQUVQLGVBQ2RpSCxFQUFTa0MsRUFBVWpJLElBQUlzSCxHQUFXckgsT0FBTyxHQU16Q2dGLEVBSFk1RixFQUFFVCxjQUFjcUMsU0FBU2pGLEtBQUtvSCxXQUd2QnBELElBQUlzSCxHQUN2QjFFLEVBQVN2RCxFQUFFSyxPQUFTMUQsS0FBSzBELE9BR3pCa0csRUFBTzBCLEVBQVVyRyxTQUFTZ0UsR0FDMUJzQyxFQUFPM0IsRUFBSy9GLFlBQ2xCLEdBQUkwSCxFQUFPM0UsRUFDVCxPQUFPLEtBR1QsSUFBTTRFLEVBQVE3SCxLQUFLOEgsS0FBSzdFLEVBQVMyRSxHQUMzQkcsRUFBTS9ILEtBQUtnSSxNQUFNL0IsRUFBS25HLEVBQUdtRyxFQUFLcEcsR0FHOUJvSSxFQUFTRixFQUFNRixFQUNmeEIsRUFBVyxJQUFJNUQsRUFDbkI2QyxFQUFPekYsRUFBSW9ELEVBQVNqRCxLQUFLb0QsSUFBSTZFLEdBQzdCM0MsRUFBT3hGLEVBQUltRCxFQUFTakQsS0FBS3FELElBQUk0RSxJQUd6QkMsRUFBU0gsRUFBTUYsRUFDZnZCLEVBQVcsSUFBSTdELEVBQ25CNkMsRUFBT3pGLEVBQUlvRCxFQUFTakQsS0FBS29ELElBQUk4RSxHQUM3QjVDLEVBQU94RixFQUFJbUQsRUFBU2pELEtBQUtxRCxJQUFJNkUsSUFJL0IsT0FBTyxJQUFJQyxFQUFpQi9CLEVBQVFDLEVBQVVDLElBR3hDLFlBQUFjLFVBQVIsU0FBa0JSLEdBQ2hCLElBQU13QixFQUFTeEIsRUFBa0J0RixTQUFTakYsS0FBS3FILFlBQVl4RCxZQUMzRDdELEtBQUtzSyxRQUFVcEMsRUFBT1QsU0FBUyxFQUFJc0UsR0FBVSxFQUFHLEVBQUcsSUFFdkQsRUFoTkEsQ0FBOEIxRCxHLGlXQ0E5QixjQUdFLFdBQ0VwQixFQUNBQyxFQUNBQyxHQUhGLE1BS0UsWUFBTUYsRUFBSUMsRUFBZUMsSUFBcUIsSyxPQUM5QyxFQUFLbUQsUUFBVXBDLEVBQU9ELE0sRUFxTzFCLE9BOU8rQixPQVk3QixZQUFBakYsVUFBQSxXQUNFLE9BQU9oRCxLQUFLc0ssU0FHZCxZQUFBbEssT0FBQSxTQUFPQyxFQUFnQmtJLEdBQ3JCLElBQUl2SSxLQUFLdUgsUUFBVCxDQUlBLElBQU1nRCxFQUFvQnZLLEtBQUtzSCxzQkFBc0J0SCxLQUFLb0gsV0FHMUQsR0FBMkIsR0FBdkJtRCxFQUFrQi9HLEdBQWlDLEdBQXZCK0csRUFBa0I5RyxFQUloRCxPQUhBekQsS0FBS3VILFNBQVUsRUFDZnZILEtBQUtxSCxXQUFhLElBQUlqQixFQUFTLEVBQUcsUUFDbENwRyxLQUFLc0ssUUFBVXBDLEVBQU9ILE9BUXhCLElBSkEsSUFDSXlDLEVBQ0FqSyxFQUZBa0ssR0FBTyxFQUlGaEMsRUFBSSxFQUFHQSxFQUFJRixFQUFXbEQsT0FBUW9ELElBS3JDLEdBQ3NCLE9BSmhCaUMsRUFBbUIxSyxLQUFLa00sb0NBQzVCM0QsRUFBV0UsTUFJWGlDLEVBQWlCUixTQUFTSyxHQUMxQixDQUNBRSxHQUFPLEVBQ1BELEVBQVlFLEVBQ1puSyxFQUFRa0ksRUFDUixNQUtKLEdBQUlnQyxFQU1GLE9BTEF6SyxLQUFLcUgsV0FBYWtELEVBQ2xCdkssS0FBS29ILFVBQVlwSCxLQUFLb0gsVUFBVXBELElBQzlCaEUsS0FBS3FILFdBQVduRCxTQUFtQixHQUFUN0QsRUFBZSxXQUUzQ0wsS0FBS3NLLFFBQVVwQyxFQUFPRCxPQUt4QixHQUFpQixNQUFidUMsRUFBbUIsQ0FDckIsSUFBTTdFLEVBQU9pRixFQUFTakMsc0JBQ3BCNkIsRUFBVVQsT0FDVlMsRUFBVVIsU0FDVk8sR0FHSTFFLEVBQVErRSxFQUFTakMsc0JBQ3JCNkIsRUFBVVQsT0FDVlMsRUFBVVAsU0FDVk0sR0FHRU0sR0FBVyxFQUNYQyxHQUFZLEVBRWhCLElBQVNyQyxFQUFJLEVBQUdBLEVBQUlGLEVBQVdsRCxPQUFRb0QsSUFDakNBLEdBQUtsSSxJQUlpQixPQUhsQm1LLEVBQW1CMUssS0FBS2tNLG9DQUM1QjNELEVBQVdFLE1BRW1CaUMsRUFBaUJSLFNBQVN2RSxLQUN4RGtGLEdBQVcsR0FFVyxNQUFwQkgsR0FBNEJBLEVBQWlCUixTQUFTdkUsS0FDeERtRixHQUFZLElBcUJsQixHQWhCSUQsR0FBWUMsRUFHWm5GLEVBQUtWLFNBQVNzRixHQUFtQnJGLGdCQUNqQ1csRUFBTVosU0FBU3NGLEdBQW1CckYsZ0JBRWxDbEYsS0FBS3FILFdBQWExQixFQUVsQjNGLEtBQUtxSCxXQUFheEIsRUFFWGdGLEVBQ1Q3SyxLQUFLcUgsV0FBYTFCLEVBQ1RtRixJQUNUOUssS0FBS3FILFdBQWF4QixHQUdoQmdGLEdBQVlDLEVBS2QsT0FKQTlLLEtBQUtvSCxVQUFZcEgsS0FBS29ILFVBQVVwRCxJQUM5QmhFLEtBQUtxSCxXQUFXbkQsU0FBbUIsR0FBVDdELEVBQWUsV0FFM0NMLEtBQUsrSyxVQUFVUixHQU1uQixJQUVJUyxFQUFhMUIsSUFDYjJCLEVBQWUsSUFBSTdFLEVBQVMsRUFBRyxHQUVuQyxJQUFTcUMsRUFBSSxFQUFHQSxFQUxBLElBS2FBLElBQUssQ0FNaEMsSUFKQSxJQUFNL0IsRUFBUyxJQUFJTixFQUFTLEVBQUcsR0FBR00sT0FBTyxHQUNyQ3dFLEVBQXFCNUIsSUFHaEI2QixFQUFJLEVBQUdBLEVBQUk1QyxFQUFXbEQsT0FBUThGLElBQUssQ0FDMUMsSUFDTVQsRUFEQXJILEVBQUlrRixFQUFXNEMsR0FHckIsR0FBd0IsT0FGbEJULEVBQW1CMUssS0FBS2tNLG9DQUFvQzdJLEtBRWxDcUgsRUFBaUJSLFNBQVN4RCxHQUFTLENBQ2pFLElBQU0wRSxFQUFrQlIsRUFBUzVCLDhCQUMvQjNGLEVBQUVULGNBQWNvQixJQUFJWCxFQUFFUCxnQkFDdEI5QyxLQUFLMEQsT0FBU0wsRUFBRUssT0FDaEIxRCxLQUFLb0gsVUFDTFYsRUFBT3pCLFNBQVM1QixFQUFFUCxpQkFHaEJzSSxFQUFrQkYsSUFDcEJBLEVBQXFCRSxJQU0zQixJQUFNQyxFQTdCRSxJQThCRkgsRUFBcUJYLEVBQWtCdEYsU0FBU3lCLEdBQVE3QyxZQUUxRHdILEVBQVVMLElBQ1pBLEVBQWFLLEVBQ2JKLEVBQWV2RSxHQUluQjFHLEtBQUtxSCxXQUFhNEQsRUFDbEJqTCxLQUFLb0gsVUFBWXBILEtBQUtvSCxVQUFVcEQsSUFDOUJoRSxLQUFLcUgsV0FBV25ELFNBQW1CLEdBQVQ3RCxFQUFlLE1BRTNDTCxLQUFLK0ssVUFBVVIsS0FJVCxZQUFBMkIsb0NBQVIsU0FDRTdJLEdBRUEsSUFBTTRJLEVBQVlqTSxLQUFLOEMsZUFDakJ3SSxFQUFZakksRUFBRVAsZUFHZHFKLEVBQVdiLEVBQ1hjLEVBQVlILEVBQVVqSSxJQUFJc0gsR0FBV3JILE9BQU8sR0FHNUNvSSxFQUFZaEosRUFBRVQsY0FBY3FDLFNBQVNqRixLQUFLb0gsV0FHMUM2QixFQUFTb0QsRUFBVXJJLElBQUlzSCxHQUN2QjFFLEVBQVN2RCxFQUFFSyxPQUFTMUQsS0FBSzBELE9BR3pCa0csRUFBTzBCLEVBQVVyRyxTQUFTZ0UsR0FDMUJzQyxFQUFPM0IsRUFBSy9GLFlBQ2xCLEdBQUkwSCxFQUFPM0UsRUFDVCxPQUFPLEtBR1QsSUFzQkltRCxFQXRCRXlCLEVBQVE3SCxLQUFLOEgsS0FBSzdFLEVBQVMyRSxHQUMzQkcsRUFBTS9ILEtBQUtnSSxNQUFNL0IsRUFBS25HLEVBQUdtRyxFQUFLcEcsR0FHOUJvSSxFQUFTRixFQUFNRixFQUNmeEIsRUFBVyxJQUFJNUQsRUFDbkI2QyxFQUFPekYsRUFBSW9ELEVBQVNqRCxLQUFLb0QsSUFBSTZFLEdBQzdCM0MsRUFBT3hGLEVBQUltRCxFQUFTakQsS0FBS3FELElBQUk0RSxJQUd6QkMsRUFBU0gsRUFBTUYsRUFDZnZCLEVBQVcsSUFBSTdELEVBQ25CNkMsRUFBT3pGLEVBQUlvRCxFQUFTakQsS0FBS29ELElBQUk4RSxHQUM3QjVDLEVBQU94RixFQUFJbUQsRUFBU2pELEtBQUtxRCxJQUFJNkUsSUE2Qi9CLE9BakJFOUIsR0FQQ3NDLEVBQVU3SSxFQUFJOEgsRUFBVTlILElBQU15SSxFQUFVeEksRUFBSTZILEVBQVU3SCxJQUN0RDRJLEVBQVU1SSxFQUFJNkgsRUFBVTdILElBQU13SSxFQUFVekksRUFBSThILEVBQVU5SCxHQUk5QyxFQUVBb0gsRUFBU3JCLHdCQUNoQjRDLEVBQ0FuQyxFQUNBb0MsRUFDQW5DLEdBSU9XLEVBQVNyQix3QkFDaEI0QyxFQUNBbEMsRUFDQW1DLEVBQ0FwQyxHQUtHLElBQUk4QixFQUFpQi9CLEVBQVFDLEVBQVVDLElBR3hDLFlBQUFjLFVBQVIsU0FBa0JSLEdBQ2hCLElBQU13QixFQUFTeEIsRUFBa0J0RixTQUFTakYsS0FBS3FILFlBQVl4RCxZQUMzRDdELEtBQUtzSyxRQUFVcEMsRUFBT1QsU0FBUyxFQUFJc0UsR0FBVSxFQUFHLEVBQUcsSUFFdkQsRUE5T0EsQ0FBK0IxRCxHQ0UvQiwyQkFzQkEsT0FyQlMsRUFBQWlFLFNBQVAsU0FDRUMsRUFDQXRGLEVBQ0FDLEVBQ0FDLEdBRUEsT0FBUW9GLEdBQ04sSUFBSyxhQUNILE9BQU8sSUFBSUMsRUFBV3ZGLEVBQUlDLEVBQWVDLEdBQzNDLElBQUssWUFDSCxPQUFPLElBQUlzRixFQUFVeEYsRUFBSUMsRUFBZUMsR0FDMUMsSUFBSyxVQUNILE9BQU8sSUFBSXVGLEVBQVF6RixFQUFJQyxFQUFlQyxHQUN4QyxJQUFLLFdBQ0gsT0FBTyxJQUFJd0YsRUFBUzFGLEVBQUlDLEVBQWVDLEdBQ3pDLElBQUssWUFDSCxPQUFPLElBQUl5RixFQUFVM0YsRUFBSUMsRUFBZUMsR0FDMUMsUUFDRSxNQUFNLElBQUkwRixNQUFNLHVCQUF3Qk4sRUFBSSxPQUdwRCxFQXRCQSxHQ0pBLDJCQTJNQSxPQTFNUyxFQUFBTyxpQkFBUCxTQUNFUCxFQUNBUSxFQUNBOUssRUFDQUMsRUFDQThLLEdBRUEsT0FBUVQsR0FDTixJQUFLLGlCQUNILE9BQU92TSxLQUFLaU4sZUFBZUYsRUFBVzlLLEVBQU9DLEVBQVE4SyxHQUN2RCxJQUFLLGVBQ0gsT0FBT2hOLEtBQUtrTixhQUFhSCxFQUFXOUssRUFBT0MsRUFBUThLLEdBQ3JELElBQUssaUJBQ0gsT0FBT2hOLEtBQUttTixlQUFlSixFQUFXOUssRUFBT0MsRUFBUThLLEdBQ3ZELElBQUssYUFDSCxPQUFPaE4sS0FBS29OLFdBQVdMLEVBQVc5SyxFQUFPQyxFQUFROEssR0FDbkQsUUFDRSxNQUFNLElBQUlILE1BQU0sK0JBQWdDTixFQUFJLE9BSTNDLEVBQUFVLGVBQWYsU0FDRUYsRUFDQTlLLEVBQ0FDLEVBQ0E4SyxHQWtCQSxJQWZBLElBQUlqTixFQUFrQixHQUNoQnNOLEVBQWlCck4sS0FBS3NOLGtCQUMxQnJMLEVBQ0FDLEVBQ0E4SyxFQUNBLElBQ0FPLEtBQUksU0FBQy9KLEdBQU0sT0FBQUEsRUFBRXlCLFNBQVMsSUFBSW1CLEVBQVNuRSxFQUFRLEVBQUdDLEVBQVMsT0FFbkRzTCxFQUFnQnhOLEtBQUtzTixrQkFDekJyTCxFQUNBQyxFQUNBOEssRUFDQSxJQUNBTyxLQUFJLFNBQUMvSixHQUFNLE9BQUFBLEVBQUV5QixTQUFTLElBQUltQixFQUFTbkUsRUFBUSxFQUFHQyxFQUFTLE9BRWhEdUcsRUFBSSxFQUFHQSxFQUFJdUUsRUFBZ0J2RSxJQUFLLENBQ3ZDLElBQU1sSSxFQUFRa04sRUFBYW5CLFNBQ3pCUyxFQUNBdEUsRUFDQTRFLEVBQWU1RSxHQUNmekksS0FBSzBOLGtDQUFrQ0YsRUFBYy9FLEtBRXZEMUksRUFBT2tHLEtBQUsxRixHQUdkLE9BQU9SLEdBR0YsRUFBQW1OLGFBQVAsU0FDRUgsRUFDQTlLLEVBQ0FDLEVBQ0E4SyxHQVdBLElBUkEsSUFBSWpOLEVBQWtCLEdBQ2xCc04sRUFBaUJyTixLQUFLc04sa0JBQ3hCckwsRUFDQUMsRUFDQThLLEVBQ0EsSUFDQU8sS0FBSSxTQUFDL0osR0FBTSxPQUFBQSxFQUFFeUIsU0FBUyxJQUFJbUIsRUFBU25FLEVBQVEsRUFBR0MsRUFBUyxPQUVoRHVHLEVBQUksRUFBR0EsRUFBSXVFLEVBQWdCdkUsSUFBSyxDQUN2QyxJQUFNbEksRUFBUWtOLEVBQWFuQixTQUN6QlMsRUFDQXRFLEVBQ0E0RSxFQUFlNUUsR0FDZnpJLEtBQUswTixrQ0FDSCxJQUFJdEgsSUFBV3FDLEVBQUksSUFBTXVFLEVBQWlCLEdBQUssSUFBUy9LLEVBQU8sS0FHbkVsQyxFQUFPa0csS0FBSzFGLEdBR2QsT0FBT1IsR0FHRixFQUFBb04sZUFBUCxTQUNFSixFQUNBWSxFQUNBekwsRUFDQThLLEdBTUEsSUFIQSxJQUFJak4sRUFBa0IsR0FDaEI2RyxFQUFTMUUsRUFBUyxFQUFJLEdBRW5CdUcsRUFBSSxFQUFHQSxFQUFJdUUsRUFBZ0J2RSxJQUFLLENBQ3ZDLElBQU0zQixFQUFTLEVBQUluRCxLQUFLQyxHQUFLNkUsRUFBS3VFLEVBQzVCek0sRUFBUWtOLEVBQWFuQixTQUN6QlMsRUFDQXRFLEVBQ0EsSUFBSXJDLEVBQVNRLEVBQVNqRCxLQUFLb0QsSUFBSUQsR0FBUUYsRUFBU2pELEtBQUtxRCxJQUFJRixJQUN6RDlHLEtBQUswTixrQ0FDSCxJQUFJdEgsRUFDRlEsRUFBU2pELEtBQUtvRCxJQUFJRCxFQUFRbkQsS0FBS0MsSUFDL0JnRCxFQUFTakQsS0FBS3FELElBQUlGLEVBQVFuRCxLQUFLQyxPQUlyQzdELEVBQU9rRyxLQUFLMUYsR0FHZCxPQUFPUixHQUdGLEVBQUFxTixXQUFQLFNBQ0VMLEVBQ0E5SyxFQUNBMkwsRUFDQVosR0FTQSxJQU5BLElBQUlqTixFQUFrQixHQUNoQjhOLEVBQVdsSyxLQUFLbUssS0FBS25LLEtBQUs0QyxLQUFLeUcsRUFBaUIsSUFDaERlLEVBQVMsR0FDWHZLLEVBQUksR0FBS3ZCLEVBQVEsRUFDakJ3QixJQUFPb0ssRUFBVyxHQUFLLEVBQUtFLEVBRXZCdEYsRUFBSSxFQUFHQSxFQUFJdUUsRUFBZ0J2RSxJQUFLLENBQ3ZDLElBQU11RixFQUFNckssS0FBSzRCLE1BQU1rRCxFQUFJLEdBQ3JCd0YsRUFBTXRLLEtBQUs0QixNQUFNeUksRUFBTUgsR0FDdkJLLEVBQU1GLEVBQU1ILEVBRWxCLEdBQUlwRixFQUFJLEdBQUssRUFBRyxDQUVkLElBQU1sSSxFQUFRa04sRUFBYW5CLFNBQ3pCUyxFQUNBdEUsRUFDQSxJQUFJckMsRUFBUzVDLEdBQUtxSyxFQUFXLEVBQUlLLEdBQU9ILEVBQVF0SyxFQUFJd0ssRUFBTUYsR0FDMUQvTixLQUFLME4sa0NBQ0gsSUFBSXRILEdBQVU1QyxFQUFJMEssRUFBTUgsRUFBUXRLLEVBQUl3SyxFQUFNRixLQUc5Q2hPLEVBQU9rRyxLQUFLMUYsUUFHTkEsRUFBUWtOLEVBQWFuQixTQUN6QlMsRUFDQXRFLEVBQ0EsSUFBSXJDLEdBQVU1QyxHQUFLcUssRUFBVyxFQUFJSyxHQUFPSCxFQUFRdEssRUFBSXdLLEVBQU1GLEdBQzNEL04sS0FBSzBOLGtDQUNILElBQUl0SCxFQUFTNUMsRUFBSTBLLEVBQU1ILEVBQVF0SyxFQUFJd0ssRUFBTUYsS0FHN0NoTyxFQUFPa0csS0FBSzFGLEdBSWhCLE9BQU9SLEdBR00sRUFBQTJOLGtDQUFmLFNBQ0VTLEdBRUEsT0FBTyxTQUFDQyxHQUNOLElBQU1oRyxFQUFnQitGLEVBQWFsSixTQUFTbUosR0FDNUMsT0FBSWhHLEVBQWNsRCxnQkFBa0IsRUFDM0JrRCxFQUVBQSxFQUFjNUIsY0FLWixFQUFBOEcsa0JBQWYsU0FDRWUsRUFDQUMsRUFDQUMsRUFDQUMsR0FJQSxJQUZBLElBQUlDLEVBQXNCLEcsYUFNeEIsSUFIQSxJQUNJTCxFQURBTSxHQUFXLEVBR1JBLEdBQ0xBLEdBQVcsRUFDWE4sRUFBTSxJQUFJaEksRUFBU2lJLEVBQVMxSyxLQUFLa0QsU0FBVXlILEVBQVMzSyxLQUFLa0QsVUFFekQ0SCxFQUFRbk8sU0FBUSxTQUFDb0csR0FDWDBILEVBQUluSixTQUFTeUIsR0FBUXhCLGdCQUFrQixTQUFBc0osRUFBYSxLQUN0REUsR0FBVyxNQUtqQkQsRUFBUXhJLEtBQUttSSxJQWZOM0YsRUFBSSxFQUFHQSxFQUFJOEYsRUFBRzlGLEksSUFrQnZCLE9BQU9nRyxHQUVYLEVBM01BLEdDQ01FLEVBQWVDLFNBQVNDLGVBQWUsVUFDdkNDLEVBQWtCRixTQUFTQyxlQUMvQixhQUVJRSxFQUFzQkgsU0FBU0MsZUFDbkMsa0JBR0loTyxFQUFTK04sU0FBU0MsZUFBZSxVQUNqQ0csRUFBWUosU0FBU0MsZUFBZSxhQUNwQ0ksRUFBYUwsU0FBU0MsZUFBZSxjQUNyQ0ssRUFBYU4sU0FBU0MsZUFBZSxjQUdyQ00sRUFBYSxJQUFJQyxFQUROLElBQUlDLEVBQVd4TyxHQUNZLElBQUl5TyxHQUM1Q0MsR0FBTyxFQUdKLFNBQVNwUCxJQUNkSCxLQUFLd1AsY0FFTCxJQUFJQyxFQUFhLEVBQ2JDLEVBQVUsRUFDVkMsRUFBUyxFQTZCYkMsT0FBT0MsdUJBM0JQLFNBQVNDLEVBQUtDLEdBQ1osSUFBSTFQLEVBQVMwUCxFQUFZTixFQUN6QkEsRUFBYU0sRUFHVFIsR0FDRkosRUFBVy9PLE9BQU9DLEdBSXBCOE8sRUFBV3pPLE9BQ1hpUCxJQUdJSSxFQUFZTCxHQUFXLE1BQ3pCVixFQUFVZ0IsWUFBYyxTQUNyQixJQUFPTCxHQUNQSSxFQUFZTCxJQUNiTyxRQUFRLEdBRVZOLEVBQVMsRUFDVEQsRUFBVUssR0FHWkgsT0FBT0Msc0JBQXNCQyxNQU8xQixTQUFTSSxLQUNkWCxHQUFRQSxJQUdOTixFQUFXZSxZQUFjLFFBQ3pCZCxFQUFXaUIsVUFBVyxJQUV0QmxCLEVBQVdlLFlBQWMsT0FDekJkLEVBQVdpQixVQUFXLEdBS25CLFNBQVNDLElBQ2RqQixFQUFXL08sT0FBTyxJQUFPLElBR3BCLFNBQVNvUCxJLE1BQ1ZELEdBQ0Z2UCxLQUFLa1EsWUFHUCxJQUFNRyxFQUFTMUIsRUFBYTJCLE1BQ3RCdkQsRUFBWStCLEVBQWdCd0IsTUFDNUJ0RCxFQUFvRCxRQUF0QyxFQUFHdUQsU0FBU3hCLEVBQW9CdUIsY0FBTSxRQUFJLEVBRTlEbkIsRUFBV2hQLEtBQ1RxUSxFQUFxQjFELGlCQUNuQnVELEVBQ0F0RCxFQUNBbE0sRUFBT29CLE1BQ1BwQixFQUFPcUIsT0FDUDhLLE9DNUZGeUQsRUFBMkIsR0FHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLEdBQUdGLEVBQXlCRSxHQUMzQixPQUFPRixFQUF5QkUsR0FBVUMsUUFHM0MsSUFBSUMsRUFBU0osRUFBeUJFLEdBQVksQ0FHakRDLFFBQVMsSUFPVixPQUhBRSxFQUFvQkgsR0FBVUUsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0NHLEVBQU9ELFFDakJmLE9DRkFGLEVBQW9CSyxFQUFJLENBQUNILEVBQVNJLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWE4sRUFBb0JRLEVBQUVGLEVBQVlDLEtBQVNQLEVBQW9CUSxFQUFFTixFQUFTSyxJQUM1RUUsT0FBT0MsZUFBZVIsRUFBU0ssRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLE1DSjNFUCxFQUFvQlEsRUFBSSxDQUFDSyxFQUFLQyxJQUFTTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxHQ0NqRmQsRUFBb0J2TixFQUFLeU4sSUFDSCxvQkFBWGdCLFFBQTBCQSxPQUFPQyxhQUMxQ1YsT0FBT0MsZUFBZVIsRUFBU2dCLE9BQU9DLFlBQWEsQ0FBRXZCLE1BQU8sV0FFN0RhLE9BQU9DLGVBQWVSLEVBQVMsYUFBYyxDQUFFTixPQUFPLEtIRmhESSxFQUFvQixNIiwiZmlsZSI6ImRlbW8yZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElBZ2VudENvbGxlY3Rpb24gfSBmcm9tIFwiLi9JQWdlbnRDb2xsZWN0aW9uXCI7XHJcbmltcG9ydCB7IElSZW5kZXJlciB9IGZyb20gXCIuL0lSZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBBZ2VudCB9IGZyb20gXCIuL0FnZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2ltdWxhdGlvbiB7XHJcbiAgX3JlbmRlcmVyOiBJUmVuZGVyZXI7XHJcbiAgX2FnZW50czogSUFnZW50Q29sbGVjdGlvbjtcclxuXHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXI6IElSZW5kZXJlciwgYWdlbnRzOiBJQWdlbnRDb2xsZWN0aW9uKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fYWdlbnRzID0gYWdlbnRzO1xyXG4gIH1cclxuXHJcbiAgaW5pdChhZ2VudHM6IEFnZW50W10pIHtcclxuICAgIHRoaXMuX2FnZW50cy5pbml0KGFnZW50cyk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoZGVsdGFUOiBudW1iZXIpIHtcclxuICAgIGxldCByYW5nZSA9IDMwMDtcclxuICAgIHRoaXMuX2FnZW50cy5mb3JFYWNoKChhZ2VudCkgPT4ge1xyXG4gICAgICBhZ2VudC51cGRhdGUoXHJcbiAgICAgICAgZGVsdGFULFxyXG4gICAgICAgIHRoaXMuX2FnZW50cy5nZXROZWlnaGJvdXJzSW5SYW5nZUV1Y2xpZGVhbihhZ2VudCwgcmFuZ2UpXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9hZ2VudHMuaW5pdCh0aGlzLl9hZ2VudHMuZ2V0QWxsKCkpO1xyXG4gIH1cclxuXHJcbiAgZHJhdygpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyLmNsZWFyKCk7XHJcbiAgICB0aGlzLl9yZW5kZXJlci5kcmF3QWdlbnRzKHRoaXMuX2FnZW50cyk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEFnZW50IH0gZnJvbSBcIi4vQWdlbnRcIjtcclxuaW1wb3J0IHsgSUFnZW50Q29sbGVjdGlvbiB9IGZyb20gXCIuL0lBZ2VudENvbGxlY3Rpb25cIjtcclxuaW1wb3J0IHsgSVJlbmRlcmVyIH0gZnJvbSBcIi4vSVJlbmRlcmVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIyRCBpbXBsZW1lbnRzIElSZW5kZXJlciB7XHJcbiAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gIHByaXZhdGUgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG5cclxuICAvLyBDYW1lcmEgY29udHJvbHNcclxuICBwcml2YXRlIGRyYWc6IGJvb2xlYW47XHJcbiAgcHJpdmF0ZSBvbGRYOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBvbGRZOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSB4UGFuOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSB5UGFuOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBjYW1lcmFEaXN0ID0gODAwOyAvLyBTdGFydCBjYW1lcmEgODAwICdweCcgYXdheVxyXG5cclxuICBjb25zdHJ1Y3RvcihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIHRoaXMueFBhbiA9IHRoaXMuY2FudmFzLndpZHRoIC8gMjtcclxuICAgIHRoaXMueVBhbiA9IHRoaXMuY2FudmFzLmhlaWdodCAvIDI7XHJcblxyXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm1vdXNlRG93biwgZmFsc2UpO1xyXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5tb3VzZVVwLCBmYWxzZSk7XHJcbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgdGhpcy5tb3VzZVVwLCBmYWxzZSk7XHJcbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW91c2VNb3ZlLCBmYWxzZSk7XHJcbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgdGhpcy5tb3VzZVNjcm9sbCwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKTogdm9pZCB7XHJcbiAgICAvLyBDbGVhciBiYWNrZ3JvdW5kXHJcbiAgICB0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xyXG4gICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwicmdiKDEzNSwgMTk0LCAyNTApXCI7XHJcbiAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QoXHJcbiAgICAgIDAsXHJcbiAgICAgIDAsXHJcbiAgICAgIHRoaXMuY29udGV4dC5jYW52YXMud2lkdGgsXHJcbiAgICAgIHRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZHJhd0FnZW50cyhhZ2VudHM6IElBZ2VudENvbGxlY3Rpb24pIHtcclxuICAgIGNvbnN0IHNjYWxlRmFjdG9yID0gODAwIC8gdGhpcy5jYW1lcmFEaXN0O1xyXG5cclxuICAgIC8vIFRPRE86IHJlcGxhY2Ugd2l0aCBzaW5nbGUgc2V0VHJhbnNmb3JtXHJcbiAgICB0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xyXG4gICAgdGhpcy5jb250ZXh0LnRyYW5zbGF0ZSh0aGlzLnhQYW4sIHRoaXMueVBhbik7XHJcbiAgICB0aGlzLmNvbnRleHQuc2NhbGUoc2NhbGVGYWN0b3IsIHNjYWxlRmFjdG9yKTtcclxuXHJcbiAgICAvLyBEcmF3IGZsb29yXHJcbiAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gXCJyZ2IoNTEsIDUxLCA1MSlcIjtcclxuICAgIHRoaXMuY29udGV4dC5maWxsUmVjdChcclxuICAgICAgLXRoaXMuY29udGV4dC5jYW52YXMud2lkdGggKiAwLjU1LFxyXG4gICAgICAtdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQgKiAwLjU1LFxyXG4gICAgICB0aGlzLmNvbnRleHQuY2FudmFzLndpZHRoICogMS4xLFxyXG4gICAgICB0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodCAqIDEuMVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBEcmF3IGFnZW50c1xyXG4gICAgYWdlbnRzLmZvckVhY2goKGFnZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuZHJhd0FnZW50KGFnZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBkcmF3QWdlbnQoYWdlbnQ6IEFnZW50KTogdm9pZCB7XHJcbiAgICBjb25zdCBwb3NpdGlvbiA9IGFnZW50LmdldFBvc2l0aW9uKCk7XHJcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBhZ2VudC5nZXREaXJlY3Rpb24oKTtcclxuICAgIGNvbnN0IGNvbG91ciA9IGFnZW50LmdldENvbG91cigpO1xyXG5cclxuICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgIHRoaXMuY29udGV4dC5zdHJva2VTdHlsZSA9IGByZ2IoJHtjb2xvdXIucn0sICR7Y29sb3VyLmd9LCAke2NvbG91ci5ifSlgO1xyXG4gICAgdGhpcy5jb250ZXh0LmxpbmVXaWR0aCA9IDI7XHJcblxyXG4gICAgdGhpcy5jb250ZXh0LmFyYyhwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBhZ2VudC5SYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcclxuXHJcbiAgICBsZXQgbWFnbml0dWRlID0gZGlyZWN0aW9uLm1hZ25pdHVkZSgpO1xyXG4gICAgaWYgKG1hZ25pdHVkZSAhPT0gMCkge1xyXG4gICAgICB0aGlzLmNvbnRleHQubW92ZVRvKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xyXG4gICAgICBsZXQgbmV3UG9zID0gcG9zaXRpb24uYWRkKFxyXG4gICAgICAgIGRpcmVjdGlvbi5kaXZpZGUobWFnbml0dWRlKS5tdWx0aXBseShhZ2VudC5SYWRpdXMpXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuY29udGV4dC5saW5lVG8obmV3UG9zLngsIG5ld1Bvcy55KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG1vdXNlRG93biA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgdGhpcy5kcmFnID0gdHJ1ZTtcclxuICAgIHRoaXMub2xkWCA9IGV2ZW50LnBhZ2VYO1xyXG4gICAgdGhpcy5vbGRZID0gZXZlbnQucGFnZVk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBtb3VzZVVwID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICB0aGlzLmRyYWcgPSBmYWxzZTtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBtb3VzZU1vdmUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgIGlmICghdGhpcy5kcmFnKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgdGhpcy54UGFuICs9IGV2ZW50LnBhZ2VYIC0gdGhpcy5vbGRYO1xyXG4gICAgdGhpcy55UGFuICs9IGV2ZW50LnBhZ2VZIC0gdGhpcy5vbGRZO1xyXG5cclxuICAgIHRoaXMub2xkWCA9IGV2ZW50LnBhZ2VYO1xyXG4gICAgdGhpcy5vbGRZID0gZXZlbnQucGFnZVk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBtb3VzZVNjcm9sbCA9IChldmVudDogV2hlZWxFdmVudCkgPT4ge1xyXG4gICAgdGhpcy5jYW1lcmFEaXN0ICs9IGV2ZW50LmRlbHRhWTtcclxuICAgIGlmICh0aGlzLmNhbWVyYURpc3QgPCAwKSB7XHJcbiAgICAgIHRoaXMuY2FtZXJhRGlzdCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnNvbGUubG9nKFwiU2Nyb2xsXCIpO1xyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgSUFnZW50Q29sbGVjdGlvbiB9IGZyb20gXCIuL0lBZ2VudENvbGxlY3Rpb25cIjtcclxuaW1wb3J0IHsgQWdlbnQgfSBmcm9tIFwiLi9BZ2VudFwiO1xyXG5cclxuaW50ZXJmYWNlIE5vZGUge1xyXG4gIGFnZW50OiBBZ2VudDtcclxuICBsZWZ0OiBOb2RlO1xyXG4gIHJpZ2h0OiBOb2RlO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQWdlbnRUcmVlIGltcGxlbWVudHMgSUFnZW50Q29sbGVjdGlvbiB7XHJcbiAgcHJpdmF0ZSBfYWdlbnRzOiBBZ2VudFtdO1xyXG4gIHByaXZhdGUgX3Jvb3Q6IE5vZGU7XHJcblxyXG4gIGluaXQoYWdlbnRzOiBBZ2VudFtdKTogdm9pZCB7XHJcbiAgICB0aGlzLl9hZ2VudHMgPSBhZ2VudHM7XHJcbiAgICB0aGlzLl9yb290ID0gdGhpcy5jb25zdHJ1Y3RUcmVlKHRoaXMuX2FnZW50cywgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXRBbGwoKTogQWdlbnRbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5fYWdlbnRzO1xyXG4gIH1cclxuXHJcbiAgZ2V0TmVpZ2hib3Vyc0luUmFuZ2VSZWN0aWxpbmVhcihhZ2VudDogQWdlbnQsIHJhbmdlOiBudW1iZXIpOiBBZ2VudFtdIHtcclxuICAgIGxldCBtaW5YID0gYWdlbnQuZ2V0UG9zaXRpb24oKS54IC0gcmFuZ2U7XHJcbiAgICBsZXQgbWluWSA9IGFnZW50LmdldFBvc2l0aW9uKCkueSAtIHJhbmdlO1xyXG4gICAgbGV0IG1heFggPSBhZ2VudC5nZXRQb3NpdGlvbigpLnggKyByYW5nZTtcclxuICAgIGxldCBtYXhZID0gYWdlbnQuZ2V0UG9zaXRpb24oKS55ICsgcmFuZ2U7XHJcblxyXG4gICAgbGV0IGNhbmRpZGF0ZXMgPSB0aGlzLnJhbmdlU2VhcmNoKHRoaXMuX3Jvb3QsIG1pblgsIG1pblksIG1heFgsIG1heFksIHRydWUpO1xyXG4gICAgcmV0dXJuIGNhbmRpZGF0ZXMuZmlsdGVyKChvdGhlcikgPT4gb3RoZXIuSWQgIT09IGFnZW50LklkKTtcclxuICB9XHJcblxyXG4gIGdldE5laWdoYm91cnNJblJhbmdlRXVjbGlkZWFuKGFnZW50OiBBZ2VudCwgcmFuZ2U6IG51bWJlcik6IEFnZW50W10ge1xyXG4gICAgbGV0IGNhbmRpZGF0ZXMgPSB0aGlzLmdldE5laWdoYm91cnNJblJhbmdlUmVjdGlsaW5lYXIoYWdlbnQsIHJhbmdlKTtcclxuICAgIHJldHVybiBjYW5kaWRhdGVzLmZpbHRlcihcclxuICAgICAgKG90aGVyKSA9PlxyXG4gICAgICAgIGFnZW50LmdldFBvc2l0aW9uKCkuc3VidHJhY3Qob3RoZXIuZ2V0UG9zaXRpb24oKSkubWFnbml0dWRlU3FyZCgpIDw9XHJcbiAgICAgICAgcmFuZ2UgKiogMlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGZvckVhY2goZnVuOiAoYWdlbnQ6IEFnZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICB0aGlzLl9hZ2VudHMuZm9yRWFjaChmdW4pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb25zdHJ1Y3RUcmVlKGFnZW50czogQWdlbnRbXSwgeEF4aXM6IGJvb2xlYW4pOiBOb2RlIHtcclxuICAgIGlmIChhZ2VudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBtaWQgPSBNYXRoLmZsb29yKGFnZW50cy5sZW5ndGggLyAyKTtcclxuXHJcbiAgICBsZXQgc29ydGVkID0geEF4aXNcclxuICAgICAgPyBhZ2VudHMuc29ydCgoYSwgYikgPT4gYS5nZXRQb3NpdGlvbigpLnggLSBiLmdldFBvc2l0aW9uKCkueClcclxuICAgICAgOiBhZ2VudHMuc29ydCgoYSwgYikgPT4gYS5nZXRQb3NpdGlvbigpLnkgLSBiLmdldFBvc2l0aW9uKCkueSk7XHJcblxyXG4gICAgbGV0IGxlZnQgPSB0aGlzLmNvbnN0cnVjdFRyZWUoc29ydGVkLnNsaWNlKDAsIG1pZCksICF4QXhpcyk7XHJcbiAgICBsZXQgcmlnaHQgPSB0aGlzLmNvbnN0cnVjdFRyZWUoXHJcbiAgICAgIHNvcnRlZC5zbGljZShtaWQgKyAxLCBhZ2VudHMubGVuZ3RoKSxcclxuICAgICAgIXhBeGlzXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiB7IGFnZW50OiBhZ2VudHNbbWlkXSwgbGVmdDogbGVmdCwgcmlnaHQ6IHJpZ2h0IH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJhbmdlU2VhcmNoKFxyXG4gICAgcm9vdDogTm9kZSxcclxuICAgIG1pblg6IG51bWJlcixcclxuICAgIG1pblk6IG51bWJlcixcclxuICAgIG1heFg6IG51bWJlcixcclxuICAgIG1heFk6IG51bWJlcixcclxuICAgIHhBeGlzOiBib29sZWFuXHJcbiAgKTogQWdlbnRbXSB7XHJcbiAgICBpZiAocm9vdCA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcmVzOiBBZ2VudFtdID0gW107XHJcbiAgICBpZiAoeEF4aXMpIHtcclxuICAgICAgLy8gSWYgeCA8PSBtYXhYIG5lZWQgdG8gY2hlY2sgcmlnaHQgc3VidHJlZVxyXG4gICAgICBpZiAocm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnggPD0gbWF4WCkge1xyXG4gICAgICAgIHJlcyA9IHJlcy5jb25jYXQoXHJcbiAgICAgICAgICB0aGlzLnJhbmdlU2VhcmNoKHJvb3QucmlnaHQsIG1pblgsIG1pblksIG1heFgsIG1heFksICF4QXhpcylcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiB4ID49IG1pblggbmVlZCB0byBjaGVjayBsZWZ0IHN1YnRyZWVcclxuICAgICAgaWYgKHJvb3QuYWdlbnQuZ2V0UG9zaXRpb24oKS54ID49IG1pblgpIHtcclxuICAgICAgICByZXMgPSByZXMuY29uY2F0KFxyXG4gICAgICAgICAgdGhpcy5yYW5nZVNlYXJjaChyb290LmxlZnQsIG1pblgsIG1pblksIG1heFgsIG1heFksICF4QXhpcylcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBJZiB5IDw9IG1heFkgbmVlZCB0byBjaGVjayByaWdodCBzdWJ0cmVlXHJcbiAgICAgIGlmIChyb290LmFnZW50LmdldFBvc2l0aW9uKCkueSA8PSBtYXhZKSB7XHJcbiAgICAgICAgcmVzID0gcmVzLmNvbmNhdChcclxuICAgICAgICAgIHRoaXMucmFuZ2VTZWFyY2gocm9vdC5yaWdodCwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgIXhBeGlzKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIHkgPj0gbWluWSBuZWVkIHRvIGNoZWNrIGxlZnQgc3VidHJlZVxyXG4gICAgICBpZiAocm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnkgPj0gbWluWSkge1xyXG4gICAgICAgIHJlcyA9IHJlcy5jb25jYXQoXHJcbiAgICAgICAgICB0aGlzLnJhbmdlU2VhcmNoKHJvb3QubGVmdCwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgIXhBeGlzKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGUgYWdlbnQgaXMgaW4gcmFuZ2UgcmFuZ2UgYWRkIHRvIHRoZSByZXN1bHRcclxuICAgIGlmIChcclxuICAgICAgcm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnggPj0gbWluWCAmJlxyXG4gICAgICByb290LmFnZW50LmdldFBvc2l0aW9uKCkueSA+PSBtaW5ZICYmXHJcbiAgICAgIHJvb3QuYWdlbnQuZ2V0UG9zaXRpb24oKS54IDw9IG1heFggJiZcclxuICAgICAgcm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnkgPD0gbWF4WVxyXG4gICAgKSB7XHJcbiAgICAgIHJlcy5wdXNoKHJvb3QuYWdlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXM7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBWZWN0b3IyZiB7XHJcbiAgeDogbnVtYmVyO1xyXG4gIHk6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gIH1cclxuXHJcbiAgY29weSh2OiBWZWN0b3IyZik6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMmYodi54LCB2LnkpO1xyXG4gIH1cclxuXHJcbiAgYWRkKHY6IFZlY3RvcjJmKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyZih0aGlzLnggKyB2LngsIHRoaXMueSArIHYueSk7XHJcbiAgfVxyXG5cclxuICBzdWJ0cmFjdCh2OiBWZWN0b3IyZik6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMmYodGhpcy54IC0gdi54LCB0aGlzLnkgLSB2LnkpO1xyXG4gIH1cclxuXHJcbiAgbXVsdGlwbHkoczogbnVtYmVyKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyZih0aGlzLnggKiBzLCB0aGlzLnkgKiBzKTtcclxuICB9XHJcblxyXG4gIGRpdmlkZShzOiBudW1iZXIpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJmKHRoaXMueCAvIHMsIHRoaXMueSAvIHMpO1xyXG4gIH1cclxuXHJcbiAgZG90KHY6IFZlY3RvcjJmKSB7XHJcbiAgICByZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55O1xyXG4gIH1cclxuXHJcbiAgbWFnbml0dWRlU3FyZCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMueCAqKiAyICsgdGhpcy55ICoqIDI7XHJcbiAgfVxyXG5cclxuICBtYWduaXR1ZGUoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5tYWduaXR1ZGVTcXJkKCkpO1xyXG4gIH1cclxuXHJcbiAgbm9ybWFsaXNlKCk6IFZlY3RvcjJmIHtcclxuICAgIGxldCBtID0gdGhpcy5tYWduaXR1ZGUoKTtcclxuICAgIHJldHVybiBtID09IDAgPyBuZXcgVmVjdG9yMmYoMCwgMCkgOiB0aGlzLmRpdmlkZShtKTtcclxuICB9XHJcblxyXG4gIHNhbXBsZShtYXhSYWRpdXM6IG51bWJlcikge1xyXG4gICAgLy8gVW5pZm9ybWx5IHNhbXBsZSB0aGUgY2lyY2xlIGNlbnRyZWQgYXQgdGhpcyBwb2ludCB3aXRoIHJhZGl1cyBtYXhSYWRpdXNcclxuICAgIGxldCByYWRpdXMgPSBNYXRoLnNxcnQoTWF0aC5yYW5kb20oKSkgKiBtYXhSYWRpdXM7XHJcbiAgICBsZXQgYW5nbGUgPSAyICogTWF0aC5QSSAqIE1hdGgucmFuZG9tKCk7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJmKFxyXG4gICAgICB0aGlzLnggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSksXHJcbiAgICAgIHRoaXMueSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29sb3VyIH0gZnJvbSBcIi4vQ29sb3VyXCI7XHJcbmltcG9ydCB7IFZlY3RvcjJmIH0gZnJvbSBcIi4vVmVjdG9yMmZcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBZ2VudCB7XHJcbiAgcmVhZG9ubHkgUmFkaXVzOiBudW1iZXI7XHJcbiAgcmVhZG9ubHkgSWQ6IG51bWJlcjtcclxuXHJcbiAgcHJvdGVjdGVkIF9wb3NpdGlvbjogVmVjdG9yMmY7XHJcbiAgcHJvdGVjdGVkIF9kaXJlY3Rpb246IFZlY3RvcjJmO1xyXG4gIHByb3RlY3RlZCBfZ2V0UHJlZmVycmVkVmVsb2NpdHk6IChwb3NpdGlvbjogVmVjdG9yMmYpID0+IFZlY3RvcjJmO1xyXG4gIHByb3RlY3RlZCBfaXNEb25lOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICBzdGFydFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgIGdldFByZWZlcnJlZFZlbG9jaXR5OiAocG9zaXRpb246IFZlY3RvcjJmKSA9PiBWZWN0b3IyZlxyXG4gICkge1xyXG4gICAgdGhpcy5JZCA9IGlkO1xyXG4gICAgdGhpcy5SYWRpdXMgPSAyMDtcclxuXHJcbiAgICB0aGlzLl9wb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XHJcbiAgICB0aGlzLl9kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcbiAgICB0aGlzLl9nZXRQcmVmZXJyZWRWZWxvY2l0eSA9IGdldFByZWZlcnJlZFZlbG9jaXR5O1xyXG4gICAgdGhpcy5faXNEb25lID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbigpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBnZXREaXJlY3Rpb24oKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RpcmVjdGlvbjtcclxuICB9XHJcblxyXG4gIGlzRG9uZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc0RvbmU7XHJcbiAgfVxyXG5cclxuICBhYnN0cmFjdCBnZXRDb2xvdXIoKTogQ29sb3VyO1xyXG4gIGFic3RyYWN0IHVwZGF0ZShkZWx0YVQ6IG51bWJlciwgbmVpZ2hib3VyczogQWdlbnRbXSk6IHZvaWQ7XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIENvbG91ciB7XHJcbiAgcjogbnVtYmVyO1xyXG4gIGc6IG51bWJlcjtcclxuICBiOiBudW1iZXI7XHJcblxyXG4gIHN0YXRpYyBXaGl0ZTogQ29sb3VyID0ge1xyXG4gICAgcjogMjU1LFxyXG4gICAgZzogMjU1LFxyXG4gICAgYjogMjU1LFxyXG4gIH07XHJcblxyXG4gIHN0YXRpYyBSZWQ6IENvbG91ciA9IHtcclxuICAgIHI6IDI1NSxcclxuICAgIGc6IDAsXHJcbiAgICBiOiAwLFxyXG4gIH07XHJcblxyXG4gIHN0YXRpYyBHcmVlbjogQ29sb3VyID0ge1xyXG4gICAgcjogMCxcclxuICAgIGc6IDI1NSxcclxuICAgIGI6IDAsXHJcbiAgfTtcclxuXHJcbiAgc3RhdGljIEZyb21Ic3YoaDogbnVtYmVyLCBzOiBudW1iZXIsIHY6IG51bWJlcik6IENvbG91ciB7XHJcbiAgICAvLyBhc3N1bWluZyBoc3YgdmFsdWVzIGluIHJhbmdlIDAtMVxyXG4gICAgaCAqPSA2O1xyXG5cclxuICAgIGNvbnN0IGZyYWN0ID0gaCAtIE1hdGguZmxvb3IoaCk7XHJcbiAgICBjb25zdCBQID0gdiAqICgxIC0gcyk7XHJcbiAgICBjb25zdCBRID0gdiAqICgxIC0gcyAqIGZyYWN0KTtcclxuICAgIGNvbnN0IFQgPSB2ICogKDEgLSBzICogKDEgLSBmcmFjdCkpO1xyXG5cclxuICAgIGlmICgwIDw9IGggJiYgaCA8IDEpIHtcclxuICAgICAgcmV0dXJuIHsgcjogdiAqIDI1NSwgZzogVCAqIDI1NSwgYjogUCAqIDI1NSB9O1xyXG4gICAgfSBlbHNlIGlmICgxIDw9IGggJiYgaCA8IDIpIHtcclxuICAgICAgcmV0dXJuIHsgcjogUSAqIDI1NSwgZzogdiAqIDI1NSwgYjogUCAqIDI1NSB9O1xyXG4gICAgfSBlbHNlIGlmICgyIDw9IGggJiYgaCA8IDMpIHtcclxuICAgICAgcmV0dXJuIHsgcjogUCAqIDI1NSwgZzogdiAqIDI1NSwgYjogVCAqIDI1NSB9O1xyXG4gICAgfSBlbHNlIGlmICgzIDw9IGggJiYgaCA8IDQpIHtcclxuICAgICAgcmV0dXJuIHsgcjogUCAqIDI1NSwgZzogUSAqIDI1NSwgYjogdiAqIDI1NSB9O1xyXG4gICAgfSBlbHNlIGlmICg0IDw9IGggJiYgaCA8IDUpIHtcclxuICAgICAgcmV0dXJuIHsgcjogVCAqIDI1NSwgZzogUCAqIDI1NSwgYjogdiAqIDI1NSB9O1xyXG4gICAgfSBlbHNlIGlmICg1IDw9IGggJiYgaCA8IDYpIHtcclxuICAgICAgcmV0dXJuIHsgcjogdiAqIDI1NSwgZzogUCAqIDI1NSwgYjogUSAqIDI1NSB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHsgcjogMCwgZzogMCwgYjogMCB9O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBBZ2VudCB9IGZyb20gXCIuLi9BZ2VudFwiO1xyXG5pbXBvcnQgeyBDb2xvdXIgfSBmcm9tIFwiLi4vQ29sb3VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQmFzaWNBZ2VudCBleHRlbmRzIEFnZW50IHtcclxuICBnZXRDb2xvdXIoKSB7XHJcbiAgICBpZiAodGhpcy5faXNEb25lKSB7XHJcbiAgICAgIHJldHVybiBDb2xvdXIuV2hpdGU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gQ29sb3VyLkdyZWVuO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlKGRlbHRhVDogbnVtYmVyLCBfbmVpZ2hib3VyczogQWdlbnRbXSk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuX2lzRG9uZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ29hbERpcmVjdGlvbiA9IHRoaXMuX2dldFByZWZlcnJlZFZlbG9jaXR5KHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgIGNvbnN0IGdvYWxEaXN0YW5jZSA9IGdvYWxEaXJlY3Rpb24ubWFnbml0dWRlKCk7XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgZG9uZVxyXG4gICAgaWYgKGdvYWxEaXJlY3Rpb24ueCA9PSAwICYmIGdvYWxEaXJlY3Rpb24ueSA9PSAwKSB7XHJcbiAgICAgIHRoaXMuX2lzRG9uZSA9IHRydWU7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTdGVwIHRvd2FyZHMgZ29hbFxyXG4gICAgdGhpcy5fZGlyZWN0aW9uID0gZ29hbERpcmVjdGlvbjtcclxuICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKFxyXG4gICAgICBnb2FsRGlyZWN0aW9uLm11bHRpcGx5KChkZWx0YVQgKiA2MCkgLyAxMDAwKVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQWdlbnQgfSBmcm9tIFwiLi4vQWdlbnRcIjtcclxuaW1wb3J0IHsgVmVjdG9yMmYgfSBmcm9tIFwiLi4vVmVjdG9yMmZcIjtcclxuaW1wb3J0IHsgQ29sb3VyIH0gZnJvbSBcIi4uL0NvbG91clwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0b3BBZ2VudCBleHRlbmRzIEFnZW50IHtcclxuICBwcml2YXRlIF9pc1N0dWNrOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICBzdGFydFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgIGdldFByZWZlcnJlZFZlbG9jaXR5OiAocG9zaXRpb246IFZlY3RvcjJmKSA9PiBWZWN0b3IyZlxyXG4gICkge1xyXG4gICAgc3VwZXIoaWQsIHN0YXJ0UG9zaXRpb24sIGdldFByZWZlcnJlZFZlbG9jaXR5KTtcclxuICAgIHRoaXMuX2lzU3R1Y2sgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGdldENvbG91cigpOiBDb2xvdXIge1xyXG4gICAgaWYgKHRoaXMuX2lzRG9uZSkge1xyXG4gICAgICByZXR1cm4gQ29sb3VyLldoaXRlO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc1N0dWNrKSB7XHJcbiAgICAgIHJldHVybiBDb2xvdXIuUmVkO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIENvbG91ci5HcmVlbjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZShkZWx0YVQ6IG51bWJlciwgbmVpZ2hib3VyczogQWdlbnRbXSk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuX2lzRG9uZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ29hbERpcmVjdGlvbiA9IHRoaXMuX2dldFByZWZlcnJlZFZlbG9jaXR5KHRoaXMuX3Bvc2l0aW9uKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBkb25lXHJcbiAgICBpZiAoZ29hbERpcmVjdGlvbi54ID09IDAgJiYgZ29hbERpcmVjdGlvbi55ID09IDApIHtcclxuICAgICAgdGhpcy5faXNEb25lID0gdHJ1ZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2RpcmVjdGlvbiA9IGdvYWxEaXJlY3Rpb24ubm9ybWFsaXNlKCk7XHJcbiAgICBjb25zdCBoZWFkaW5nID0gdGhpcy5fcG9zaXRpb24uYWRkKHRoaXMuX2RpcmVjdGlvbi5tdWx0aXBseSgyMCkpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHN0dWNrXHJcbiAgICB0aGlzLl9pc1N0dWNrID0gZmFsc2U7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHRoaXMuY29sbGlkZXMobmVpZ2hib3Vyc1tpXSwgaGVhZGluZykpIHtcclxuICAgICAgICB0aGlzLl9pc1N0dWNrID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBTdGVwIHRvd2FyZHMgZ29hbFxyXG4gICAgdGhpcy5fZGlyZWN0aW9uID0gZ29hbERpcmVjdGlvbjtcclxuICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKFxyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24ubXVsdGlwbHkoKGRlbHRhVCAqIDYwKSAvIDEwMDApXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY29sbGlkZXMoYWdlbnQ6IEFnZW50LCBwb3NpdGlvbjogVmVjdG9yMmYpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGFnZW50LmdldFBvc2l0aW9uKCkuc3VidHJhY3QocG9zaXRpb24pLm1hZ25pdHVkZVNxcmQoKSA8XHJcbiAgICAgIChhZ2VudC5SYWRpdXMgKyB0aGlzLlJhZGl1cykgKiAoYWdlbnQuUmFkaXVzICsgdGhpcy5SYWRpdXMpXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBWZWN0b3IyZiB9IGZyb20gXCIuL1ZlY3RvcjJmXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2VvbWV0cnkge1xyXG4gIHN0YXRpYyBnZXRDbG9zZXN0UG9pbnRPbkxpbmUoXHJcbiAgICBsaW5lUG9pbnQ6IFZlY3RvcjJmLFxyXG4gICAgbGluZURpcmVjdGlvbjogVmVjdG9yMmYsXHJcbiAgICBwb2ludDogVmVjdG9yMmZcclxuICApOiBWZWN0b3IyZiB7XHJcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBsaW5lRGlyZWN0aW9uLm5vcm1hbGlzZSgpO1xyXG4gICAgY29uc3QgdmVjdG9yID0gcG9pbnQuc3VidHJhY3QobGluZVBvaW50KTtcclxuICAgIGNvbnN0IGRpc3RhbmNlID0gdmVjdG9yLmRvdChkaXJlY3Rpb24pO1xyXG5cclxuICAgIHJldHVybiBsaW5lUG9pbnQuYWRkKGRpcmVjdGlvbi5tdWx0aXBseShkaXN0YW5jZSkpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEZpcnN0UmF5Q2lyY2xlSW50ZXJzZWN0aW9uKFxyXG4gICAgY2VudHJlOiBWZWN0b3IyZixcclxuICAgIHJhZGl1czogbnVtYmVyLFxyXG4gICAgb3JpZ2luOiBWZWN0b3IyZixcclxuICAgIGRpcmVjdGlvbjogVmVjdG9yMmZcclxuICApOiBudW1iZXIge1xyXG4gICAgY29uc3QgZGVsdGEgPSBvcmlnaW4uc3VidHJhY3QoY2VudHJlKTtcclxuXHJcbiAgICBjb25zdCBhID0gZGlyZWN0aW9uLmRvdChkaXJlY3Rpb24pO1xyXG4gICAgY29uc3QgYiA9IDIgKiBkaXJlY3Rpb24uZG90KGRlbHRhKTtcclxuICAgIGNvbnN0IGMgPSBkZWx0YS5kb3QoZGVsdGEpIC0gcmFkaXVzICoqIDI7XHJcblxyXG4gICAgY29uc3QgZGlzY3JpbSA9IGIgKiogMiAtIDQgKiBhICogYztcclxuXHJcbiAgICBpZiAoZGlzY3JpbSA8IDApIHtcclxuICAgICAgLy8gTm8gaW50ZXJzZWN0aW9uXHJcbiAgICAgIHJldHVybiBJbmZpbml0eTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkaXN0YW5jZSA9ICgoLWIgLSBNYXRoLnNxcnQoZGlzY3JpbSkpIC8gMikgKiBhO1xyXG5cclxuICAgIGlmIChkaXN0YW5jZSA8IDApIHtcclxuICAgICAgLy8gSW50ZXJzZWN0aW9uIGJlaGluZFxyXG4gICAgICByZXR1cm4gSW5maW5pdHk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRpc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldExpbmVMaW5lSW50ZXJzZWN0aW9uKFxyXG4gICAgcG9pbnQxOiBWZWN0b3IyZixcclxuICAgIGRpcmVjdGlvbjE6IFZlY3RvcjJmLFxyXG4gICAgcG9pbnQyOiBWZWN0b3IyZixcclxuICAgIGRpcmVjdGlvbjI6IFZlY3RvcjJmXHJcbiAgKTogVmVjdG9yMmYge1xyXG4gICAgY29uc3QgZGlmZiA9IHBvaW50Mi5zdWJ0cmFjdChwb2ludDEpO1xyXG4gICAgY29uc3QgZGV0ID0gZGlyZWN0aW9uMi54ICogZGlyZWN0aW9uMS55IC0gZGlyZWN0aW9uMi55ICogZGlyZWN0aW9uMS54O1xyXG4gICAgY29uc3QgdCA9IChkaWZmLnkgKiBkaXJlY3Rpb24yLnggLSBkaWZmLnkgKiBkaXJlY3Rpb24yLnkpIC8gZGV0O1xyXG5cclxuICAgIHJldHVybiBwb2ludDEuYWRkKGRpcmVjdGlvbjEubXVsdGlwbHkodCkpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBWZWN0b3IyZiB9IGZyb20gXCIuL1ZlY3RvcjJmXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVmVsb2NpdHlPYnN0YWNsZSB7XHJcbiAgdmVydGV4OiBWZWN0b3IyZjtcclxuICB0YW5nZW50MTogVmVjdG9yMmY7XHJcbiAgdGFuZ2VudDI6IFZlY3RvcjJmO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih2ZXJ0ZXg6IFZlY3RvcjJmLCB0YW5nZW50MTogVmVjdG9yMmYsIHRhbmdlbnQyOiBWZWN0b3IyZikge1xyXG4gICAgdGhpcy52ZXJ0ZXggPSB2ZXJ0ZXg7XHJcbiAgICB0aGlzLnRhbmdlbnQxID0gdGFuZ2VudDE7XHJcbiAgICB0aGlzLnRhbmdlbnQyID0gdGFuZ2VudDI7XHJcbiAgfVxyXG5cclxuICBjb250YWlucyh2ZWxvY2l0eTogVmVjdG9yMmYpOiBib29sZWFuIHtcclxuICAgIC8vIEZpcnN0IGhhbGYtcGxhbmVcclxuICAgIGNvbnN0IGRldGVybWluYW50MSA9XHJcbiAgICAgICh0aGlzLnRhbmdlbnQxLnggLSB0aGlzLnZlcnRleC54KSAqICh2ZWxvY2l0eS55IC0gdGhpcy52ZXJ0ZXgueSkgLVxyXG4gICAgICAodGhpcy50YW5nZW50MS55IC0gdGhpcy52ZXJ0ZXgueSkgKiAodmVsb2NpdHkueCAtIHRoaXMudmVydGV4LngpO1xyXG5cclxuICAgIC8vIFNlY29uZCBoYWxmLXBsYW5lXHJcbiAgICBjb25zdCBkZXRlcm1pbmFudDIgPVxyXG4gICAgICAodGhpcy50YW5nZW50Mi54IC0gdGhpcy52ZXJ0ZXgueCkgKiAodmVsb2NpdHkueSAtIHRoaXMudmVydGV4LnkpIC1cclxuICAgICAgKHRoaXMudGFuZ2VudDIueSAtIHRoaXMudmVydGV4LnkpICogKHZlbG9jaXR5LnggLSB0aGlzLnZlcnRleC54KTtcclxuXHJcbiAgICByZXR1cm4gZGV0ZXJtaW5hbnQxID4gMCAmJiBkZXRlcm1pbmFudDIgPCAwO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBBZ2VudCB9IGZyb20gXCIuLi9BZ2VudFwiO1xyXG5pbXBvcnQgeyBDb2xvdXIgfSBmcm9tIFwiLi4vQ29sb3VyXCI7XHJcbmltcG9ydCB7IEdlb21ldHJ5IH0gZnJvbSBcIi4uL0dlb21ldHJ5XCI7XHJcbmltcG9ydCB7IFZlY3RvcjJmIH0gZnJvbSBcIi4uL1ZlY3RvcjJmXCI7XHJcbmltcG9ydCB7IFZlbG9jaXR5T2JzdGFjbGUgfSBmcm9tIFwiLi4vVmVsb2NpdHlPYnN0YWNsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZPQWdlbnQgZXh0ZW5kcyBBZ2VudCB7XHJcbiAgcHJpdmF0ZSBfY29sb3VyOiBDb2xvdXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaWQ6IG51bWJlcixcclxuICAgIHN0YXJ0UG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgZ2V0UHJlZmVycmVkVmVsb2NpdHk6IChwb3NpdGlvbjogVmVjdG9yMmYpID0+IFZlY3RvcjJmXHJcbiAgKSB7XHJcbiAgICBzdXBlcihpZCwgc3RhcnRQb3NpdGlvbiwgZ2V0UHJlZmVycmVkVmVsb2NpdHkpO1xyXG4gICAgdGhpcy5fY29sb3VyID0gQ29sb3VyLkdyZWVuO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29sb3VyKCk6IENvbG91ciB7XHJcbiAgICByZXR1cm4gdGhpcy5fY29sb3VyO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKGRlbHRhVDogbnVtYmVyLCBuZWlnaGJvdXJzOiBBZ2VudFtdKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5faXNEb25lKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwcmVmZXJyZWRWZWxvY2l0eSA9IHRoaXMuX2dldFByZWZlcnJlZFZlbG9jaXR5KHRoaXMuX3Bvc2l0aW9uKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBkb25lXHJcbiAgICBpZiAocHJlZmVycmVkVmVsb2NpdHkueCA9PSAwICYmIHByZWZlcnJlZFZlbG9jaXR5LnkgPT0gMCkge1xyXG4gICAgICB0aGlzLl9pc0RvbmUgPSB0cnVlO1xyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcbiAgICAgIHRoaXMuX2NvbG91ciA9IENvbG91ci5XaGl0ZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzYWZlID0gdHJ1ZTtcclxuICAgIGxldCBjb2xsaXNpb247XHJcbiAgICBsZXQgYWdlbnQ7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIC8vIENoZWNrIHdoZXRoZXIgcHJlZmVycmVkIHZlbG9jaXR5IGlzIHNhZmVcclxuICAgICAgY29uc3QgdmVsb2NpdHlPYnN0YWNsZSA9IHRoaXMuZ2V0VmVsb2NpdHlPYnN0YWNsZShuZWlnaGJvdXJzW2ldKTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHZlbG9jaXR5T2JzdGFjbGUgIT0gbnVsbCAmJlxyXG4gICAgICAgIHZlbG9jaXR5T2JzdGFjbGUuY29udGFpbnMocHJlZmVycmVkVmVsb2NpdHkpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHNhZmUgPSBmYWxzZTtcclxuICAgICAgICBjb2xsaXNpb24gPSB2ZWxvY2l0eU9ic3RhY2xlO1xyXG4gICAgICAgIGFnZW50ID0gaTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHByZWZlcnJlZCB2ZWxvY2l0eSBpcyBzYWZlLCBnbyBpbiB0aGF0IGRpcmVjdGlvblxyXG4gICAgaWYgKHNhZmUpIHtcclxuICAgICAgdGhpcy5fZGlyZWN0aW9uID0gcHJlZmVycmVkVmVsb2NpdHk7XHJcbiAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKFxyXG4gICAgICAgIHRoaXMuX2RpcmVjdGlvbi5tdWx0aXBseSgoZGVsdGFUICogNjApIC8gMTAwMClcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fY29sb3VyID0gQ29sb3VyLkdyZWVuO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgbm90LCB0cnkgY2xvc2VzdCBwb2ludCBvbiBsZWZ0IGFuZCByaWdodCBlZGdlIG9mIGNvbmVcclxuICAgIGlmIChjb2xsaXNpb24gIT0gbnVsbCkge1xyXG4gICAgICBjb25zdCBsZWZ0ID0gR2VvbWV0cnkuZ2V0Q2xvc2VzdFBvaW50T25MaW5lKFxyXG4gICAgICAgIGNvbGxpc2lvbi52ZXJ0ZXgsXHJcbiAgICAgICAgY29sbGlzaW9uLnRhbmdlbnQxLFxyXG4gICAgICAgIHByZWZlcnJlZFZlbG9jaXR5XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCByaWdodCA9IEdlb21ldHJ5LmdldENsb3Nlc3RQb2ludE9uTGluZShcclxuICAgICAgICBjb2xsaXNpb24udmVydGV4LFxyXG4gICAgICAgIGNvbGxpc2lvbi50YW5nZW50MixcclxuICAgICAgICBwcmVmZXJyZWRWZWxvY2l0eVxyXG4gICAgICApO1xyXG5cclxuICAgICAgbGV0IGxlZnRTYWZlID0gdHJ1ZTtcclxuICAgICAgbGV0IHJpZ2h0U2FmZSA9IHRydWU7XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoaSAhPSBhZ2VudCkge1xyXG4gICAgICAgICAgY29uc3QgdmVsb2NpdHlPYnN0YWNsZSA9IHRoaXMuZ2V0VmVsb2NpdHlPYnN0YWNsZShuZWlnaGJvdXJzW2ldKTtcclxuICAgICAgICAgIGlmICh2ZWxvY2l0eU9ic3RhY2xlICE9IG51bGwgJiYgdmVsb2NpdHlPYnN0YWNsZS5jb250YWlucyhsZWZ0KSkge1xyXG4gICAgICAgICAgICBsZWZ0U2FmZSA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHZlbG9jaXR5T2JzdGFjbGUgIT0gbnVsbCAmJiB2ZWxvY2l0eU9ic3RhY2xlLmNvbnRhaW5zKGxlZnQpKSB7XHJcbiAgICAgICAgICAgIHJpZ2h0U2FmZSA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGxlZnRTYWZlICYmIHJpZ2h0U2FmZSkge1xyXG4gICAgICAgIC8vIElmIGJvdGggYXJlIHNhZmUgdGFrZSBjbG9zZXN0IHRvIHByZWZlcnJlZCB2ZWxvY2l0eVxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIGxlZnQuc3VidHJhY3QocHJlZmVycmVkVmVsb2NpdHkpLm1hZ25pdHVkZVNxcmQoKSA8XHJcbiAgICAgICAgICByaWdodC5zdWJ0cmFjdChwcmVmZXJyZWRWZWxvY2l0eSkubWFnbml0dWRlU3FyZCgpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBsZWZ0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSByaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAobGVmdFNhZmUpIHtcclxuICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBsZWZ0O1xyXG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0U2FmZSkge1xyXG4gICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHJpZ2h0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobGVmdFNhZmUgfHwgcmlnaHRTYWZlKSB7XHJcbiAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQoXHJcbiAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24ubXVsdGlwbHkoKGRlbHRhVCAqIDYwKSAvIDEwMDApXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnNldENvbG91cihwcmVmZXJyZWRWZWxvY2l0eSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRWxzZSwgc2FtcGxlIHJhbmRvbSB2ZWxvY2l0aWVzIGFuZCBzZWxlY3QgdGhlIG9uZSB3aXRoIHRoZSBsZWFzdCBwZW5hbHR5XHJcbiAgICBjb25zdCBzYW1wbGVzID0gMTAwOyAvLyBudW1iZXIgb2YgdmVsb2NpdGllcyB0byB0cnlcclxuICAgIGNvbnN0IHcgPSAxMDA7IC8vIHBhcmFtZXRlciBmb3IgcGVuYWx0eVxyXG4gICAgbGV0IG1pblBlbmFsdHkgPSBJbmZpbml0eTtcclxuICAgIGxldCBiZXN0VmVsb2NpdHkgPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzYW1wbGVzOyBpKyspIHtcclxuICAgICAgLy8gU2FtcGxlIHZlbG9jaXR5IGZyb20gZW50aXJlIGFsbG93ZWQgdmVsb2NpdHkgc3BhY2VcclxuICAgICAgY29uc3Qgc2FtcGxlID0gbmV3IFZlY3RvcjJmKDAsIDApLnNhbXBsZSgxKTtcclxuICAgICAgbGV0IG1pblRpbWVUb0NvbGxpc2lvbiA9IEluZmluaXR5O1xyXG5cclxuICAgICAgLy8gRmluZCB0aW1lIHRvIGZpcnN0IGNvbGxpc2lvblxyXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5laWdoYm91cnMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBjb25zdCBiID0gbmVpZ2hib3Vyc1tqXTtcclxuICAgICAgICBjb25zdCB2ZWxvY2l0eU9ic3RhY2xlID0gdGhpcy5nZXRWZWxvY2l0eU9ic3RhY2xlKGIpO1xyXG5cclxuICAgICAgICBpZiAodmVsb2NpdHlPYnN0YWNsZSA9PSBudWxsIHx8IHZlbG9jaXR5T2JzdGFjbGUuY29udGFpbnMoc2FtcGxlKSkge1xyXG4gICAgICAgICAgY29uc3QgdGltZVRvQ29sbGlzaW9uID0gR2VvbWV0cnkuZ2V0Rmlyc3RSYXlDaXJjbGVJbnRlcnNlY3Rpb24oXHJcbiAgICAgICAgICAgIGIuZ2V0UG9zaXRpb24oKS5hZGQoYi5nZXREaXJlY3Rpb24oKSksXHJcbiAgICAgICAgICAgIHRoaXMuUmFkaXVzICsgYi5SYWRpdXMsXHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uLFxyXG4gICAgICAgICAgICBzYW1wbGUuc3VidHJhY3QoYi5nZXREaXJlY3Rpb24oKSlcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgaWYgKHRpbWVUb0NvbGxpc2lvbiA8IG1pblRpbWVUb0NvbGxpc2lvbikge1xyXG4gICAgICAgICAgICBtaW5UaW1lVG9Db2xsaXNpb24gPSB0aW1lVG9Db2xsaXNpb247XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDYWxjdWxhdGUgcGVuYWx0eVxyXG4gICAgICBjb25zdCBwZW5hbHR5ID1cclxuICAgICAgICB3IC8gbWluVGltZVRvQ29sbGlzaW9uICsgcHJlZmVycmVkVmVsb2NpdHkuc3VidHJhY3Qoc2FtcGxlKS5tYWduaXR1ZGUoKTsgLy8gVFMgY29ycmVjdGx5IGhhbmRsZXMgZGl2aWRlIGJ5IHplcm8gb3IgaW5maW5pdHlcclxuXHJcbiAgICAgIGlmIChwZW5hbHR5IDwgbWluUGVuYWx0eSkge1xyXG4gICAgICAgIG1pblBlbmFsdHkgPSBwZW5hbHR5O1xyXG4gICAgICAgIGJlc3RWZWxvY2l0eSA9IHNhbXBsZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2RpcmVjdGlvbiA9IGJlc3RWZWxvY2l0eTtcclxuICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKFxyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24ubXVsdGlwbHkoKGRlbHRhVCAqIDYwKSAvIDEwMDApXHJcbiAgICApO1xyXG4gICAgdGhpcy5zZXRDb2xvdXIocHJlZmVycmVkVmVsb2NpdHkpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRWZWxvY2l0eU9ic3RhY2xlKGI6IEFnZW50KTogVmVsb2NpdHlPYnN0YWNsZSB8IG51bGwge1xyXG4gICAgY29uc3QgdmVsb2NpdHlCID0gYi5nZXREaXJlY3Rpb24oKTtcclxuXHJcbiAgICAvLyBUcmFuc2xhdGUgb3JpZ2luIHRvIHRoaXMgYWdlbnQncyBwb3NpdGlvblxyXG4gICAgY29uc3QgcG9zaXRpb25CID0gYi5nZXRQb3NpdGlvbigpLnN1YnRyYWN0KHRoaXMuX3Bvc2l0aW9uKTtcclxuXHJcbiAgICAvLyBGaW5kIE1pbmtvd3NraSBzdW0gb2YgYWdlbnRzXHJcbiAgICBjb25zdCBjZW50cmUgPSBwb3NpdGlvbkIuYWRkKHZlbG9jaXR5Qik7XHJcbiAgICBjb25zdCByYWRpdXMgPSBiLlJhZGl1cyArIHRoaXMuUmFkaXVzO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSBhbmdsZXNcclxuICAgIGNvbnN0IGRpZmYgPSB2ZWxvY2l0eUIuc3VidHJhY3QoY2VudHJlKTtcclxuICAgIGNvbnN0IGRpc3QgPSBkaWZmLm1hZ25pdHVkZSgpO1xyXG4gICAgaWYgKGRpc3QgPCByYWRpdXMpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGhldGEgPSBNYXRoLmFjb3MocmFkaXVzIC8gZGlzdCk7XHJcbiAgICBjb25zdCBwaGkgPSBNYXRoLmF0YW4yKGRpZmYueSwgZGlmZi54KTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgdGFuZ2VudCB2ZWN0b3JzXHJcbiAgICBjb25zdCBhbmdsZTEgPSBwaGkgKyB0aGV0YTtcclxuICAgIGNvbnN0IHRhbmdlbnQxID0gbmV3IFZlY3RvcjJmKFxyXG4gICAgICBjZW50cmUueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlMSksXHJcbiAgICAgIGNlbnRyZS55ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUxKVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBhbmdsZTIgPSBwaGkgLSB0aGV0YTtcclxuICAgIGNvbnN0IHRhbmdlbnQyID0gbmV3IFZlY3RvcjJmKFxyXG4gICAgICBjZW50cmUueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlMiksXHJcbiAgICAgIGNlbnRyZS55ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUyKVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBSZXR1cm4gdmVsb2NpdHkgb2JzdGFjbGVcclxuICAgIHJldHVybiBuZXcgVmVsb2NpdHlPYnN0YWNsZSh2ZWxvY2l0eUIsIHRhbmdlbnQxLCB0YW5nZW50Mik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldENvbG91cihwcmVmZXJyZWRWZWxvY2l0eTogVmVjdG9yMmYpIHtcclxuICAgIGNvbnN0IHN0cmVzcyA9IHByZWZlcnJlZFZlbG9jaXR5LnN1YnRyYWN0KHRoaXMuX2RpcmVjdGlvbikubWFnbml0dWRlKCk7XHJcbiAgICB0aGlzLl9jb2xvdXIgPSBDb2xvdXIuRnJvbUhzdigoMSAtIHN0cmVzcykgLyAzLCAxLCAxKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQWdlbnQgfSBmcm9tIFwiLi4vQWdlbnRcIjtcclxuaW1wb3J0IHsgQ29sb3VyIH0gZnJvbSBcIi4uL0NvbG91clwiO1xyXG5pbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gXCIuLi9HZW9tZXRyeVwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyZiB9IGZyb20gXCIuLi9WZWN0b3IyZlwiO1xyXG5pbXBvcnQgeyBWZWxvY2l0eU9ic3RhY2xlIH0gZnJvbSBcIi4uL1ZlbG9jaXR5T2JzdGFjbGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBSVk9BZ2VudCBleHRlbmRzIEFnZW50IHtcclxuICBwcml2YXRlIF9jb2xvdXI6IENvbG91cjtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBpZDogbnVtYmVyLFxyXG4gICAgc3RhcnRQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICBnZXRQcmVmZXJyZWRWZWxvY2l0eTogKHBvc2l0aW9uOiBWZWN0b3IyZikgPT4gVmVjdG9yMmZcclxuICApIHtcclxuICAgIHN1cGVyKGlkLCBzdGFydFBvc2l0aW9uLCBnZXRQcmVmZXJyZWRWZWxvY2l0eSk7XHJcbiAgICB0aGlzLl9jb2xvdXIgPSBDb2xvdXIuR3JlZW47XHJcbiAgfVxyXG5cclxuICBnZXRDb2xvdXIoKTogQ29sb3VyIHtcclxuICAgIHJldHVybiB0aGlzLl9jb2xvdXI7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoZGVsdGFUOiBudW1iZXIsIG5laWdoYm91cnM6IEFnZW50W10pOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9pc0RvbmUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByZWZlcnJlZFZlbG9jaXR5ID0gdGhpcy5fZ2V0UHJlZmVycmVkVmVsb2NpdHkodGhpcy5fcG9zaXRpb24pO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIGRvbmVcclxuICAgIGlmIChwcmVmZXJyZWRWZWxvY2l0eS54ID09IDAgJiYgcHJlZmVycmVkVmVsb2NpdHkueSA9PSAwKSB7XHJcbiAgICAgIHRoaXMuX2lzRG9uZSA9IHRydWU7XHJcbiAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IG5ldyBWZWN0b3IyZigwLCAwKTtcclxuICAgICAgdGhpcy5fY29sb3VyID0gQ29sb3VyLldoaXRlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNhZmUgPSB0cnVlO1xyXG4gICAgbGV0IGNvbGxpc2lvbjtcclxuICAgIGxldCBhZ2VudDtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgLy8gQ2hlY2sgd2hldGhlciBwcmVmZXJyZWQgdmVsb2NpdHkgaXMgc2FmZVxyXG4gICAgICBjb25zdCB2ZWxvY2l0eU9ic3RhY2xlID0gdGhpcy5nZXRSZWNpcHJvY2FsVmVsb2NpdHlPYnN0YWNsZShcclxuICAgICAgICBuZWlnaGJvdXJzW2ldXHJcbiAgICAgICk7XHJcbiAgICAgIGlmIChcclxuICAgICAgICB2ZWxvY2l0eU9ic3RhY2xlICE9IG51bGwgJiZcclxuICAgICAgICB2ZWxvY2l0eU9ic3RhY2xlLmNvbnRhaW5zKHByZWZlcnJlZFZlbG9jaXR5KVxyXG4gICAgICApIHtcclxuICAgICAgICBzYWZlID0gZmFsc2U7XHJcbiAgICAgICAgY29sbGlzaW9uID0gdmVsb2NpdHlPYnN0YWNsZTtcclxuICAgICAgICBhZ2VudCA9IGk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBwcmVmZXJyZWQgdmVsb2NpdHkgaXMgc2FmZSwgZ28gaW4gdGhhdCBkaXJlY3Rpb25cclxuICAgIGlmIChzYWZlKSB7XHJcbiAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHByZWZlcnJlZFZlbG9jaXR5O1xyXG4gICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChcclxuICAgICAgICB0aGlzLl9kaXJlY3Rpb24ubXVsdGlwbHkoKGRlbHRhVCAqIDYwKSAvIDEwMDApXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX2NvbG91ciA9IENvbG91ci5HcmVlbjtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIG5vdCwgdHJ5IGNsb3Nlc3QgcG9pbnQgb24gbGVmdCBhbmQgcmlnaHQgZWRnZSBvZiBjb25lXHJcbiAgICBpZiAoY29sbGlzaW9uICE9IG51bGwpIHtcclxuICAgICAgY29uc3QgbGVmdCA9IEdlb21ldHJ5LmdldENsb3Nlc3RQb2ludE9uTGluZShcclxuICAgICAgICBjb2xsaXNpb24udmVydGV4LFxyXG4gICAgICAgIGNvbGxpc2lvbi50YW5nZW50MSxcclxuICAgICAgICBwcmVmZXJyZWRWZWxvY2l0eVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgcmlnaHQgPSBHZW9tZXRyeS5nZXRDbG9zZXN0UG9pbnRPbkxpbmUoXHJcbiAgICAgICAgY29sbGlzaW9uLnZlcnRleCxcclxuICAgICAgICBjb2xsaXNpb24udGFuZ2VudDIsXHJcbiAgICAgICAgcHJlZmVycmVkVmVsb2NpdHlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGxldCBsZWZ0U2FmZSA9IHRydWU7XHJcbiAgICAgIGxldCByaWdodFNhZmUgPSB0cnVlO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGkgIT0gYWdlbnQpIHtcclxuICAgICAgICAgIGNvbnN0IHZlbG9jaXR5T2JzdGFjbGUgPSB0aGlzLmdldFJlY2lwcm9jYWxWZWxvY2l0eU9ic3RhY2xlKFxyXG4gICAgICAgICAgICBuZWlnaGJvdXJzW2ldXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgaWYgKHZlbG9jaXR5T2JzdGFjbGUgIT0gbnVsbCAmJiB2ZWxvY2l0eU9ic3RhY2xlLmNvbnRhaW5zKGxlZnQpKSB7XHJcbiAgICAgICAgICAgIGxlZnRTYWZlID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAodmVsb2NpdHlPYnN0YWNsZSAhPSBudWxsICYmIHZlbG9jaXR5T2JzdGFjbGUuY29udGFpbnMobGVmdCkpIHtcclxuICAgICAgICAgICAgcmlnaHRTYWZlID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobGVmdFNhZmUgJiYgcmlnaHRTYWZlKSB7XHJcbiAgICAgICAgLy8gSWYgYm90aCBhcmUgc2FmZSB0YWtlIGNsb3Nlc3QgdG8gcHJlZmVycmVkIHZlbG9jaXR5XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgbGVmdC5zdWJ0cmFjdChwcmVmZXJyZWRWZWxvY2l0eSkubWFnbml0dWRlU3FyZCgpIDxcclxuICAgICAgICAgIHJpZ2h0LnN1YnRyYWN0KHByZWZlcnJlZFZlbG9jaXR5KS5tYWduaXR1ZGVTcXJkKClcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGxlZnQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHJpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChsZWZ0U2FmZSkge1xyXG4gICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGxlZnQ7XHJcbiAgICAgIH0gZWxzZSBpZiAocmlnaHRTYWZlKSB7XHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gcmlnaHQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChsZWZ0U2FmZSB8fCByaWdodFNhZmUpIHtcclxuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChcclxuICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbi5tdWx0aXBseSgoZGVsdGFUICogNjApIC8gMTAwMClcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuc2V0Q29sb3VyKHByZWZlcnJlZFZlbG9jaXR5KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBFbHNlLCBzYW1wbGUgcmFuZG9tIHZlbG9jaXRpZXMgYW5kIHNlbGVjdCB0aGUgb25lIHdpdGggdGhlIGxlYXN0IHBlbmFsdHlcclxuICAgIGNvbnN0IHNhbXBsZXMgPSAxMDA7IC8vIG51bWJlciBvZiB2ZWxvY2l0aWVzIHRvIHRyeVxyXG4gICAgY29uc3QgdyA9IDEwMDsgLy8gcGFyYW1ldGVyIGZvciBwZW5hbHR5XHJcbiAgICBsZXQgbWluUGVuYWx0eSA9IEluZmluaXR5O1xyXG4gICAgbGV0IGJlc3RWZWxvY2l0eSA9IG5ldyBWZWN0b3IyZigwLCAwKTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNhbXBsZXM7IGkrKykge1xyXG4gICAgICAvLyBTYW1wbGUgdmVsb2NpdHkgZnJvbSBlbnRpcmUgYWxsb3dlZCB2ZWxvY2l0eSBzcGFjZVxyXG4gICAgICBjb25zdCBzYW1wbGUgPSBuZXcgVmVjdG9yMmYoMCwgMCkuc2FtcGxlKDEpO1xyXG4gICAgICBsZXQgbWluVGltZVRvQ29sbGlzaW9uID0gSW5maW5pdHk7XHJcblxyXG4gICAgICAvLyBGaW5kIHRpbWUgdG8gZmlyc3QgY29sbGlzaW9uXHJcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGNvbnN0IGIgPSBuZWlnaGJvdXJzW2pdO1xyXG4gICAgICAgIGNvbnN0IHZlbG9jaXR5T2JzdGFjbGUgPSB0aGlzLmdldFJlY2lwcm9jYWxWZWxvY2l0eU9ic3RhY2xlKGIpO1xyXG5cclxuICAgICAgICBpZiAodmVsb2NpdHlPYnN0YWNsZSA9PSBudWxsIHx8IHZlbG9jaXR5T2JzdGFjbGUuY29udGFpbnMoc2FtcGxlKSkge1xyXG4gICAgICAgICAgY29uc3QgdGltZVRvQ29sbGlzaW9uID0gR2VvbWV0cnkuZ2V0Rmlyc3RSYXlDaXJjbGVJbnRlcnNlY3Rpb24oXHJcbiAgICAgICAgICAgIGIuZ2V0UG9zaXRpb24oKS5hZGQoYi5nZXREaXJlY3Rpb24oKSksXHJcbiAgICAgICAgICAgIHRoaXMuUmFkaXVzICsgYi5SYWRpdXMsXHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uLFxyXG4gICAgICAgICAgICBzYW1wbGUuc3VidHJhY3QoYi5nZXREaXJlY3Rpb24oKSlcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgaWYgKHRpbWVUb0NvbGxpc2lvbiA8IG1pblRpbWVUb0NvbGxpc2lvbikge1xyXG4gICAgICAgICAgICBtaW5UaW1lVG9Db2xsaXNpb24gPSB0aW1lVG9Db2xsaXNpb247XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDYWxjdWxhdGUgcGVuYWx0eVxyXG4gICAgICBjb25zdCBwZW5hbHR5ID1cclxuICAgICAgICB3IC8gbWluVGltZVRvQ29sbGlzaW9uICsgcHJlZmVycmVkVmVsb2NpdHkuc3VidHJhY3Qoc2FtcGxlKS5tYWduaXR1ZGUoKTsgLy8gVFMgY29ycmVjdGx5IGhhbmRsZXMgZGl2aWRlIGJ5IHplcm8gb3IgaW5maW5pdHlcclxuXHJcbiAgICAgIGlmIChwZW5hbHR5IDwgbWluUGVuYWx0eSkge1xyXG4gICAgICAgIG1pblBlbmFsdHkgPSBwZW5hbHR5O1xyXG4gICAgICAgIGJlc3RWZWxvY2l0eSA9IHNhbXBsZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2RpcmVjdGlvbiA9IGJlc3RWZWxvY2l0eTtcclxuICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKFxyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24ubXVsdGlwbHkoKGRlbHRhVCAqIDYwKSAvIDEwMDApXHJcbiAgICApO1xyXG4gICAgdGhpcy5zZXRDb2xvdXIocHJlZmVycmVkVmVsb2NpdHkpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRSZWNpcHJvY2FsVmVsb2NpdHlPYnN0YWNsZShiOiBBZ2VudCk6IFZlbG9jaXR5T2JzdGFjbGUgfCBudWxsIHtcclxuICAgIGNvbnN0IHZlbG9jaXR5QSA9IHRoaXMuZ2V0RGlyZWN0aW9uKCk7XHJcbiAgICBjb25zdCB2ZWxvY2l0eUIgPSBiLmdldERpcmVjdGlvbigpO1xyXG4gICAgY29uc3QgdmVydGV4ID0gdmVsb2NpdHlBLmFkZCh2ZWxvY2l0eUIpLmRpdmlkZSgyKTtcclxuXHJcbiAgICAvLyBUcmFuc2xhdGUgb3JpZ2luIHRvIHRoaXMgYWdlbnQncyBwb3NpdGlvblxyXG4gICAgY29uc3QgcG9zaXRpb25CID0gYi5nZXRQb3NpdGlvbigpLnN1YnRyYWN0KHRoaXMuX3Bvc2l0aW9uKTtcclxuXHJcbiAgICAvLyBGaW5kIE1pbmtvd3NraSBzdW0gb2YgYWdlbnRzXHJcbiAgICBjb25zdCBjZW50cmUgPSBwb3NpdGlvbkIuYWRkKHZlbG9jaXR5Qik7XHJcbiAgICBjb25zdCByYWRpdXMgPSBiLlJhZGl1cyArIHRoaXMuUmFkaXVzO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSBhbmdsZXNcclxuICAgIGNvbnN0IGRpZmYgPSB2ZWxvY2l0eUIuc3VidHJhY3QoY2VudHJlKTtcclxuICAgIGNvbnN0IGRpc3QgPSBkaWZmLm1hZ25pdHVkZSgpO1xyXG4gICAgaWYgKGRpc3QgPCByYWRpdXMpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGhldGEgPSBNYXRoLmFjb3MocmFkaXVzIC8gZGlzdCk7XHJcbiAgICBjb25zdCBwaGkgPSBNYXRoLmF0YW4yKGRpZmYueSwgZGlmZi54KTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgdGFuZ2VudCB2ZWN0b3JzXHJcbiAgICBjb25zdCBhbmdsZTEgPSBwaGkgKyB0aGV0YTtcclxuICAgIGNvbnN0IHRhbmdlbnQxID0gbmV3IFZlY3RvcjJmKFxyXG4gICAgICBjZW50cmUueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlMSksXHJcbiAgICAgIGNlbnRyZS55ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUxKVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBhbmdsZTIgPSBwaGkgLSB0aGV0YTtcclxuICAgIGNvbnN0IHRhbmdlbnQyID0gbmV3IFZlY3RvcjJmKFxyXG4gICAgICBjZW50cmUueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlMiksXHJcbiAgICAgIGNlbnRyZS55ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUyKVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBSZXR1cm4gdmVsb2NpdHkgb2JzdGFjbGVcclxuICAgIHJldHVybiBuZXcgVmVsb2NpdHlPYnN0YWNsZSh2ZXJ0ZXgsIHRhbmdlbnQxLCB0YW5nZW50Mik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldENvbG91cihwcmVmZXJyZWRWZWxvY2l0eTogVmVjdG9yMmYpIHtcclxuICAgIGNvbnN0IHN0cmVzcyA9IHByZWZlcnJlZFZlbG9jaXR5LnN1YnRyYWN0KHRoaXMuX2RpcmVjdGlvbikubWFnbml0dWRlKCk7XHJcbiAgICB0aGlzLl9jb2xvdXIgPSBDb2xvdXIuRnJvbUhzdigoMSAtIHN0cmVzcykgLyAzLCAxLCAxKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQWdlbnQgfSBmcm9tIFwiLi4vQWdlbnRcIjtcclxuaW1wb3J0IHsgQ29sb3VyIH0gZnJvbSBcIi4uL0NvbG91clwiO1xyXG5pbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gXCIuLi9HZW9tZXRyeVwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyZiB9IGZyb20gXCIuLi9WZWN0b3IyZlwiO1xyXG5pbXBvcnQgeyBWZWxvY2l0eU9ic3RhY2xlIH0gZnJvbSBcIi4uL1ZlbG9jaXR5T2JzdGFjbGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBIUlZPQWdlbnQgZXh0ZW5kcyBBZ2VudCB7XHJcbiAgcHJpdmF0ZSBfY29sb3VyOiBDb2xvdXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaWQ6IG51bWJlcixcclxuICAgIHN0YXJ0UG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgZ2V0UHJlZmVycmVkVmVsb2NpdHk6IChwb3NpdGlvbjogVmVjdG9yMmYpID0+IFZlY3RvcjJmXHJcbiAgKSB7XHJcbiAgICBzdXBlcihpZCwgc3RhcnRQb3NpdGlvbiwgZ2V0UHJlZmVycmVkVmVsb2NpdHkpO1xyXG4gICAgdGhpcy5fY29sb3VyID0gQ29sb3VyLkdyZWVuO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29sb3VyKCk6IENvbG91ciB7XHJcbiAgICByZXR1cm4gdGhpcy5fY29sb3VyO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKGRlbHRhVDogbnVtYmVyLCBuZWlnaGJvdXJzOiBBZ2VudFtdKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5faXNEb25lKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwcmVmZXJyZWRWZWxvY2l0eSA9IHRoaXMuX2dldFByZWZlcnJlZFZlbG9jaXR5KHRoaXMuX3Bvc2l0aW9uKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBkb25lXHJcbiAgICBpZiAocHJlZmVycmVkVmVsb2NpdHkueCA9PSAwICYmIHByZWZlcnJlZFZlbG9jaXR5LnkgPT0gMCkge1xyXG4gICAgICB0aGlzLl9pc0RvbmUgPSB0cnVlO1xyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcbiAgICAgIHRoaXMuX2NvbG91ciA9IENvbG91ci5XaGl0ZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzYWZlID0gdHJ1ZTtcclxuICAgIGxldCBjb2xsaXNpb247XHJcbiAgICBsZXQgYWdlbnQ7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIC8vIENoZWNrIHdoZXRoZXIgcHJlZmVycmVkIHZlbG9jaXR5IGlzIHNhZmVcclxuICAgICAgY29uc3QgdmVsb2NpdHlPYnN0YWNsZSA9IHRoaXMuZ2V0SHlicmlkUmVjaXByb2NhbFZlbG9jaXR5T2JzdGFjbGUoXHJcbiAgICAgICAgbmVpZ2hib3Vyc1tpXVxyXG4gICAgICApO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdmVsb2NpdHlPYnN0YWNsZSAhPSBudWxsICYmXHJcbiAgICAgICAgdmVsb2NpdHlPYnN0YWNsZS5jb250YWlucyhwcmVmZXJyZWRWZWxvY2l0eSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgc2FmZSA9IGZhbHNlO1xyXG4gICAgICAgIGNvbGxpc2lvbiA9IHZlbG9jaXR5T2JzdGFjbGU7XHJcbiAgICAgICAgYWdlbnQgPSBpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgcHJlZmVycmVkIHZlbG9jaXR5IGlzIHNhZmUsIGdvIGluIHRoYXQgZGlyZWN0aW9uXHJcbiAgICBpZiAoc2FmZSkge1xyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24gPSBwcmVmZXJyZWRWZWxvY2l0eTtcclxuICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQoXHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uLm11bHRpcGx5KChkZWx0YVQgKiA2MCkgLyAxMDAwKVxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9jb2xvdXIgPSBDb2xvdXIuR3JlZW47XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBub3QsIHRyeSBjbG9zZXN0IHBvaW50IG9uIGxlZnQgYW5kIHJpZ2h0IGVkZ2Ugb2YgY29uZVxyXG4gICAgaWYgKGNvbGxpc2lvbiAhPSBudWxsKSB7XHJcbiAgICAgIGNvbnN0IGxlZnQgPSBHZW9tZXRyeS5nZXRDbG9zZXN0UG9pbnRPbkxpbmUoXHJcbiAgICAgICAgY29sbGlzaW9uLnZlcnRleCxcclxuICAgICAgICBjb2xsaXNpb24udGFuZ2VudDEsXHJcbiAgICAgICAgcHJlZmVycmVkVmVsb2NpdHlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IHJpZ2h0ID0gR2VvbWV0cnkuZ2V0Q2xvc2VzdFBvaW50T25MaW5lKFxyXG4gICAgICAgIGNvbGxpc2lvbi52ZXJ0ZXgsXHJcbiAgICAgICAgY29sbGlzaW9uLnRhbmdlbnQyLFxyXG4gICAgICAgIHByZWZlcnJlZFZlbG9jaXR5XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBsZXQgbGVmdFNhZmUgPSB0cnVlO1xyXG4gICAgICBsZXQgcmlnaHRTYWZlID0gdHJ1ZTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChpICE9IGFnZW50KSB7XHJcbiAgICAgICAgICBjb25zdCB2ZWxvY2l0eU9ic3RhY2xlID0gdGhpcy5nZXRIeWJyaWRSZWNpcHJvY2FsVmVsb2NpdHlPYnN0YWNsZShcclxuICAgICAgICAgICAgbmVpZ2hib3Vyc1tpXVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGlmICh2ZWxvY2l0eU9ic3RhY2xlICE9IG51bGwgJiYgdmVsb2NpdHlPYnN0YWNsZS5jb250YWlucyhsZWZ0KSkge1xyXG4gICAgICAgICAgICBsZWZ0U2FmZSA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHZlbG9jaXR5T2JzdGFjbGUgIT0gbnVsbCAmJiB2ZWxvY2l0eU9ic3RhY2xlLmNvbnRhaW5zKGxlZnQpKSB7XHJcbiAgICAgICAgICAgIHJpZ2h0U2FmZSA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGxlZnRTYWZlICYmIHJpZ2h0U2FmZSkge1xyXG4gICAgICAgIC8vIElmIGJvdGggYXJlIHNhZmUgdGFrZSBjbG9zZXN0IHRvIHByZWZlcnJlZCB2ZWxvY2l0eVxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIGxlZnQuc3VidHJhY3QocHJlZmVycmVkVmVsb2NpdHkpLm1hZ25pdHVkZVNxcmQoKSA8XHJcbiAgICAgICAgICByaWdodC5zdWJ0cmFjdChwcmVmZXJyZWRWZWxvY2l0eSkubWFnbml0dWRlU3FyZCgpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBsZWZ0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSByaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAobGVmdFNhZmUpIHtcclxuICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBsZWZ0O1xyXG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0U2FmZSkge1xyXG4gICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHJpZ2h0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobGVmdFNhZmUgfHwgcmlnaHRTYWZlKSB7XHJcbiAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQoXHJcbiAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24ubXVsdGlwbHkoKGRlbHRhVCAqIDYwKSAvIDEwMDApXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnNldENvbG91cihwcmVmZXJyZWRWZWxvY2l0eSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRWxzZSwgc2FtcGxlIHJhbmRvbSB2ZWxvY2l0aWVzIGFuZCBzZWxlY3QgdGhlIG9uZSB3aXRoIHRoZSBsZWFzdCBwZW5hbHR5XHJcbiAgICBjb25zdCBzYW1wbGVzID0gMTAwOyAvLyBudW1iZXIgb2YgdmVsb2NpdGllcyB0byB0cnlcclxuICAgIGNvbnN0IHcgPSAxMDA7IC8vIHBhcmFtZXRlciBmb3IgcGVuYWx0eVxyXG4gICAgbGV0IG1pblBlbmFsdHkgPSBJbmZpbml0eTtcclxuICAgIGxldCBiZXN0VmVsb2NpdHkgPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzYW1wbGVzOyBpKyspIHtcclxuICAgICAgLy8gU2FtcGxlIHZlbG9jaXR5IGZyb20gZW50aXJlIGFsbG93ZWQgdmVsb2NpdHkgc3BhY2VcclxuICAgICAgY29uc3Qgc2FtcGxlID0gbmV3IFZlY3RvcjJmKDAsIDApLnNhbXBsZSgxKTtcclxuICAgICAgbGV0IG1pblRpbWVUb0NvbGxpc2lvbiA9IEluZmluaXR5O1xyXG5cclxuICAgICAgLy8gRmluZCB0aW1lIHRvIGZpcnN0IGNvbGxpc2lvblxyXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5laWdoYm91cnMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBjb25zdCBiID0gbmVpZ2hib3Vyc1tqXTtcclxuICAgICAgICBjb25zdCB2ZWxvY2l0eU9ic3RhY2xlID0gdGhpcy5nZXRIeWJyaWRSZWNpcHJvY2FsVmVsb2NpdHlPYnN0YWNsZShiKTtcclxuXHJcbiAgICAgICAgaWYgKHZlbG9jaXR5T2JzdGFjbGUgPT0gbnVsbCB8fCB2ZWxvY2l0eU9ic3RhY2xlLmNvbnRhaW5zKHNhbXBsZSkpIHtcclxuICAgICAgICAgIGNvbnN0IHRpbWVUb0NvbGxpc2lvbiA9IEdlb21ldHJ5LmdldEZpcnN0UmF5Q2lyY2xlSW50ZXJzZWN0aW9uKFxyXG4gICAgICAgICAgICBiLmdldFBvc2l0aW9uKCkuYWRkKGIuZ2V0RGlyZWN0aW9uKCkpLFxyXG4gICAgICAgICAgICB0aGlzLlJhZGl1cyArIGIuUmFkaXVzLFxyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbixcclxuICAgICAgICAgICAgc2FtcGxlLnN1YnRyYWN0KGIuZ2V0RGlyZWN0aW9uKCkpXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIGlmICh0aW1lVG9Db2xsaXNpb24gPCBtaW5UaW1lVG9Db2xsaXNpb24pIHtcclxuICAgICAgICAgICAgbWluVGltZVRvQ29sbGlzaW9uID0gdGltZVRvQ29sbGlzaW9uO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2FsY3VsYXRlIHBlbmFsdHlcclxuICAgICAgY29uc3QgcGVuYWx0eSA9XHJcbiAgICAgICAgdyAvIG1pblRpbWVUb0NvbGxpc2lvbiArIHByZWZlcnJlZFZlbG9jaXR5LnN1YnRyYWN0KHNhbXBsZSkubWFnbml0dWRlKCk7IC8vIFRTIGNvcnJlY3RseSBoYW5kbGVzIGRpdmlkZSBieSB6ZXJvIG9yIGluZmluaXR5XHJcblxyXG4gICAgICBpZiAocGVuYWx0eSA8IG1pblBlbmFsdHkpIHtcclxuICAgICAgICBtaW5QZW5hbHR5ID0gcGVuYWx0eTtcclxuICAgICAgICBiZXN0VmVsb2NpdHkgPSBzYW1wbGU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9kaXJlY3Rpb24gPSBiZXN0VmVsb2NpdHk7XHJcbiAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChcclxuICAgICAgdGhpcy5fZGlyZWN0aW9uLm11bHRpcGx5KChkZWx0YVQgKiA2MCkgLyAxMDAwKVxyXG4gICAgKTtcclxuICAgIHRoaXMuc2V0Q29sb3VyKHByZWZlcnJlZFZlbG9jaXR5KTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0SHlicmlkUmVjaXByb2NhbFZlbG9jaXR5T2JzdGFjbGUoXHJcbiAgICBiOiBBZ2VudFxyXG4gICk6IFZlbG9jaXR5T2JzdGFjbGUgfCBudWxsIHtcclxuICAgIGNvbnN0IHZlbG9jaXR5QSA9IHRoaXMuZ2V0RGlyZWN0aW9uKCk7XHJcbiAgICBjb25zdCB2ZWxvY2l0eUIgPSBiLmdldERpcmVjdGlvbigpO1xyXG5cclxuICAgIC8vIEdldCByZXNwZWN0aXZlIHZlcnRpY2VzXHJcbiAgICBjb25zdCB2b1ZlcnRleCA9IHZlbG9jaXR5QjtcclxuICAgIGNvbnN0IHJ2b1ZlcnRleCA9IHZlbG9jaXR5QS5hZGQodmVsb2NpdHlCKS5kaXZpZGUoMik7XHJcblxyXG4gICAgLy8gVHJhbnNsYXRlIG9yaWdpbiB0byB0aGlzIGFnZW50J3MgcG9zaXRpb25cclxuICAgIGNvbnN0IHBvc2l0aW9uQiA9IGIuZ2V0UG9zaXRpb24oKS5zdWJ0cmFjdCh0aGlzLl9wb3NpdGlvbik7XHJcblxyXG4gICAgLy8gRmluZCBNaW5rb3dza2kgc3VtIG9mIGFnZW50c1xyXG4gICAgY29uc3QgY2VudHJlID0gcG9zaXRpb25CLmFkZCh2ZWxvY2l0eUIpO1xyXG4gICAgY29uc3QgcmFkaXVzID0gYi5SYWRpdXMgKyB0aGlzLlJhZGl1cztcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgYW5nbGVzXHJcbiAgICBjb25zdCBkaWZmID0gdmVsb2NpdHlCLnN1YnRyYWN0KGNlbnRyZSk7XHJcbiAgICBjb25zdCBkaXN0ID0gZGlmZi5tYWduaXR1ZGUoKTtcclxuICAgIGlmIChkaXN0IDwgcmFkaXVzKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRoZXRhID0gTWF0aC5hY29zKHJhZGl1cyAvIGRpc3QpO1xyXG4gICAgY29uc3QgcGhpID0gTWF0aC5hdGFuMihkaWZmLnksIGRpZmYueCk7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIHRhbmdlbnQgdmVjdG9yc1xyXG4gICAgY29uc3QgYW5nbGUxID0gcGhpICsgdGhldGE7XHJcbiAgICBjb25zdCB0YW5nZW50MSA9IG5ldyBWZWN0b3IyZihcclxuICAgICAgY2VudHJlLnggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZTEpLFxyXG4gICAgICBjZW50cmUueSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlMSlcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgYW5nbGUyID0gcGhpIC0gdGhldGE7XHJcbiAgICBjb25zdCB0YW5nZW50MiA9IG5ldyBWZWN0b3IyZihcclxuICAgICAgY2VudHJlLnggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZTIpLFxyXG4gICAgICBjZW50cmUueSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlMilcclxuICAgICk7XHJcblxyXG4gICAgLy8gQ2hlY2sgd2hpY2ggc2lkZSB0byBwYXNzIG9uXHJcbiAgICBjb25zdCBzaWRlID1cclxuICAgICAgKHBvc2l0aW9uQi54IC0gdmVsb2NpdHlCLngpICogKHZlbG9jaXR5QS55IC0gdmVsb2NpdHlCLnkpIC1cclxuICAgICAgKHBvc2l0aW9uQi55IC0gdmVsb2NpdHlCLnkpICogKHZlbG9jaXR5QS54IC0gdmVsb2NpdHlCLngpO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSB2ZXJ0ZXggYXMgaW50ZXJzZWN0aW9uIG9mIFZPIGFuZCBSVk8gY29uZVxyXG4gICAgbGV0IHZlcnRleDtcclxuICAgIGlmIChzaWRlID4gMCkge1xyXG4gICAgICAvLyBcIkxlZnRcIlxyXG4gICAgICB2ZXJ0ZXggPSBHZW9tZXRyeS5nZXRMaW5lTGluZUludGVyc2VjdGlvbihcclxuICAgICAgICB2b1ZlcnRleCxcclxuICAgICAgICB0YW5nZW50MSxcclxuICAgICAgICBydm9WZXJ0ZXgsXHJcbiAgICAgICAgdGFuZ2VudDJcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFwiUmlnaHRcIlxyXG4gICAgICB2ZXJ0ZXggPSBHZW9tZXRyeS5nZXRMaW5lTGluZUludGVyc2VjdGlvbihcclxuICAgICAgICB2b1ZlcnRleCxcclxuICAgICAgICB0YW5nZW50MixcclxuICAgICAgICBydm9WZXJ0ZXgsXHJcbiAgICAgICAgdGFuZ2VudDFcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm4gaHlicmlkIHJlY2lwcmljb2wgdmVsb2NpdHkgb2JzdGFjbGVcclxuICAgIHJldHVybiBuZXcgVmVsb2NpdHlPYnN0YWNsZSh2ZXJ0ZXgsIHRhbmdlbnQxLCB0YW5nZW50Mik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldENvbG91cihwcmVmZXJyZWRWZWxvY2l0eTogVmVjdG9yMmYpIHtcclxuICAgIGNvbnN0IHN0cmVzcyA9IHByZWZlcnJlZFZlbG9jaXR5LnN1YnRyYWN0KHRoaXMuX2RpcmVjdGlvbikubWFnbml0dWRlKCk7XHJcbiAgICB0aGlzLl9jb2xvdXIgPSBDb2xvdXIuRnJvbUhzdigoMSAtIHN0cmVzcykgLyAzLCAxLCAxKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQWdlbnQgfSBmcm9tIFwiLi9BZ2VudFwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyZiB9IGZyb20gXCIuL1ZlY3RvcjJmXCI7XHJcbmltcG9ydCB7IEJhc2ljQWdlbnQgfSBmcm9tIFwiLi9hZ2VudHMvQmFzaWNBZ2VudFwiO1xyXG5pbXBvcnQgeyBTdG9wQWdlbnQgfSBmcm9tIFwiLi9hZ2VudHMvU3RvcEFnZW50XCI7XHJcbmltcG9ydCB7IFZPQWdlbnQgfSBmcm9tIFwiLi9hZ2VudHMvVk9BZ2VudFwiO1xyXG5pbXBvcnQgeyBSVk9BZ2VudCB9IGZyb20gXCIuL2FnZW50cy9SVk9BZ2VudFwiO1xyXG5pbXBvcnQgeyBIUlZPQWdlbnQgfSBmcm9tIFwiLi9hZ2VudHMvSFJWT0FnZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWdlbnRGYWN0b3J5IHtcclxuICBzdGF0aWMgZ2V0QWdlbnQoXHJcbiAgICB0eXBlOiBzdHJpbmcsXHJcbiAgICBpZDogbnVtYmVyLFxyXG4gICAgc3RhcnRQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICBnZXRQcmVmZXJyZWRWZWxvY2l0eTogKHBvc2l0aW9uOiBWZWN0b3IyZikgPT4gVmVjdG9yMmZcclxuICApOiBBZ2VudCB7XHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSBcIkJhc2ljQWdlbnRcIjpcclxuICAgICAgICByZXR1cm4gbmV3IEJhc2ljQWdlbnQoaWQsIHN0YXJ0UG9zaXRpb24sIGdldFByZWZlcnJlZFZlbG9jaXR5KTtcclxuICAgICAgY2FzZSBcIlN0b3BBZ2VudFwiOlxyXG4gICAgICAgIHJldHVybiBuZXcgU3RvcEFnZW50KGlkLCBzdGFydFBvc2l0aW9uLCBnZXRQcmVmZXJyZWRWZWxvY2l0eSk7XHJcbiAgICAgIGNhc2UgXCJWT0FnZW50XCI6XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWT0FnZW50KGlkLCBzdGFydFBvc2l0aW9uLCBnZXRQcmVmZXJyZWRWZWxvY2l0eSk7XHJcbiAgICAgIGNhc2UgXCJSVk9BZ2VudFwiOlxyXG4gICAgICAgIHJldHVybiBuZXcgUlZPQWdlbnQoaWQsIHN0YXJ0UG9zaXRpb24sIGdldFByZWZlcnJlZFZlbG9jaXR5KTtcclxuICAgICAgY2FzZSBcIkhSVk9BZ2VudFwiOlxyXG4gICAgICAgIHJldHVybiBuZXcgSFJWT0FnZW50KGlkLCBzdGFydFBvc2l0aW9uLCBnZXRQcmVmZXJyZWRWZWxvY2l0eSk7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGFnZW50IHR5cGUgXFxcIiR7dHlwZX1cXFwiYCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEFnZW50IH0gZnJvbSBcIi4vQWdlbnRcIjtcclxuaW1wb3J0IHsgQWdlbnRGYWN0b3J5IH0gZnJvbSBcIi4vQWdlbnRGYWN0b3J5XCI7XHJcbmltcG9ydCB7IFZlY3RvcjJmIH0gZnJvbSBcIi4vVmVjdG9yMmZcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9uRmFjdG9yeSB7XHJcbiAgc3RhdGljIGdldENvbmZpZ3VyYXRpb24oXHJcbiAgICB0eXBlOiBzdHJpbmcsXHJcbiAgICBhZ2VudFR5cGU6IHN0cmluZyxcclxuICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgIG51bWJlck9mQWdlbnRzOiBudW1iZXJcclxuICApOiBBZ2VudFtdIHtcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlIFwiUmFuZG9tVG9SYW5kb21cIjpcclxuICAgICAgICByZXR1cm4gdGhpcy5SYW5kb21Ub1JhbmRvbShhZ2VudFR5cGUsIHdpZHRoLCBoZWlnaHQsIG51bWJlck9mQWdlbnRzKTtcclxuICAgICAgY2FzZSBcIlJhbmRvbVRvTGluZVwiOlxyXG4gICAgICAgIHJldHVybiB0aGlzLlJhbmRvbVRvTGluZShhZ2VudFR5cGUsIHdpZHRoLCBoZWlnaHQsIG51bWJlck9mQWdlbnRzKTtcclxuICAgICAgY2FzZSBcIkNpcmNsZVRvQ2lyY2xlXCI6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuQ2lyY2xlVG9DaXJjbGUoYWdlbnRUeXBlLCB3aWR0aCwgaGVpZ2h0LCBudW1iZXJPZkFnZW50cyk7XHJcbiAgICAgIGNhc2UgXCJHcmlkVG9HcmlkXCI6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuR3JpZFRvR3JpZChhZ2VudFR5cGUsIHdpZHRoLCBoZWlnaHQsIG51bWJlck9mQWdlbnRzKTtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gY29uZmlndXJhdGlvbiB0eXBlIFxcXCIke3R5cGV9XFxcImApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzdGF0aWMgUmFuZG9tVG9SYW5kb20oXHJcbiAgICBhZ2VudFR5cGU6IHN0cmluZyxcclxuICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgIG51bWJlck9mQWdlbnRzOiBudW1iZXJcclxuICApOiBBZ2VudFtdIHtcclxuICAgIC8vIFJhbmRvbSBzdGFydCBwb3NpdGlvbiB0byByYW5kb20gZ29hbCBwb3NpdGlvblxyXG4gICAgbGV0IGFnZW50czogQWdlbnRbXSA9IFtdO1xyXG4gICAgY29uc3Qgc3RhcnRQb3NpdGlvbnMgPSB0aGlzLnBvaXNzb25EaXNrU2FtcGxlKFxyXG4gICAgICB3aWR0aCxcclxuICAgICAgaGVpZ2h0LFxyXG4gICAgICBudW1iZXJPZkFnZW50cyxcclxuICAgICAgNTBcclxuICAgICkubWFwKCh4KSA9PiB4LnN1YnRyYWN0KG5ldyBWZWN0b3IyZih3aWR0aCAvIDIsIGhlaWdodCAvIDIpKSk7XHJcblxyXG4gICAgY29uc3QgZ29hbFBvc2l0aW9ucyA9IHRoaXMucG9pc3NvbkRpc2tTYW1wbGUoXHJcbiAgICAgIHdpZHRoLFxyXG4gICAgICBoZWlnaHQsXHJcbiAgICAgIG51bWJlck9mQWdlbnRzLFxyXG4gICAgICA1MFxyXG4gICAgKS5tYXAoKHgpID0+IHguc3VidHJhY3QobmV3IFZlY3RvcjJmKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMikpKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9mQWdlbnRzOyBpKyspIHtcclxuICAgICAgY29uc3QgYWdlbnQgPSBBZ2VudEZhY3RvcnkuZ2V0QWdlbnQoXHJcbiAgICAgICAgYWdlbnRUeXBlLFxyXG4gICAgICAgIGksXHJcbiAgICAgICAgc3RhcnRQb3NpdGlvbnNbaV0sXHJcbiAgICAgICAgdGhpcy5wcmVmZXJyZWRWZWxvY2l0eUZyb21Hb2FsUG9zaXRpb24oZ29hbFBvc2l0aW9uc1tpXSlcclxuICAgICAgKTtcclxuICAgICAgYWdlbnRzLnB1c2goYWdlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhZ2VudHM7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgUmFuZG9tVG9MaW5lKFxyXG4gICAgYWdlbnRUeXBlOiBzdHJpbmcsXHJcbiAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICBudW1iZXJPZkFnZW50czogbnVtYmVyXHJcbiAgKSB7XHJcbiAgICAvLyBSYW5kb20gc3RhcnQgcG9zaXRpb24gdG8gZml4ZWQgcG9zaXRpb24gb24gbGluZVxyXG4gICAgbGV0IGFnZW50czogQWdlbnRbXSA9IFtdO1xyXG4gICAgbGV0IHN0YXJ0UG9zaXRpb25zID0gdGhpcy5wb2lzc29uRGlza1NhbXBsZShcclxuICAgICAgd2lkdGgsXHJcbiAgICAgIGhlaWdodCxcclxuICAgICAgbnVtYmVyT2ZBZ2VudHMsXHJcbiAgICAgIDUwXHJcbiAgICApLm1hcCgoeCkgPT4geC5zdWJ0cmFjdChuZXcgVmVjdG9yMmYod2lkdGggLyAyLCBoZWlnaHQgLyAyKSkpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZBZ2VudHM7IGkrKykge1xyXG4gICAgICBjb25zdCBhZ2VudCA9IEFnZW50RmFjdG9yeS5nZXRBZ2VudChcclxuICAgICAgICBhZ2VudFR5cGUsXHJcbiAgICAgICAgaSxcclxuICAgICAgICBzdGFydFBvc2l0aW9uc1tpXSxcclxuICAgICAgICB0aGlzLnByZWZlcnJlZFZlbG9jaXR5RnJvbUdvYWxQb3NpdGlvbihcclxuICAgICAgICAgIG5ldyBWZWN0b3IyZigoKGkgKyAxKSAvIChudW1iZXJPZkFnZW50cyArIDEpIC0gMSAvIDIpICogd2lkdGgsIDApXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgICBhZ2VudHMucHVzaChhZ2VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFnZW50cztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBDaXJjbGVUb0NpcmNsZShcclxuICAgIGFnZW50VHlwZTogc3RyaW5nLFxyXG4gICAgX3dpZHRoOiBudW1iZXIsXHJcbiAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgIG51bWJlck9mQWdlbnRzOiBudW1iZXJcclxuICApIHtcclxuICAgIC8vIFBvc2l0aW9uIG9uIHJhZGl1cyBvZiBjaXJjbGUgdG8gb3Bwb3NpdGUgcG9pbnRcclxuICAgIGxldCBhZ2VudHM6IEFnZW50W10gPSBbXTtcclxuICAgIGNvbnN0IHJhZGl1cyA9IGhlaWdodCAvIDIgLSAyNTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9mQWdlbnRzOyBpKyspIHtcclxuICAgICAgY29uc3QgYW5nbGUgPSAoMiAqIE1hdGguUEkgKiBpKSAvIG51bWJlck9mQWdlbnRzO1xyXG4gICAgICBjb25zdCBhZ2VudCA9IEFnZW50RmFjdG9yeS5nZXRBZ2VudChcclxuICAgICAgICBhZ2VudFR5cGUsXHJcbiAgICAgICAgaSxcclxuICAgICAgICBuZXcgVmVjdG9yMmYocmFkaXVzICogTWF0aC5jb3MoYW5nbGUpLCByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSkpLFxyXG4gICAgICAgIHRoaXMucHJlZmVycmVkVmVsb2NpdHlGcm9tR29hbFBvc2l0aW9uKFxyXG4gICAgICAgICAgbmV3IFZlY3RvcjJmKFxyXG4gICAgICAgICAgICByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSArIE1hdGguUEkpLFxyXG4gICAgICAgICAgICByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSArIE1hdGguUEkpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgICBhZ2VudHMucHVzaChhZ2VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFnZW50cztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBHcmlkVG9HcmlkKFxyXG4gICAgYWdlbnRUeXBlOiBzdHJpbmcsXHJcbiAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgX2hlaWdodDogbnVtYmVyLFxyXG4gICAgbnVtYmVyT2ZBZ2VudHM6IG51bWJlclxyXG4gICkge1xyXG4gICAgLy8gVHdvIG9wcG9zaW5nIGdyaWRzIG9mIGFnZW50cyBwYXNzaW5nIHRocm91Z2ggZWFjaG90aGVyXHJcbiAgICBsZXQgYWdlbnRzOiBBZ2VudFtdID0gW107XHJcbiAgICBjb25zdCBncmlkU2l6ZSA9IE1hdGguY2VpbChNYXRoLnNxcnQobnVtYmVyT2ZBZ2VudHMgLyAyKSk7XHJcbiAgICBjb25zdCBvZmZzZXQgPSA5MDtcclxuICAgIGxldCB4ID0gMzAgLSB3aWR0aCAvIDI7XHJcbiAgICBsZXQgeSA9IC0oKGdyaWRTaXplIC0gMSkgLyAyKSAqIG9mZnNldDtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9mQWdlbnRzOyBpKyspIHtcclxuICAgICAgY29uc3QgaWR4ID0gTWF0aC5mbG9vcihpIC8gMik7XHJcbiAgICAgIGNvbnN0IHJvdyA9IE1hdGguZmxvb3IoaWR4IC8gZ3JpZFNpemUpO1xyXG4gICAgICBjb25zdCBjb2wgPSBpZHggJSBncmlkU2l6ZTtcclxuXHJcbiAgICAgIGlmIChpICUgMiA9PSAwKSB7XHJcbiAgICAgICAgLy8gTEhTXHJcbiAgICAgICAgY29uc3QgYWdlbnQgPSBBZ2VudEZhY3RvcnkuZ2V0QWdlbnQoXHJcbiAgICAgICAgICBhZ2VudFR5cGUsXHJcbiAgICAgICAgICBpLFxyXG4gICAgICAgICAgbmV3IFZlY3RvcjJmKHggKyAoZ3JpZFNpemUgLSAxIC0gY29sKSAqIG9mZnNldCwgeSArIHJvdyAqIG9mZnNldCksXHJcbiAgICAgICAgICB0aGlzLnByZWZlcnJlZFZlbG9jaXR5RnJvbUdvYWxQb3NpdGlvbihcclxuICAgICAgICAgICAgbmV3IFZlY3RvcjJmKC14IC0gY29sICogb2Zmc2V0LCB5ICsgcm93ICogb2Zmc2V0KVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYWdlbnRzLnB1c2goYWdlbnQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFJIU1xyXG4gICAgICAgIGNvbnN0IGFnZW50ID0gQWdlbnRGYWN0b3J5LmdldEFnZW50KFxyXG4gICAgICAgICAgYWdlbnRUeXBlLFxyXG4gICAgICAgICAgaSxcclxuICAgICAgICAgIG5ldyBWZWN0b3IyZigteCAtIChncmlkU2l6ZSAtIDEgLSBjb2wpICogb2Zmc2V0LCB5ICsgcm93ICogb2Zmc2V0KSxcclxuICAgICAgICAgIHRoaXMucHJlZmVycmVkVmVsb2NpdHlGcm9tR29hbFBvc2l0aW9uKFxyXG4gICAgICAgICAgICBuZXcgVmVjdG9yMmYoeCArIGNvbCAqIG9mZnNldCwgeSArIHJvdyAqIG9mZnNldClcclxuICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgICAgIGFnZW50cy5wdXNoKGFnZW50KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhZ2VudHM7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXRpYyBwcmVmZXJyZWRWZWxvY2l0eUZyb21Hb2FsUG9zaXRpb24oXHJcbiAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmXHJcbiAgKTogKHBvczogVmVjdG9yMmYpID0+IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiAocG9zKSA9PiB7XHJcbiAgICAgIGNvbnN0IGdvYWxEaXJlY3Rpb24gPSBnb2FsUG9zaXRpb24uc3VidHJhY3QocG9zKTtcclxuICAgICAgaWYgKGdvYWxEaXJlY3Rpb24ubWFnbml0dWRlU3FyZCgpIDwgMSkge1xyXG4gICAgICAgIHJldHVybiBnb2FsRGlyZWN0aW9uO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBnb2FsRGlyZWN0aW9uLm5vcm1hbGlzZSgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzdGF0aWMgcG9pc3NvbkRpc2tTYW1wbGUoXHJcbiAgICB4UmFuZ2U6IG51bWJlcixcclxuICAgIHlSYW5nZTogbnVtYmVyLFxyXG4gICAgbjogbnVtYmVyLFxyXG4gICAgdGhyZXNob2xkOiBudW1iZXJcclxuICApOiBWZWN0b3IyZltdIHtcclxuICAgIGxldCBzYW1wbGVzOiBWZWN0b3IyZltdID0gW107XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuICAgICAgbGV0IHJlc2FtcGxlID0gdHJ1ZTtcclxuICAgICAgbGV0IHBvczogVmVjdG9yMmY7XHJcblxyXG4gICAgICB3aGlsZSAocmVzYW1wbGUpIHtcclxuICAgICAgICByZXNhbXBsZSA9IGZhbHNlO1xyXG4gICAgICAgIHBvcyA9IG5ldyBWZWN0b3IyZih4UmFuZ2UgKiBNYXRoLnJhbmRvbSgpLCB5UmFuZ2UgKiBNYXRoLnJhbmRvbSgpKTtcclxuXHJcbiAgICAgICAgc2FtcGxlcy5mb3JFYWNoKChzYW1wbGUpID0+IHtcclxuICAgICAgICAgIGlmIChwb3Muc3VidHJhY3Qoc2FtcGxlKS5tYWduaXR1ZGVTcXJkKCkgPCB0aHJlc2hvbGQgKiogMikge1xyXG4gICAgICAgICAgICByZXNhbXBsZSA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNhbXBsZXMucHVzaChwb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzYW1wbGVzO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBTaW11bGF0aW9uIH0gZnJvbSBcIi4vU2ltdWxhdGlvblwiO1xyXG5pbXBvcnQgeyBSZW5kZXJlcjJEIH0gZnJvbSBcIi4vUmVuZGVyZXIyRFwiO1xyXG5pbXBvcnQgeyBBZ2VudFRyZWUgfSBmcm9tIFwiLi9BZ2VudFRyZWVcIjtcclxuaW1wb3J0IHsgQ29uZmlndXJhdGlvbkZhY3RvcnkgfSBmcm9tIFwiLi9Db25maWd1cmF0aW9uRmFjdG9yeVwiO1xyXG5cclxuY29uc3QgY29uZmlnU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25maWdcIikgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbmNvbnN0IGFnZW50VHlwZVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gIFwiYWdlbnRUeXBlXCJcclxuKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuY29uc3QgbnVtYmVyT2ZBZ2VudHNJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gIFwibnVtYmVyT2ZBZ2VudHNcIlxyXG4pIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG5jb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuY29uc3QgZnJhbWVyYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmcmFtZXJhdGVcIikgYXMgSFRNTFBhcmFncmFwaEVsZW1lbnQ7XHJcbmNvbnN0IHBsYXlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXlCdXR0b25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbmNvbnN0IHN0ZXBCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0ZXBCdXR0b25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblxyXG5jb25zdCByZW5kZXJlciA9IG5ldyBSZW5kZXJlcjJEKGNhbnZhcyk7XHJcbmNvbnN0IHNpbXVsYXRpb24gPSBuZXcgU2ltdWxhdGlvbihyZW5kZXJlciwgbmV3IEFnZW50VHJlZSgpKTtcclxudmFyIHBsYXkgPSBmYWxzZTtcclxuXHJcbi8vIGluaXRpYWxpc2Ugc2ltdWxhdGlvbiBhbmQgYmVnaW4gdXBkYXRlL3JlbmRlciBsb29wXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gIHRoaXMucmVjb25maWd1cmUoKTtcclxuXHJcbiAgbGV0IGxhc3RSZW5kZXIgPSAwO1xyXG4gIGxldCBsYXN0RlBTID0gMDtcclxuICBsZXQgZnJhbWVzID0gMDtcclxuXHJcbiAgZnVuY3Rpb24gbG9vcCh0aW1lc3RhbXA6IG51bWJlcikge1xyXG4gICAgbGV0IGRlbHRhVCA9IHRpbWVzdGFtcCAtIGxhc3RSZW5kZXI7XHJcbiAgICBsYXN0UmVuZGVyID0gdGltZXN0YW1wO1xyXG5cclxuICAgIC8vIHVwZGF0ZVxyXG4gICAgaWYgKHBsYXkpIHtcclxuICAgICAgc2ltdWxhdGlvbi51cGRhdGUoZGVsdGFUKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZW5kZXJcclxuICAgIHNpbXVsYXRpb24uZHJhdygpO1xyXG4gICAgZnJhbWVzKys7XHJcblxyXG4gICAgLy8gcmVjYWxjdWxhdGUgZnJhbWVyYXRlIGV2ZXJ5IDI1MG1zXHJcbiAgICBpZiAodGltZXN0YW1wIC0gbGFzdEZQUyA+PSAyNTApIHtcclxuICAgICAgZnJhbWVyYXRlLnRleHRDb250ZW50ID0gYEZQUzogJHsoXHJcbiAgICAgICAgKDEwMDAgKiBmcmFtZXMpIC9cclxuICAgICAgICAodGltZXN0YW1wIC0gbGFzdEZQUylcclxuICAgICAgKS50b0ZpeGVkKDEpfWA7XHJcblxyXG4gICAgICBmcmFtZXMgPSAwO1xyXG4gICAgICBsYXN0RlBTID0gdGltZXN0YW1wO1xyXG4gICAgfVxyXG5cclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbiAgfVxyXG5cclxuICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG59XHJcblxyXG4vLyB0b2dnbGUgcGxheS9wYXVzZVxyXG5leHBvcnQgZnVuY3Rpb24gcGxheVBhdXNlKCkge1xyXG4gIHBsYXkgPSAhcGxheTtcclxuXHJcbiAgaWYgKHBsYXkpIHtcclxuICAgIHBsYXlCdXR0b24udGV4dENvbnRlbnQgPSBcIlBhdXNlXCI7XHJcbiAgICBzdGVwQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcGxheUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiUGxheVwiO1xyXG4gICAgc3RlcEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLy8gc3RlcCBzaW11bGF0aW9uIGJ5IDEgZnJhbWVcclxuZXhwb3J0IGZ1bmN0aW9uIHN0ZXAoKSB7XHJcbiAgc2ltdWxhdGlvbi51cGRhdGUoMTAwMCAvIDYwKTsgLy8gQXNzdW1lcyA2MEZQU1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVjb25maWd1cmUoKSB7XHJcbiAgaWYgKHBsYXkpIHtcclxuICAgIHRoaXMucGxheVBhdXNlKCk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBjb25maWcgPSBjb25maWdTZWxlY3QudmFsdWU7XHJcbiAgY29uc3QgYWdlbnRUeXBlID0gYWdlbnRUeXBlU2VsZWN0LnZhbHVlO1xyXG4gIGNvbnN0IG51bWJlck9mQWdlbnRzID0gcGFyc2VJbnQobnVtYmVyT2ZBZ2VudHNJbnB1dC52YWx1ZSkgPz8gMDtcclxuXHJcbiAgc2ltdWxhdGlvbi5pbml0KFxyXG4gICAgQ29uZmlndXJhdGlvbkZhY3RvcnkuZ2V0Q29uZmlndXJhdGlvbihcclxuICAgICAgY29uZmlnLFxyXG4gICAgICBhZ2VudFR5cGUsXHJcbiAgICAgIGNhbnZhcy53aWR0aCxcclxuICAgICAgY2FudmFzLmhlaWdodCxcclxuICAgICAgbnVtYmVyT2ZBZ2VudHNcclxuICAgIClcclxuICApO1xyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gbW9kdWxlIGV4cG9ydHMgbXVzdCBiZSByZXR1cm5lZCBmcm9tIHJ1bnRpbWUgc28gZW50cnkgaW5saW5pbmcgaXMgZGlzYWJsZWRcbi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xucmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oNTQ2KTtcbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==