var CrowdSimulator;CrowdSimulator=(()=>{"use strict";var t={861:(t,i,e)=>{e.r(i),e.d(i,{init:()=>P,playPause:()=>w,reconfigure:()=>D,step:()=>I});var n=function(){function t(t,i){this._renderer=t,this._agents=i}return t.prototype.init=function(t){this._agents.init(t.agents)},t.prototype.update=function(t){var i=this;this._agents.forEach((function(e){e.update(t,i._agents.getNeighboursInRangeEuclidean(e,300))})),this._agents.init(this._agents.getAll())},t.prototype.draw=function(){this._renderer.clear(),this._renderer.drawAgents(this._agents)},t}(),o=function(){function t(t){this._context=t.getContext("2d")}return t.prototype.clear=function(){this._context.fillStyle="white",this._context.fillRect(0,0,this._context.canvas.width,this._context.canvas.height)},t.prototype.drawAgents=function(t){var i=this;t.forEach((function(t){i.drawAgent(t)}))},t.prototype.drawAgent=function(t){var i=t.getPosition(),e=t.getDirection(),n=t.getColour();this._context.beginPath(),this._context.strokeStyle="rgb("+n.r+", "+n.g+", "+n.b+")",this._context.arc(i.x,i.y,t.Radius,0,2*Math.PI);var o=e.magnitude();if(0!==o){this._context.moveTo(i.x,i.y);var r=i.add(e.divide(o).multiply(t.Radius));this._context.lineTo(r.x,r.y)}this._context.stroke()},t}(),r=function(){function t(){}return t.RgbFromHsv=function(t,i,e){var n=(t*=6)-Math.floor(t),o=e*(1-i),r=e*(1-i*n),s=e*(1-i*(1-n));return 0<=t&&t<1?{r:255*e,g:255*s,b:255*o}:1<=t&&t<2?{r:255*r,g:255*e,b:255*o}:2<=t&&t<3?{r:255*o,g:255*e,b:255*s}:3<=t&&t<4?{r:255*o,g:255*r,b:255*e}:4<=t&&t<5?{r:255*s,g:255*o,b:255*e}:5<=t&&t<6?{r:255*e,g:255*o,b:255*r}:{r:0,g:0,b:0}},t.White={r:255,g:255,b:255},t.Red={r:255,g:0,b:0},t.Green={r:0,g:255,b:0},t}(),s=function(){function t(t,i){this.x=t,this.y=i}return t.prototype.copy=function(i){return new t(i.x,i.y)},t.prototype.add=function(i){return new t(this.x+i.x,this.y+i.y)},t.prototype.subtract=function(i){return new t(this.x-i.x,this.y-i.y)},t.prototype.multiply=function(i){return new t(this.x*i,this.y*i)},t.prototype.divide=function(i){return new t(this.x/i,this.y/i)},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.magnitudeSqrd=function(){return Math.pow(this.x,2)+Math.pow(this.y,2)},t.prototype.magnitude=function(){return Math.sqrt(this.magnitudeSqrd())},t.prototype.normalise=function(){var i=this.magnitude();return 0==i?new t(0,0):this.divide(i)},t.prototype.sample=function(i){var e=Math.sqrt(Math.random())*i,n=2*Math.PI*Math.random();return new t(this.x+e*Math.cos(n),this.y+e*Math.sin(n))},t}(),a=function(){function t(t,i,e,n){this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new s(0,0),this._isDone=!1}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getColour=function(){return this._isDone?r.White:r.Green},t.prototype.update=function(t,i){if(!this._isDone){var e=this._goalPosition.subtract(this._position);e.magnitude()>60*t/1e3?(this._direction=e.normalise(),this._position=this._position.add(this._direction.multiply(60*t/1e3))):(this._position=this._goalPosition,this._isDone=!0)}},t.prototype.isDone=function(){return this._isDone},t}(),u=function(){function t(t,i,e,n){this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new s(0,0),this._isDone=!1,this._isStuck=!1}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getColour=function(){return this._isDone?r.White:this._isStuck?r.Red:r.Green},t.prototype.update=function(t,i){var e=this;if(!this._isDone){var n=this._goalPosition.subtract(this._position);if(n.magnitude()>60*t/1e3){this._direction=n.normalise();var o=this._position.add(this._direction.multiply(20));this._isStuck=!1,i.forEach((function(t){t.Id!=e.Id&&e.collides(t,o)&&(e._isStuck=!0)})),this._isStuck||(this._position=this._position.add(this._direction.multiply(60*t/1e3)))}else this._position=this._goalPosition,this._isDone=!0}},t.prototype.isDone=function(){return this._isDone},t.prototype.collides=function(t,i){return t.getPosition().subtract(i).magnitude()<t.Radius+this.Radius},t}(),h=function(){function t(){}return t.RandomToRandom=function(t,i,e,n){for(var o=[],r=this.poissonDiskSample(i,e,t,50),s=this.poissonDiskSample(i,e,t,50),a=0;a<t;a++){var u=n(a,r[a],s[a],20);o.push(u)}return{agents:o}},t.RandomToLine=function(t,i,e,n){for(var o=[],r=this.poissonDiskSample(i,e,t,50),a=0;a<t;a++){var u=n(a,r[a],new s((a+1)/(t+1)*i,e/2),20);o.push(u)}return{agents:o}},t.CircleToCircle=function(t,i,e,n){for(var o=[],r=i/2,a=e/2,u=e/2-25,h=0;h<t;h++){var c=2*Math.PI*h/t,d=n(h,new s(r+u*Math.cos(c),a+u*Math.sin(c)),new s(r+u*Math.cos(c+Math.PI),a+u*Math.sin(c+Math.PI)),20);o.push(d)}return{agents:o}},t.GridToGrid=function(t,i,e,n){for(var o=[],r=Math.ceil(t/8),a=i-50-90*(r-1),u=e/2-135,h=0,c=0;c<r;c++){for(var d=0;d<4;d++){var g=new s(50+90*c,u+90*d),p=new s(a+90*c,u+90*d);if(o.push(n(h,g,p,20)),++h>=t)break;if(o.push(n(h,p,g,20)),++h>=t)break}if(h>=t)break}return{agents:o}},t.poissonDiskSample=function(t,i,e,n){for(var o=[],r=function(){for(var e,r=!0;r;)r=!1,e=new s(t*Math.random(),i*Math.random()),o.forEach((function(t){e.subtract(t).magnitudeSqrd()<Math.pow(n,2)&&(r=!0)}));o.push(e)},a=0;a<e;a++)r();return o},t}(),c=function(){function t(){}return t.prototype.init=function(t){this._agents=t,this._root=this.constructTree(this._agents,!0)},t.prototype.getAll=function(){return this._agents},t.prototype.getNeighboursInRangeRectilinear=function(t,i){var e=t.getPosition().x-i,n=t.getPosition().y-i,o=t.getPosition().x+i,r=t.getPosition().y+i;return this.rangeSearch(this._root,e,n,o,r,!0).filter((function(i){return i.Id!==t.Id}))},t.prototype.getNeighboursInRangeEuclidean=function(t,i){return this.getNeighboursInRangeRectilinear(t,i).filter((function(e){return t.getPosition().subtract(e.getPosition()).magnitudeSqrd()<=Math.pow(i,2)}))},t.prototype.forEach=function(t){this._agents.forEach(t)},t.prototype.constructTree=function(t,i){if(0===t.length)return null;var e=Math.floor(t.length/2),n=i?t.sort((function(t,i){return t.getPosition().x-i.getPosition().x})):t.sort((function(t,i){return t.getPosition().y-i.getPosition().y})),o=this.constructTree(n.slice(0,e),!i),r=this.constructTree(n.slice(e+1,t.length),!i);return{agent:t[e],left:o,right:r}},t.prototype.rangeSearch=function(t,i,e,n,o,r){if(null==t)return[];var s=[];return r?(t.agent.getPosition().x<=n&&(s=s.concat(this.rangeSearch(t.right,i,e,n,o,!r))),t.agent.getPosition().x>=i&&(s=s.concat(this.rangeSearch(t.left,i,e,n,o,!r)))):(t.agent.getPosition().y<=o&&(s=s.concat(this.rangeSearch(t.right,i,e,n,o,!r))),t.agent.getPosition().y>=e&&(s=s.concat(this.rangeSearch(t.left,i,e,n,o,!r)))),t.agent.getPosition().x>=i&&t.agent.getPosition().y>=e&&t.agent.getPosition().x<=n&&t.agent.getPosition().y<=o&&s.push(t.agent),s},t}(),d=function(){function t(t,i,e,n){this.MAX_VELOCITY=1,this.MAX_ACCELERATION=.5,this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new s(0,0),this._isDone=!1,this._colour=r.White}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getColour=function(){return this._colour},t.prototype.update=function(t,i){if(!this._isDone){for(var e,n,o=.5,r=this.getPreferredVelocity(o),a=this._goalPosition.subtract(this.getPosition()).magnitudeSqrd(),u=!0,h=0;h<i.length;h++)if(!(i[h].getPosition().subtract(this.getPosition()).magnitudeSqrd()>a)&&null!=(v=this.getVelocityObstacle(i[h]))&&this.isInside(r,v)){u=!1,e=v,n=h;break}if(u)return this._direction=r,this._position=this._position.add(r),void this.checkIfDone();if(null!=e){var c=this.getClosestPointOnLine(e.vertex,e.tangent1,r);if(c.magnitude()<=o){for(u=!0,h=0;h<i.length;h++)if(h!=n&&null!=(v=this.getVelocityObstacle(i[h]))&&this.isInside(c,v)){u=!1;break}if(u)return this._direction=c,this._position=this._position.add(c),void this.checkIfDone()}var d=this.getClosestPointOnLine(e.vertex,e.tangent2,r);if(c.magnitude()<=o){for(u=!0,h=0;h<i.length;h++)if(h!=n&&null!=(v=this.getVelocityObstacle(i[h]))&&this.isInside(d,v)){u=!1;break}if(u)return this._direction=d,this._position=this._position.add(d),void this.checkIfDone()}}var g=Math.sqrt(a),p=1/0,l=new s(0,0);for(h=0;h<100;h++){for(var f=new s(0,0).sample(o),y=1/0,_=0;_<i.length;_++){var v,m=i[_];if(null==(v=this.getVelocityObstacle(m))||this.isInside(f,v)){var x=this.getFirstRayCircleIntersection(m.getPosition().add(m.getDirection()),this.Radius+m.Radius,this._position,f.subtract(m.getDirection()));if(x<y&&0==(y=x))return void this.checkIfDone()}}var b;(b=y<g?100/y+r.subtract(f).magnitude():r.subtract(f).magnitude())<p&&(p=b,l=f)}this._direction=l,this._position=this._position.add(l),this.checkIfDone()}},t.prototype.isDone=function(){return this._isDone},t.prototype.getPreferredVelocity=function(t){var i=this._goalPosition.subtract(this._position),e=i.magnitude();return e>t?i.divide(e/t):i},t.prototype.getVelocityObstacle=function(t){var i=t.getDirection(),e=t.getPosition().subtract(this._position).add(i),n=t.Radius+this.Radius,o=i.subtract(e),r=o.magnitude();if(r<n)return null;var a=Math.acos(n/r),u=Math.atan2(o.y,o.x),h=u+a,c=u-a;return{vertex:i,tangent1:new s(e.x+n*Math.cos(h),e.y+n*Math.sin(h)),tangent2:new s(e.x+n*Math.cos(c),e.y+n*Math.sin(c))}},t.prototype.isInside=function(t,i){var e=(i.tangent1.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent1.y-i.vertex.y)*(t.x-i.vertex.x),n=(i.tangent2.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent2.y-i.vertex.y)*(t.x-i.vertex.x);return e>0&&n<0},t.prototype.getClosestPointOnLine=function(t,i,e){var n=i.normalise(),o=e.subtract(t).dot(n);return t.add(n.multiply(o))},t.prototype.getFirstRayCircleIntersection=function(t,i,e,n){var o=e.subtract(t),r=n.dot(n),s=2*n.dot(o),a=o.dot(o)-Math.pow(i,2),u=Math.pow(s,2)-4*r*a;if(u<0)return 1/0;var h=(-s-Math.sqrt(u))/2*r;return h<0?1/0:h},t.prototype.checkIfDone=function(){this._position.subtract(this._goalPosition).magnitudeSqrd()<1&&(this._isDone=!0,this._position=this._goalPosition,this._direction=new s(0,0))},t}(),g=function(){function t(t,i,e,n){this.MAX_VELOCITY=1,this.MAX_ACCELERATION=.5,this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new s(0,0),this._isDone=!1,this._colour=r.White}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getColour=function(){return this._colour},t.prototype.update=function(t,i){if(!this._isDone){for(var e,n,o=.5,r=this.getPreferredVelocity(o),a=this._goalPosition.subtract(this.getPosition()).magnitudeSqrd(),u=!0,h=0;h<i.length;h++)if(!(i[h].getPosition().subtract(this.getPosition()).magnitudeSqrd()>a)&&null!=(v=this.getReciprocalVelocityObstacle(i[h]))&&this.isInside(r,v)){u=!1,e=v,n=h;break}if(u)return this._direction=r,this._position=this._position.add(r),void this.checkIfDone();if(null!=e){var c=this.getClosestPointOnLine(e.vertex,e.tangent1,r);if(c.magnitude()<=o){for(u=!0,h=0;h<i.length;h++)if(h!=n&&null!=(v=this.getReciprocalVelocityObstacle(i[h]))&&this.isInside(c,v)){u=!1;break}if(u)return this._direction=c,this._position=this._position.add(c),void this.checkIfDone()}var d=this.getClosestPointOnLine(e.vertex,e.tangent2,r);if(c.magnitude()<=o){for(u=!0,h=0;h<i.length;h++)if(h!=n&&null!=(v=this.getReciprocalVelocityObstacle(i[h]))&&this.isInside(d,v)){u=!1;break}if(u)return this._direction=d,this._position=this._position.add(d),void this.checkIfDone()}}var g=Math.sqrt(a),p=1/0,l=new s(0,0);for(h=0;h<100;h++){for(var f=new s(0,0).sample(o),y=1/0,_=0;_<i.length;_++){var v,m=i[_];if(null!=(v=this.getReciprocalVelocityObstacle(m))&&this.isInside(f,v)){var x=this.getFirstRayCircleIntersection(m.getPosition().add(m.getDirection()),this.Radius+m.Radius,this._position,f.multiply(2).subtract(this.getDirection()).subtract(m.getDirection()));if(x<y&&0==(y=x))return void this.checkIfDone()}}var b;(b=y<g?100/y+r.subtract(f).magnitude():r.subtract(f).magnitude())<p&&(p=b,l=f)}this._direction=l,this._position=this._position.add(l),this.checkIfDone()}},t.prototype.isDone=function(){return this._isDone},t.prototype.getPreferredVelocity=function(t){var i=this._goalPosition.subtract(this._position),e=i.magnitude();return e>t?i.divide(e/t):i},t.prototype.getReciprocalVelocityObstacle=function(t){var i=this.getDirection(),e=t.getDirection(),n=i.add(e).divide(2),o=t.getPosition().subtract(this._position).add(e),r=t.Radius+this.Radius,a=e.subtract(o),u=a.magnitude();if(u<r)return null;var h=Math.acos(r/u),c=Math.atan2(a.y,a.x),d=c+h,g=c-h;return{vertex:n,tangent1:new s(o.x+r*Math.cos(d),o.y+r*Math.sin(d)),tangent2:new s(o.x+r*Math.cos(g),o.y+r*Math.sin(g))}},t.prototype.isInside=function(t,i){var e=(i.tangent1.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent1.y-i.vertex.y)*(t.x-i.vertex.x),n=(i.tangent2.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent2.y-i.vertex.y)*(t.x-i.vertex.x);return e>0&&n<0},t.prototype.getClosestPointOnLine=function(t,i,e){var n=i.normalise(),o=e.subtract(t).dot(n);return t.add(n.multiply(o))},t.prototype.getFirstRayCircleIntersection=function(t,i,e,n){var o=e.subtract(t),r=n.dot(n),s=2*n.dot(o),a=o.dot(o)-Math.pow(i,2),u=Math.pow(s,2)-4*r*a;if(u<0)return 1/0;var h=(-s-Math.sqrt(u))/2*r;return h<0?1/0:h},t.prototype.checkIfDone=function(){this._position.subtract(this._goalPosition).magnitudeSqrd()<1&&(this._isDone=!0,this._position=this._goalPosition,this._direction=new s(0,0))},t}(),p=document.getElementById("config"),l=document.getElementById("agentType"),f=document.getElementById("numberOfAgents"),y=document.getElementById("canvas"),_=document.getElementById("framerate"),v=document.getElementById("playButton"),m=document.getElementById("stepButton"),x=new n(new o(y),new c),b=!1;function P(){this.reconfigure();var t=0,i=0,e=0;window.requestAnimationFrame((function n(o){var r=o-t;t=o,b&&x.update(r),x.draw(),e++,o-i>=250&&(_.textContent="FPS: "+(1e3*e/(o-i)).toFixed(1),e=0,i=o),window.requestAnimationFrame(n)}))}function w(){(b=!b)?(v.textContent="Pause",m.disabled=!0):(v.textContent="Play",m.disabled=!1)}function I(){x.update(1e3/60)}function D(){var t;b&&this.playPause();var i,e=p.value,n=l.value,o=null!==(t=parseInt(f.value))&&void 0!==t?t:0;switch(n){case"BasicAgent":i=function(t,i,e,n){return new a(t,i,e,n)};break;case"StopAgent":i=function(t,i,e,n){return new u(t,i,e,n)};break;case"VOAgent":i=function(t,i,e,n){return new d(t,i,e,n)};break;case"RVOAgent":i=function(t,i,e,n){return new g(t,i,e,n)};break;default:throw new Error("Agent not implemented")}switch(e){case"RandomToRandom":x.init(h.RandomToRandom(o,y.width,y.height,i));break;case"RandomToLine":x.init(h.RandomToLine(o,y.width,y.height,i));break;case"CircleToCircle":x.init(h.CircleToCircle(o,y.width,y.height,i));break;case"GridToGrid":x.init(h.GridToGrid(o,y.width,y.height,i));break;default:throw new Error("Configuration not implemented")}}}},i={};function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{}};return t[n](o,o.exports,e),o.exports}return e.d=(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e(861)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9TaW11bGF0aW9uLnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL1JlbmRlcmVyMkQudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvQ29sb3VyLnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL1ZlY3RvcjJmLnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL0Jhc2ljQWdlbnQudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvU3RvcEFnZW50LnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL0NvbmZpZ3VyYXRpb25zLnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL0FnZW50VHJlZS50cyIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9WT0FnZW50LnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL1JWT0FnZW50LnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL2RlbW8yZC50cyIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3Ivd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3Ivd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCJdLCJuYW1lcyI6WyJyZW5kZXJlciIsImFnZW50cyIsInRoaXMiLCJfcmVuZGVyZXIiLCJfYWdlbnRzIiwiaW5pdCIsImNvbmZpZyIsInVwZGF0ZSIsImRlbHRhVCIsImZvckVhY2giLCJhZ2VudCIsImdldE5laWdoYm91cnNJblJhbmdlRXVjbGlkZWFuIiwiZ2V0QWxsIiwiZHJhdyIsImNsZWFyIiwiZHJhd0FnZW50cyIsImNhbnZhcyIsIl9jb250ZXh0IiwiZ2V0Q29udGV4dCIsImZpbGxTdHlsZSIsImZpbGxSZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJkcmF3QWdlbnQiLCJwb3NpdGlvbiIsImdldFBvc2l0aW9uIiwiZGlyZWN0aW9uIiwiZ2V0RGlyZWN0aW9uIiwiY29sb3VyIiwiZ2V0Q29sb3VyIiwiYmVnaW5QYXRoIiwic3Ryb2tlU3R5bGUiLCJyIiwiZyIsImIiLCJhcmMiLCJ4IiwieSIsIlJhZGl1cyIsIk1hdGgiLCJQSSIsIm1hZ25pdHVkZSIsIm1vdmVUbyIsIm5ld1BvcyIsImFkZCIsImRpdmlkZSIsIm11bHRpcGx5IiwibGluZVRvIiwic3Ryb2tlIiwiUmdiRnJvbUhzdiIsImgiLCJzIiwidiIsImZyYWN0IiwiZmxvb3IiLCJQIiwiUSIsIlQiLCJXaGl0ZSIsIlJlZCIsIkdyZWVuIiwiY29weSIsIlZlY3RvcjJmIiwic3VidHJhY3QiLCJkb3QiLCJtYWduaXR1ZGVTcXJkIiwic3FydCIsIm5vcm1hbGlzZSIsIm0iLCJzYW1wbGUiLCJtYXhSYWRpdXMiLCJyYWRpdXMiLCJyYW5kb20iLCJhbmdsZSIsImNvcyIsInNpbiIsImlkIiwic3RhcnRQb3NpdGlvbiIsImdvYWxQb3NpdGlvbiIsIklkIiwiX3Bvc2l0aW9uIiwiX2dvYWxQb3NpdGlvbiIsIl9kaXJlY3Rpb24iLCJfaXNEb25lIiwiQ29sb3VyIiwiZ29hbERpcmVjdGlvbiIsImlzRG9uZSIsIl9pc1N0dWNrIiwiY29sbGlkZXMiLCJSYW5kb21Ub1JhbmRvbSIsIm4iLCJhZ2VudENvbnN0cnVjdG9yIiwic3RhcnRQb3NpdGlvbnMiLCJwb2lzc29uRGlza1NhbXBsZSIsImdvYWxQb3NpdGlvbnMiLCJpIiwicHVzaCIsIlJhbmRvbVRvTGluZSIsIkNpcmNsZVRvQ2lyY2xlIiwiY2VudHJlWCIsImNlbnRyZVkiLCJHcmlkVG9HcmlkIiwiY29scyIsImNlaWwiLCJyaWdodCIsInRvcCIsImoiLCJhIiwieFJhbmdlIiwieVJhbmdlIiwidGhyZXNob2xkIiwic2FtcGxlcyIsInBvcyIsInJlc2FtcGxlIiwiX3Jvb3QiLCJjb25zdHJ1Y3RUcmVlIiwiZ2V0TmVpZ2hib3Vyc0luUmFuZ2VSZWN0aWxpbmVhciIsInJhbmdlIiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsInJhbmdlU2VhcmNoIiwiZmlsdGVyIiwib3RoZXIiLCJmdW4iLCJ4QXhpcyIsImxlbmd0aCIsIm1pZCIsInNvcnRlZCIsInNvcnQiLCJsZWZ0Iiwic2xpY2UiLCJyb290IiwicmVzIiwiY29uY2F0IiwiTUFYX1ZFTE9DSVRZIiwiTUFYX0FDQ0VMRVJBVElPTiIsIl9jb2xvdXIiLCJuZWlnaGJvdXJzIiwiY29sbGlzaW9uIiwic3BlZWQiLCJwcmVmZXJyZWRWZWxvY2l0eSIsImdldFByZWZlcnJlZFZlbG9jaXR5IiwiZ29hbERpc3RTcXJkIiwic2FmZSIsInZlbG9jaXR5T2JzdGFjbGUiLCJnZXRWZWxvY2l0eU9ic3RhY2xlIiwiaXNJbnNpZGUiLCJjaGVja0lmRG9uZSIsImhhbGZwbGFuZTEiLCJnZXRDbG9zZXN0UG9pbnRPbkxpbmUiLCJ2ZXJ0ZXgiLCJ0YW5nZW50MSIsImhhbGZQbGFuZTIiLCJ0YW5nZW50MiIsImdvYWxEaXN0IiwibWluUGVuYWx0eSIsIkluZmluaXR5IiwiYmVzdFZlbG9jaXR5IiwibWluVGltZVRvQ29sbGlzaW9uIiwidGltZVRvQ29sbGlzaW9uIiwiZ2V0Rmlyc3RSYXlDaXJjbGVJbnRlcnNlY3Rpb24iLCJwZW5hbHR5IiwibWF4U3BlZWQiLCJnb2FsRGlzdGFuY2UiLCJ2ZWxvY2l0eUIiLCJjZW50cmUiLCJkaWZmIiwiZGlzdCIsInRoZXRhIiwiYWNvcyIsInBoaSIsImF0YW4yIiwiYW5nbGUxIiwiYW5nbGUyIiwidmVsb2NpdHkiLCJkZXRlcm1pbmFudDEiLCJkZXRlcm1pbmFudDIiLCJsaW5lUG9pbnQiLCJsaW5lRGlyZWN0aW9uIiwicG9pbnQiLCJkaXN0YW5jZSIsIm9yaWdpbiIsImRlbHRhIiwiYyIsImRpc2NyaW0iLCJnZXRSZWNpcHJvY2FsVmVsb2NpdHlPYnN0YWNsZSIsInZlbG9jaXR5QSIsImNvbmZpZ1NlbGVjdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZ2VudFR5cGVTZWxlY3QiLCJudW1iZXJPZkFnZW50c0lucHV0IiwiZnJhbWVyYXRlIiwicGxheUJ1dHRvbiIsInN0ZXBCdXR0b24iLCJzaW11bGF0aW9uIiwiU2ltdWxhdGlvbiIsIlJlbmRlcmVyMkQiLCJBZ2VudFRyZWUiLCJwbGF5IiwicmVjb25maWd1cmUiLCJsYXN0UmVuZGVyIiwibGFzdEZQUyIsImZyYW1lcyIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImxvb3AiLCJ0aW1lc3RhbXAiLCJ0ZXh0Q29udGVudCIsInRvRml4ZWQiLCJwbGF5UGF1c2UiLCJkaXNhYmxlZCIsInN0ZXAiLCJ2YWx1ZSIsImFnZW50VHlwZSIsInBhcnNlSW50IiwiQmFzaWNBZ2VudCIsIlN0b3BBZ2VudCIsIlZPQWdlbnQiLCJSVk9BZ2VudCIsIkVycm9yIiwiQ29uZmlndXJhdGlvbnMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJtYXBwaW5ncyI6ImtKQUlBLGlCQUlFLFdBQVlBLEVBQXFCQyxHQUMvQkMsS0FBS0MsVUFBWUgsRUFDakJFLEtBQUtFLFFBQVVILEVBdUJuQixPQXBCRSxZQUFBSSxLQUFBLFNBQUtD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RUFBZTlILGFBQ2JQLEVBQ0ExRSxFQUFPSyxNQUNQTCxFQUFPTSxPQUNQcUUsSUFHSixNQUVGLElBQUssaUJBQ0gwRyxFQUFXaE0sS0FDVDBOLEVBQWU3SCxlQUNiUixFQUNBMUUsRUFBT0ssTUFDUEwsRUFBT00sT0FDUHFFLElBR0osTUFFRixJQUFLLGFBQ0gwRyxFQUFXaE0sS0FDVDBOLEVBQWUxSCxXQUNiWCxFQUNBMUUsRUFBT0ssTUFDUEwsRUFBT00sT0FDUHFFLElBR0osTUFFRixRQUNFLE1BQU0sSUFBSW1JLE1BQU0scUNDbExsQkUsRUFBMkIsR0FHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLEdBQUdGLEVBQXlCRSxHQUMzQixPQUFPRixFQUF5QkUsR0FBVUMsUUFHM0MsSUFBSUMsRUFBU0osRUFBeUJFLEdBQVksQ0FHakRDLFFBQVMsSUFPVixPQUhBRSxFQUFvQkgsR0FBVUUsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0NHLEVBQU9ELFFDakJmLE9DRkFGLEVBQW9CSyxFQUFJLENBQUNILEVBQVNJLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWE4sRUFBb0JRLEVBQUVGLEVBQVlDLEtBQVNQLEVBQW9CUSxFQUFFTixFQUFTSyxJQUM1RUUsT0FBT0MsZUFBZVIsRUFBU0ssRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLE1DSjNFUCxFQUFvQlEsRUFBSSxDQUFDSyxFQUFLQyxJQUFTTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxHQ0NqRmQsRUFBb0JqTSxFQUFLbU0sSUFDSCxvQkFBWGdCLFFBQTBCQSxPQUFPQyxhQUMxQ1YsT0FBT0MsZUFBZVIsRUFBU2dCLE9BQU9DLFlBQWEsQ0FBRTdCLE1BQU8sV0FFN0RtQixPQUFPQyxlQUFlUixFQUFTLGFBQWMsQ0FBRVosT0FBTyxLSEZoRFUsRUFBb0IsTSIsImZpbGUiOiJkZW1vMmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJQWdlbnRDb2xsZWN0aW9uIH0gZnJvbSBcIi4vSUFnZW50Q29sbGVjdGlvblwiO1xyXG5pbXBvcnQgeyBJUmVuZGVyZXIgfSBmcm9tIFwiLi9JUmVuZGVyZXJcIjtcclxuaW1wb3J0IHsgSUNvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi9Db25maWd1cmF0aW9uc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNpbXVsYXRpb24ge1xyXG4gIF9yZW5kZXJlcjogSVJlbmRlcmVyO1xyXG4gIF9hZ2VudHM6IElBZ2VudENvbGxlY3Rpb247XHJcblxyXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBJUmVuZGVyZXIsIGFnZW50czogSUFnZW50Q29sbGVjdGlvbikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2FnZW50cyA9IGFnZW50cztcclxuICB9XHJcblxyXG4gIGluaXQoY29uZmlnOiBJQ29uZmlndXJhdGlvbikge1xyXG4gICAgdGhpcy5fYWdlbnRzLmluaXQoY29uZmlnLmFnZW50cyk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoZGVsdGFUOiBudW1iZXIpIHtcclxuICAgIGxldCByYW5nZSA9IDMwMDtcclxuICAgIHRoaXMuX2FnZW50cy5mb3JFYWNoKChhZ2VudCkgPT4ge1xyXG4gICAgICBhZ2VudC51cGRhdGUoXHJcbiAgICAgICAgZGVsdGFULFxyXG4gICAgICAgIHRoaXMuX2FnZW50cy5nZXROZWlnaGJvdXJzSW5SYW5nZUV1Y2xpZGVhbihhZ2VudCwgcmFuZ2UpXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9hZ2VudHMuaW5pdCh0aGlzLl9hZ2VudHMuZ2V0QWxsKCkpO1xyXG4gIH1cclxuXHJcbiAgZHJhdygpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyLmNsZWFyKCk7XHJcbiAgICB0aGlzLl9yZW5kZXJlci5kcmF3QWdlbnRzKHRoaXMuX2FnZW50cyk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IElBZ2VudCB9IGZyb20gXCIuL0lBZ2VudFwiO1xyXG5pbXBvcnQgeyBJQWdlbnRDb2xsZWN0aW9uIH0gZnJvbSBcIi4vSUFnZW50Q29sbGVjdGlvblwiO1xyXG5pbXBvcnQgeyBJUmVuZGVyZXIgfSBmcm9tIFwiLi9JUmVuZGVyZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBSZW5kZXJlcjJEIGltcGxlbWVudHMgSVJlbmRlcmVyIHtcclxuICBfY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG5cclxuICBjb25zdHJ1Y3RvcihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICB9XHJcblxyXG4gIGNsZWFyKCk6IHZvaWQge1xyXG4gICAgdGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICB0aGlzLl9jb250ZXh0LmZpbGxSZWN0KFxyXG4gICAgICAwLFxyXG4gICAgICAwLFxyXG4gICAgICB0aGlzLl9jb250ZXh0LmNhbnZhcy53aWR0aCxcclxuICAgICAgdGhpcy5fY29udGV4dC5jYW52YXMuaGVpZ2h0XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZHJhd0FnZW50cyhhZ2VudHM6IElBZ2VudENvbGxlY3Rpb24pIHtcclxuICAgIGFnZW50cy5mb3JFYWNoKChhZ2VudCkgPT4ge1xyXG4gICAgICB0aGlzLmRyYXdBZ2VudChhZ2VudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZHJhd0FnZW50KGFnZW50OiBJQWdlbnQpOiB2b2lkIHtcclxuICAgIGNvbnN0IHBvc2l0aW9uID0gYWdlbnQuZ2V0UG9zaXRpb24oKTtcclxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGFnZW50LmdldERpcmVjdGlvbigpO1xyXG4gICAgY29uc3QgY29sb3VyID0gYWdlbnQuZ2V0Q29sb3VyKCk7XHJcblxyXG4gICAgdGhpcy5fY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgIHRoaXMuX2NvbnRleHQuc3Ryb2tlU3R5bGUgPSBgcmdiKCR7Y29sb3VyLnJ9LCAke2NvbG91ci5nfSwgJHtjb2xvdXIuYn0pYDtcclxuXHJcbiAgICB0aGlzLl9jb250ZXh0LmFyYyhwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBhZ2VudC5SYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcclxuXHJcbiAgICBsZXQgbWFnbml0dWRlID0gZGlyZWN0aW9uLm1hZ25pdHVkZSgpO1xyXG4gICAgaWYgKG1hZ25pdHVkZSAhPT0gMCkge1xyXG4gICAgICB0aGlzLl9jb250ZXh0Lm1vdmVUbyhwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcclxuICAgICAgbGV0IG5ld1BvcyA9IHBvc2l0aW9uLmFkZChcclxuICAgICAgICBkaXJlY3Rpb24uZGl2aWRlKG1hZ25pdHVkZSkubXVsdGlwbHkoYWdlbnQuUmFkaXVzKVxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9jb250ZXh0LmxpbmVUbyhuZXdQb3MueCwgbmV3UG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2NvbnRleHQuc3Ryb2tlKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBDb2xvdXIge1xyXG4gIHI6IG51bWJlcjtcclxuICBnOiBudW1iZXI7XHJcbiAgYjogbnVtYmVyO1xyXG5cclxuICBzdGF0aWMgV2hpdGU6IENvbG91ciA9IHtcclxuICAgIHI6IDI1NSxcclxuICAgIGc6IDI1NSxcclxuICAgIGI6IDI1NSxcclxuICB9O1xyXG5cclxuICBzdGF0aWMgUmVkOiBDb2xvdXIgPSB7XHJcbiAgICByOiAyNTUsXHJcbiAgICBnOiAwLFxyXG4gICAgYjogMCxcclxuICB9O1xyXG5cclxuICBzdGF0aWMgR3JlZW46IENvbG91ciA9IHtcclxuICAgIHI6IDAsXHJcbiAgICBnOiAyNTUsXHJcbiAgICBiOiAwLFxyXG4gIH07XHJcblxyXG4gIHN0YXRpYyBSZ2JGcm9tSHN2KGg6IG51bWJlciwgczogbnVtYmVyLCB2OiBudW1iZXIpOiBDb2xvdXIge1xyXG4gICAgLy8gYXNzdW1pbmcgaHN2IHZhbHVlcyBpbiByYW5nZSAwLTFcclxuICAgIGggKj0gNjtcclxuXHJcbiAgICBjb25zdCBmcmFjdCA9IGggLSBNYXRoLmZsb29yKGgpO1xyXG4gICAgY29uc3QgUCA9IHYgKiAoMSAtIHMpO1xyXG4gICAgY29uc3QgUSA9IHYgKiAoMSAtIHMgKiBmcmFjdCk7XHJcbiAgICBjb25zdCBUID0gdiAqICgxIC0gcyAqICgxIC0gZnJhY3QpKTtcclxuXHJcbiAgICBpZiAoMCA8PSBoICYmIGggPCAxKSB7XHJcbiAgICAgIHJldHVybiB7IHI6IHYgKiAyNTUsIGc6IFQgKiAyNTUsIGI6IFAgKiAyNTUgfTtcclxuICAgIH0gZWxzZSBpZiAoMSA8PSBoICYmIGggPCAyKSB7XHJcbiAgICAgIHJldHVybiB7IHI6IFEgKiAyNTUsIGc6IHYgKiAyNTUsIGI6IFAgKiAyNTUgfTtcclxuICAgIH0gZWxzZSBpZiAoMiA8PSBoICYmIGggPCAzKSB7XHJcbiAgICAgIHJldHVybiB7IHI6IFAgKiAyNTUsIGc6IHYgKiAyNTUsIGI6IFQgKiAyNTUgfTtcclxuICAgIH0gZWxzZSBpZiAoMyA8PSBoICYmIGggPCA0KSB7XHJcbiAgICAgIHJldHVybiB7IHI6IFAgKiAyNTUsIGc6IFEgKiAyNTUsIGI6IHYgKiAyNTUgfTtcclxuICAgIH0gZWxzZSBpZiAoNCA8PSBoICYmIGggPCA1KSB7XHJcbiAgICAgIHJldHVybiB7IHI6IFQgKiAyNTUsIGc6IFAgKiAyNTUsIGI6IHYgKiAyNTUgfTtcclxuICAgIH0gZWxzZSBpZiAoNSA8PSBoICYmIGggPCA2KSB7XHJcbiAgICAgIHJldHVybiB7IHI6IHYgKiAyNTUsIGc6IFAgKiAyNTUsIGI6IFEgKiAyNTUgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB7IHI6IDAsIGc6IDAsIGI6IDAgfTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFZlY3RvcjJmIHtcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbiAgfVxyXG5cclxuICBjb3B5KHY6IFZlY3RvcjJmKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyZih2LngsIHYueSk7XHJcbiAgfVxyXG5cclxuICBhZGQodjogVmVjdG9yMmYpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJmKHRoaXMueCArIHYueCwgdGhpcy55ICsgdi55KTtcclxuICB9XHJcblxyXG4gIHN1YnRyYWN0KHY6IFZlY3RvcjJmKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyZih0aGlzLnggLSB2LngsIHRoaXMueSAtIHYueSk7XHJcbiAgfVxyXG5cclxuICBtdWx0aXBseShzOiBudW1iZXIpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJmKHRoaXMueCAqIHMsIHRoaXMueSAqIHMpO1xyXG4gIH1cclxuXHJcbiAgZGl2aWRlKHM6IG51bWJlcik6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMmYodGhpcy54IC8gcywgdGhpcy55IC8gcyk7XHJcbiAgfVxyXG5cclxuICBkb3QodjogVmVjdG9yMmYpIHtcclxuICAgIHJldHVybiB0aGlzLnggKiB2LnggKyB0aGlzLnkgKiB2Lnk7XHJcbiAgfVxyXG5cclxuICBtYWduaXR1ZGVTcXJkKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy54ICoqIDIgKyB0aGlzLnkgKiogMjtcclxuICB9XHJcblxyXG4gIG1hZ25pdHVkZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLm1hZ25pdHVkZVNxcmQoKSk7XHJcbiAgfVxyXG5cclxuICBub3JtYWxpc2UoKTogVmVjdG9yMmYge1xyXG4gICAgbGV0IG0gPSB0aGlzLm1hZ25pdHVkZSgpO1xyXG4gICAgcmV0dXJuIG0gPT0gMCA/IG5ldyBWZWN0b3IyZigwLCAwKSA6IHRoaXMuZGl2aWRlKG0pO1xyXG4gIH1cclxuXHJcbiAgc2FtcGxlKG1heFJhZGl1czogbnVtYmVyKSB7XHJcbiAgICAvLyBVbmlmb3JtbHkgc2FtcGxlIHRoZSBjaXJjbGUgY2VudHJlZCBhdCB0aGlzIHBvaW50IHdpdGggcmFkaXVzIG1heFJhZGl1c1xyXG4gICAgbGV0IHJhZGl1cyA9IE1hdGguc3FydChNYXRoLnJhbmRvbSgpKSAqIG1heFJhZGl1cztcclxuICAgIGxldCBhbmdsZSA9IDIgKiBNYXRoLlBJICogTWF0aC5yYW5kb20oKTtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMmYoXHJcbiAgICAgIHRoaXMueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSxcclxuICAgICAgdGhpcy55ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb2xvdXIgfSBmcm9tIFwiLi9Db2xvdXJcIjtcclxuaW1wb3J0IHsgSUFnZW50IH0gZnJvbSBcIi4vSUFnZW50XCI7XHJcbmltcG9ydCB7IFZlY3RvcjJmIH0gZnJvbSBcIi4vVmVjdG9yMmZcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCYXNpY0FnZW50IGltcGxlbWVudHMgSUFnZW50IHtcclxuICBwdWJsaWMgcmVhZG9ubHkgSWQ6IG51bWJlcjtcclxuICBwdWJsaWMgcmVhZG9ubHkgUmFkaXVzOiBudW1iZXI7XHJcblxyXG4gIHByaXZhdGUgX3Bvc2l0aW9uOiBWZWN0b3IyZjtcclxuICBwcml2YXRlIF9nb2FsUG9zaXRpb246IFZlY3RvcjJmO1xyXG4gIHByaXZhdGUgX2RpcmVjdGlvbjogVmVjdG9yMmY7XHJcblxyXG4gIHByaXZhdGUgX2lzRG9uZTogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBpZDogbnVtYmVyLFxyXG4gICAgc3RhcnRQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgcmFkaXVzOiBudW1iZXJcclxuICApIHtcclxuICAgIHRoaXMuSWQgPSBpZDtcclxuICAgIHRoaXMuX3Bvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcclxuICAgIHRoaXMuX2dvYWxQb3NpdGlvbiA9IGdvYWxQb3NpdGlvbjtcclxuICAgIHRoaXMuUmFkaXVzID0gcmFkaXVzO1xyXG4gICAgdGhpcy5fZGlyZWN0aW9uID0gbmV3IFZlY3RvcjJmKDAsIDApO1xyXG5cclxuICAgIHRoaXMuX2lzRG9uZSA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24oKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGlyZWN0aW9uKCk6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiB0aGlzLl9kaXJlY3Rpb247XHJcbiAgfVxyXG5cclxuICBnZXRDb2xvdXIoKSB7XHJcbiAgICBpZiAodGhpcy5faXNEb25lKSB7XHJcbiAgICAgIHJldHVybiBDb2xvdXIuV2hpdGU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gQ29sb3VyLkdyZWVuO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlKGRlbHRhVDogbnVtYmVyLCBfYWdlbnRzOiBJQWdlbnRbXSk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuX2lzRG9uZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGdvYWxEaXJlY3Rpb24gPSB0aGlzLl9nb2FsUG9zaXRpb24uc3VidHJhY3QodGhpcy5fcG9zaXRpb24pO1xyXG4gICAgbGV0IGdvYWxEaXN0YW5jZSA9IGdvYWxEaXJlY3Rpb24ubWFnbml0dWRlKCk7XHJcblxyXG4gICAgaWYgKGdvYWxEaXN0YW5jZSA+IChkZWx0YVQgKiA2MCkgLyAxMDAwKSB7XHJcbiAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGdvYWxEaXJlY3Rpb24ubm9ybWFsaXNlKCk7XHJcbiAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKFxyXG4gICAgICAgIHRoaXMuX2RpcmVjdGlvbi5tdWx0aXBseSgoZGVsdGFUICogNjApIC8gMTAwMClcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fZ29hbFBvc2l0aW9uO1xyXG4gICAgICB0aGlzLl9pc0RvbmUgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXNEb25lKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzRG9uZTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29sb3VyIH0gZnJvbSBcIi4vQ29sb3VyXCI7XHJcbmltcG9ydCB7IElBZ2VudCB9IGZyb20gXCIuL0lBZ2VudFwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyZiB9IGZyb20gXCIuL1ZlY3RvcjJmXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RvcEFnZW50IGltcGxlbWVudHMgSUFnZW50IHtcclxuICBwdWJsaWMgcmVhZG9ubHkgSWQ6IG51bWJlcjtcclxuICBwdWJsaWMgcmVhZG9ubHkgUmFkaXVzOiBudW1iZXI7XHJcblxyXG4gIHByaXZhdGUgX3Bvc2l0aW9uOiBWZWN0b3IyZjtcclxuICBwcml2YXRlIF9nb2FsUG9zaXRpb246IFZlY3RvcjJmO1xyXG4gIHByaXZhdGUgX2RpcmVjdGlvbjogVmVjdG9yMmY7XHJcblxyXG4gIHByaXZhdGUgX2lzRG9uZTogYm9vbGVhbjtcclxuICBwcml2YXRlIF9pc1N0dWNrOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICBzdGFydFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICByYWRpdXM6IG51bWJlclxyXG4gICkge1xyXG4gICAgdGhpcy5JZCA9IGlkO1xyXG4gICAgdGhpcy5fcG9zaXRpb24gPSBzdGFydFBvc2l0aW9uO1xyXG4gICAgdGhpcy5fZ29hbFBvc2l0aW9uID0gZ29hbFBvc2l0aW9uO1xyXG4gICAgdGhpcy5SYWRpdXMgPSByYWRpdXM7XHJcbiAgICB0aGlzLl9kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcblxyXG4gICAgdGhpcy5faXNEb25lID0gZmFsc2U7XHJcbiAgICB0aGlzLl9pc1N0dWNrID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbigpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBnZXREaXJlY3Rpb24oKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RpcmVjdGlvbjtcclxuICB9XHJcblxyXG4gIGdldENvbG91cigpOiBDb2xvdXIge1xyXG4gICAgaWYgKHRoaXMuX2lzRG9uZSkge1xyXG4gICAgICByZXR1cm4gQ29sb3VyLldoaXRlO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc1N0dWNrKSB7XHJcbiAgICAgIHJldHVybiBDb2xvdXIuUmVkO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIENvbG91ci5HcmVlbjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZShkZWx0YVQ6IG51bWJlciwgYWdlbnRzOiBJQWdlbnRbXSk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuX2lzRG9uZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGdvYWxEaXJlY3Rpb24gPSB0aGlzLl9nb2FsUG9zaXRpb24uc3VidHJhY3QodGhpcy5fcG9zaXRpb24pO1xyXG4gICAgbGV0IGdvYWxEaXN0YW5jZSA9IGdvYWxEaXJlY3Rpb24ubWFnbml0dWRlKCk7XHJcblxyXG4gICAgaWYgKGdvYWxEaXN0YW5jZSA+IChkZWx0YVQgKiA2MCkgLyAxMDAwKSB7XHJcbiAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGdvYWxEaXJlY3Rpb24ubm9ybWFsaXNlKCk7XHJcbiAgICAgIGxldCBoZWFkaW5nID0gdGhpcy5fcG9zaXRpb24uYWRkKHRoaXMuX2RpcmVjdGlvbi5tdWx0aXBseSgyMCkpO1xyXG5cclxuICAgICAgdGhpcy5faXNTdHVjayA9IGZhbHNlO1xyXG4gICAgICBhZ2VudHMuZm9yRWFjaCgoYWdlbnQpID0+IHtcclxuICAgICAgICBpZiAoYWdlbnQuSWQgIT0gdGhpcy5JZCAmJiB0aGlzLmNvbGxpZGVzKGFnZW50LCBoZWFkaW5nKSkge1xyXG4gICAgICAgICAgdGhpcy5faXNTdHVjayA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghdGhpcy5faXNTdHVjaykge1xyXG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKFxyXG4gICAgICAgICAgdGhpcy5fZGlyZWN0aW9uLm11bHRpcGx5KChkZWx0YVQgKiA2MCkgLyAxMDAwKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fZ29hbFBvc2l0aW9uO1xyXG4gICAgICB0aGlzLl9pc0RvbmUgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXNEb25lKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzRG9uZTtcclxuICB9XHJcblxyXG4gIGNvbGxpZGVzKGFnZW50OiBJQWdlbnQsIHBvc2l0aW9uOiBWZWN0b3IyZik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgYWdlbnQuZ2V0UG9zaXRpb24oKS5zdWJ0cmFjdChwb3NpdGlvbikubWFnbml0dWRlKCkgPFxyXG4gICAgICBhZ2VudC5SYWRpdXMgKyB0aGlzLlJhZGl1c1xyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSUFnZW50IH0gZnJvbSBcIi4vSUFnZW50XCI7XHJcbmltcG9ydCB7IFZlY3RvcjJmIH0gZnJvbSBcIi4vVmVjdG9yMmZcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNvbmZpZ3VyYXRpb24ge1xyXG4gIGFnZW50czogSUFnZW50W107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9ucyB7XHJcbiAgc3RhdGljIFJhbmRvbVRvUmFuZG9tKFxyXG4gICAgbjogbnVtYmVyLFxyXG4gICAgd2lkdGg6IG51bWJlcixcclxuICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgYWdlbnRDb25zdHJ1Y3RvcjogKFxyXG4gICAgICBpZDogbnVtYmVyLFxyXG4gICAgICBzdGFydFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgZ29hbFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgcmFkaXVzOiBudW1iZXJcclxuICAgICkgPT4gSUFnZW50XHJcbiAgKSB7XHJcbiAgICAvLyBSYW5kb20gc3RhcnQgcG9zaXRpb24gdG8gcmFuZG9tIGdvYWwgcG9zaXRpb25cclxuICAgIGxldCBhZ2VudHM6IElBZ2VudFtdID0gW107XHJcbiAgICBsZXQgc3RhcnRQb3NpdGlvbnMgPSB0aGlzLnBvaXNzb25EaXNrU2FtcGxlKHdpZHRoLCBoZWlnaHQsIG4sIDUwKTtcclxuICAgIGxldCBnb2FsUG9zaXRpb25zID0gdGhpcy5wb2lzc29uRGlza1NhbXBsZSh3aWR0aCwgaGVpZ2h0LCBuLCA1MCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuICAgICAgY29uc3QgYWdlbnQgPSBhZ2VudENvbnN0cnVjdG9yKFxyXG4gICAgICAgIGksXHJcbiAgICAgICAgc3RhcnRQb3NpdGlvbnNbaV0sXHJcbiAgICAgICAgZ29hbFBvc2l0aW9uc1tpXSxcclxuICAgICAgICAyMFxyXG4gICAgICApO1xyXG4gICAgICBhZ2VudHMucHVzaChhZ2VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgYWdlbnRzOiBhZ2VudHMgfSBhcyBJQ29uZmlndXJhdGlvbjtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBSYW5kb21Ub0xpbmUoXHJcbiAgICBuOiBudW1iZXIsXHJcbiAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICBhZ2VudENvbnN0cnVjdG9yOiAoXHJcbiAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgIHN0YXJ0UG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICByYWRpdXM6IG51bWJlclxyXG4gICAgKSA9PiBJQWdlbnRcclxuICApIHtcclxuICAgIC8vIFJhbmRvbSBzdGFydCBwb3NpdGlvbiB0byBmaXhlZCBwb3NpdGlvbiBvbiBsaW5lXHJcbiAgICBsZXQgYWdlbnRzOiBJQWdlbnRbXSA9IFtdO1xyXG4gICAgbGV0IHN0YXJ0UG9zaXRpb25zID0gdGhpcy5wb2lzc29uRGlza1NhbXBsZSh3aWR0aCwgaGVpZ2h0LCBuLCA1MCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuICAgICAgY29uc3QgYWdlbnQgPSBhZ2VudENvbnN0cnVjdG9yKFxyXG4gICAgICAgIGksXHJcbiAgICAgICAgc3RhcnRQb3NpdGlvbnNbaV0sXHJcbiAgICAgICAgbmV3IFZlY3RvcjJmKCgoaSArIDEpIC8gKG4gKyAxKSkgKiB3aWR0aCwgaGVpZ2h0IC8gMiksXHJcbiAgICAgICAgMjBcclxuICAgICAgKTtcclxuICAgICAgYWdlbnRzLnB1c2goYWdlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGFnZW50czogYWdlbnRzIH0gYXMgSUNvbmZpZ3VyYXRpb247XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgQ2lyY2xlVG9DaXJjbGUoXHJcbiAgICBuOiBudW1iZXIsXHJcbiAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICBhZ2VudENvbnN0cnVjdG9yOiAoXHJcbiAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgIHN0YXJ0UG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICByYWRpdXM6IG51bWJlclxyXG4gICAgKSA9PiBJQWdlbnRcclxuICApIHtcclxuICAgIC8vIFBvc2l0aW9uIG9uIHJhZGl1cyBvZiBjaXJjbGUgdG8gb3Bwb3NpdGUgcG9pbnRcclxuICAgIGxldCBhZ2VudHM6IElBZ2VudFtdID0gW107XHJcbiAgICBjb25zdCBjZW50cmVYID0gd2lkdGggLyAyO1xyXG4gICAgY29uc3QgY2VudHJlWSA9IGhlaWdodCAvIDI7XHJcbiAgICBjb25zdCByYWRpdXMgPSBoZWlnaHQgLyAyIC0gMjU7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuICAgICAgY29uc3QgYW5nbGUgPSAoMiAqIE1hdGguUEkgKiBpKSAvIG47XHJcbiAgICAgIGNvbnN0IGFnZW50ID0gYWdlbnRDb25zdHJ1Y3RvcihcclxuICAgICAgICBpLFxyXG4gICAgICAgIG5ldyBWZWN0b3IyZihcclxuICAgICAgICAgIGNlbnRyZVggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSksXHJcbiAgICAgICAgICBjZW50cmVZICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpXHJcbiAgICAgICAgKSxcclxuICAgICAgICBuZXcgVmVjdG9yMmYoXHJcbiAgICAgICAgICBjZW50cmVYICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGUgKyBNYXRoLlBJKSxcclxuICAgICAgICAgIGNlbnRyZVkgKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSArIE1hdGguUEkpXHJcbiAgICAgICAgKSxcclxuICAgICAgICAyMFxyXG4gICAgICApO1xyXG4gICAgICBhZ2VudHMucHVzaChhZ2VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgYWdlbnRzOiBhZ2VudHMgfSBhcyBJQ29uZmlndXJhdGlvbjtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBHcmlkVG9HcmlkKFxyXG4gICAgbjogbnVtYmVyLFxyXG4gICAgd2lkdGg6IG51bWJlcixcclxuICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgYWdlbnRDb25zdHJ1Y3RvcjogKFxyXG4gICAgICBpZDogbnVtYmVyLFxyXG4gICAgICBzdGFydFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgZ29hbFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgcmFkaXVzOiBudW1iZXJcclxuICAgICkgPT4gSUFnZW50XHJcbiAgKSB7XHJcbiAgICAvLyBUd28gb3Bwb3NpbmcgZ3JpZHMgb2YgYWdlbnRzIHBhc3NpbmcgdGhyb3VnaCBlYWNob3RoZXJcclxuICAgIGxldCBhZ2VudHM6IElBZ2VudFtdID0gW107XHJcbiAgICBsZXQgcm93cyA9IDQ7XHJcbiAgICBsZXQgY29scyA9IE1hdGguY2VpbChuIC8gKDIgKiByb3dzKSk7XHJcbiAgICBsZXQgc3BhY2luZyA9IDkwO1xyXG4gICAgbGV0IGxlZnQgPSA1MDtcclxuICAgIGxldCByaWdodCA9IHdpZHRoIC0gbGVmdCAtIHNwYWNpbmcgKiAoY29scyAtIDEpO1xyXG4gICAgbGV0IHRvcCA9IGhlaWdodCAvIDIgLSAoc3BhY2luZyAvIDIpICogKHJvd3MgLSAxKTtcclxuXHJcbiAgICBsZXQgaWQgPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2xzOyBpKyspIHtcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByb3dzOyBqKyspIHtcclxuICAgICAgICBsZXQgYSA9IG5ldyBWZWN0b3IyZihsZWZ0ICsgc3BhY2luZyAqIGksIHRvcCArIHNwYWNpbmcgKiBqKTtcclxuICAgICAgICBsZXQgYiA9IG5ldyBWZWN0b3IyZihyaWdodCArIHNwYWNpbmcgKiBpLCB0b3AgKyBzcGFjaW5nICogaik7XHJcblxyXG4gICAgICAgIC8vIExlZnQgZ3JpZFxyXG4gICAgICAgIGFnZW50cy5wdXNoKGFnZW50Q29uc3RydWN0b3IoaWQsIGEsIGIsIDIwKSk7XHJcbiAgICAgICAgaWQrKztcclxuICAgICAgICBpZiAoaWQgPj0gbikge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSaWdodCBncmlkXHJcbiAgICAgICAgYWdlbnRzLnB1c2goYWdlbnRDb25zdHJ1Y3RvcihpZCwgYiwgYSwgMjApKTtcclxuICAgICAgICBpZCsrO1xyXG5cclxuICAgICAgICBpZiAoaWQgPj0gbikge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChpZCA+PSBuKSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBhZ2VudHM6IGFnZW50cyB9IGFzIElDb25maWd1cmF0aW9uO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzdGF0aWMgcG9pc3NvbkRpc2tTYW1wbGUoXHJcbiAgICB4UmFuZ2U6IG51bWJlcixcclxuICAgIHlSYW5nZTogbnVtYmVyLFxyXG4gICAgbjogbnVtYmVyLFxyXG4gICAgdGhyZXNob2xkOiBudW1iZXJcclxuICApOiBWZWN0b3IyZltdIHtcclxuICAgIGxldCBzYW1wbGVzOiBWZWN0b3IyZltdID0gW107XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuICAgICAgbGV0IHJlc2FtcGxlID0gdHJ1ZTtcclxuICAgICAgbGV0IHBvczogVmVjdG9yMmY7XHJcblxyXG4gICAgICB3aGlsZSAocmVzYW1wbGUpIHtcclxuICAgICAgICByZXNhbXBsZSA9IGZhbHNlO1xyXG4gICAgICAgIHBvcyA9IG5ldyBWZWN0b3IyZih4UmFuZ2UgKiBNYXRoLnJhbmRvbSgpLCB5UmFuZ2UgKiBNYXRoLnJhbmRvbSgpKTtcclxuXHJcbiAgICAgICAgc2FtcGxlcy5mb3JFYWNoKChzYW1wbGUpID0+IHtcclxuICAgICAgICAgIGlmIChwb3Muc3VidHJhY3Qoc2FtcGxlKS5tYWduaXR1ZGVTcXJkKCkgPCB0aHJlc2hvbGQgKiogMikge1xyXG4gICAgICAgICAgICByZXNhbXBsZSA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNhbXBsZXMucHVzaChwb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzYW1wbGVzO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJQWdlbnRDb2xsZWN0aW9uIH0gZnJvbSBcIi4vSUFnZW50Q29sbGVjdGlvblwiO1xyXG5pbXBvcnQgeyBJQWdlbnQgfSBmcm9tIFwiLi9JQWdlbnRcIjtcclxuXHJcbmludGVyZmFjZSBOb2RlIHtcclxuICBhZ2VudDogSUFnZW50O1xyXG4gIGxlZnQ6IE5vZGU7XHJcbiAgcmlnaHQ6IE5vZGU7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBZ2VudFRyZWUgaW1wbGVtZW50cyBJQWdlbnRDb2xsZWN0aW9uIHtcclxuICBwcml2YXRlIF9hZ2VudHM6IElBZ2VudFtdO1xyXG4gIHByaXZhdGUgX3Jvb3Q6IE5vZGU7XHJcblxyXG4gIGluaXQoYWdlbnRzOiBJQWdlbnRbXSk6IHZvaWQge1xyXG4gICAgdGhpcy5fYWdlbnRzID0gYWdlbnRzO1xyXG4gICAgdGhpcy5fcm9vdCA9IHRoaXMuY29uc3RydWN0VHJlZSh0aGlzLl9hZ2VudHMsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgZ2V0QWxsKCk6IElBZ2VudFtdIHtcclxuICAgIHJldHVybiB0aGlzLl9hZ2VudHM7XHJcbiAgfVxyXG5cclxuICBnZXROZWlnaGJvdXJzSW5SYW5nZVJlY3RpbGluZWFyKGFnZW50OiBJQWdlbnQsIHJhbmdlOiBudW1iZXIpOiBJQWdlbnRbXSB7XHJcbiAgICBsZXQgbWluWCA9IGFnZW50LmdldFBvc2l0aW9uKCkueCAtIHJhbmdlO1xyXG4gICAgbGV0IG1pblkgPSBhZ2VudC5nZXRQb3NpdGlvbigpLnkgLSByYW5nZTtcclxuICAgIGxldCBtYXhYID0gYWdlbnQuZ2V0UG9zaXRpb24oKS54ICsgcmFuZ2U7XHJcbiAgICBsZXQgbWF4WSA9IGFnZW50LmdldFBvc2l0aW9uKCkueSArIHJhbmdlO1xyXG5cclxuICAgIGxldCBjYW5kaWRhdGVzID0gdGhpcy5yYW5nZVNlYXJjaCh0aGlzLl9yb290LCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB0cnVlKTtcclxuICAgIHJldHVybiBjYW5kaWRhdGVzLmZpbHRlcigob3RoZXIpID0+IG90aGVyLklkICE9PSBhZ2VudC5JZCk7XHJcbiAgfVxyXG5cclxuICBnZXROZWlnaGJvdXJzSW5SYW5nZUV1Y2xpZGVhbihhZ2VudDogSUFnZW50LCByYW5nZTogbnVtYmVyKTogSUFnZW50W10ge1xyXG4gICAgbGV0IGNhbmRpZGF0ZXMgPSB0aGlzLmdldE5laWdoYm91cnNJblJhbmdlUmVjdGlsaW5lYXIoYWdlbnQsIHJhbmdlKTtcclxuICAgIHJldHVybiBjYW5kaWRhdGVzLmZpbHRlcihcclxuICAgICAgKG90aGVyKSA9PlxyXG4gICAgICAgIGFnZW50LmdldFBvc2l0aW9uKCkuc3VidHJhY3Qob3RoZXIuZ2V0UG9zaXRpb24oKSkubWFnbml0dWRlU3FyZCgpIDw9XHJcbiAgICAgICAgcmFuZ2UgKiogMlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGZvckVhY2goZnVuOiAoYWdlbnQ6IElBZ2VudCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgdGhpcy5fYWdlbnRzLmZvckVhY2goZnVuKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY29uc3RydWN0VHJlZShhZ2VudHM6IElBZ2VudFtdLCB4QXhpczogYm9vbGVhbik6IE5vZGUge1xyXG4gICAgaWYgKGFnZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG1pZCA9IE1hdGguZmxvb3IoYWdlbnRzLmxlbmd0aCAvIDIpO1xyXG5cclxuICAgIGxldCBzb3J0ZWQgPSB4QXhpc1xyXG4gICAgICA/IGFnZW50cy5zb3J0KChhLCBiKSA9PiBhLmdldFBvc2l0aW9uKCkueCAtIGIuZ2V0UG9zaXRpb24oKS54KVxyXG4gICAgICA6IGFnZW50cy5zb3J0KChhLCBiKSA9PiBhLmdldFBvc2l0aW9uKCkueSAtIGIuZ2V0UG9zaXRpb24oKS55KTtcclxuXHJcbiAgICBsZXQgbGVmdCA9IHRoaXMuY29uc3RydWN0VHJlZShzb3J0ZWQuc2xpY2UoMCwgbWlkKSwgIXhBeGlzKTtcclxuICAgIGxldCByaWdodCA9IHRoaXMuY29uc3RydWN0VHJlZShcclxuICAgICAgc29ydGVkLnNsaWNlKG1pZCArIDEsIGFnZW50cy5sZW5ndGgpLFxyXG4gICAgICAheEF4aXNcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIHsgYWdlbnQ6IGFnZW50c1ttaWRdLCBsZWZ0OiBsZWZ0LCByaWdodDogcmlnaHQgfTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmFuZ2VTZWFyY2goXHJcbiAgICByb290OiBOb2RlLFxyXG4gICAgbWluWDogbnVtYmVyLFxyXG4gICAgbWluWTogbnVtYmVyLFxyXG4gICAgbWF4WDogbnVtYmVyLFxyXG4gICAgbWF4WTogbnVtYmVyLFxyXG4gICAgeEF4aXM6IGJvb2xlYW5cclxuICApOiBJQWdlbnRbXSB7XHJcbiAgICBpZiAocm9vdCA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcmVzOiBJQWdlbnRbXSA9IFtdO1xyXG4gICAgaWYgKHhBeGlzKSB7XHJcbiAgICAgIC8vIElmIHggPD0gbWF4WCBuZWVkIHRvIGNoZWNrIHJpZ2h0IHN1YnRyZWVcclxuICAgICAgaWYgKHJvb3QuYWdlbnQuZ2V0UG9zaXRpb24oKS54IDw9IG1heFgpIHtcclxuICAgICAgICByZXMgPSByZXMuY29uY2F0KFxyXG4gICAgICAgICAgdGhpcy5yYW5nZVNlYXJjaChyb290LnJpZ2h0LCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCAheEF4aXMpXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgeCA+PSBtaW5YIG5lZWQgdG8gY2hlY2sgbGVmdCBzdWJ0cmVlXHJcbiAgICAgIGlmIChyb290LmFnZW50LmdldFBvc2l0aW9uKCkueCA+PSBtaW5YKSB7XHJcbiAgICAgICAgcmVzID0gcmVzLmNvbmNhdChcclxuICAgICAgICAgIHRoaXMucmFuZ2VTZWFyY2gocm9vdC5sZWZ0LCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCAheEF4aXMpXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gSWYgeSA8PSBtYXhZIG5lZWQgdG8gY2hlY2sgcmlnaHQgc3VidHJlZVxyXG4gICAgICBpZiAocm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnkgPD0gbWF4WSkge1xyXG4gICAgICAgIHJlcyA9IHJlcy5jb25jYXQoXHJcbiAgICAgICAgICB0aGlzLnJhbmdlU2VhcmNoKHJvb3QucmlnaHQsIG1pblgsIG1pblksIG1heFgsIG1heFksICF4QXhpcylcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiB5ID49IG1pblkgbmVlZCB0byBjaGVjayBsZWZ0IHN1YnRyZWVcclxuICAgICAgaWYgKHJvb3QuYWdlbnQuZ2V0UG9zaXRpb24oKS55ID49IG1pblkpIHtcclxuICAgICAgICByZXMgPSByZXMuY29uY2F0KFxyXG4gICAgICAgICAgdGhpcy5yYW5nZVNlYXJjaChyb290LmxlZnQsIG1pblgsIG1pblksIG1heFgsIG1heFksICF4QXhpcylcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdGhlIGFnZW50IGlzIGluIHJhbmdlIHJhbmdlIGFkZCB0byB0aGUgcmVzdWx0XHJcbiAgICBpZiAoXHJcbiAgICAgIHJvb3QuYWdlbnQuZ2V0UG9zaXRpb24oKS54ID49IG1pblggJiZcclxuICAgICAgcm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnkgPj0gbWluWSAmJlxyXG4gICAgICByb290LmFnZW50LmdldFBvc2l0aW9uKCkueCA8PSBtYXhYICYmXHJcbiAgICAgIHJvb3QuYWdlbnQuZ2V0UG9zaXRpb24oKS55IDw9IG1heFlcclxuICAgICkge1xyXG4gICAgICByZXMucHVzaChyb290LmFnZW50KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb2xvdXIgfSBmcm9tIFwiLi9Db2xvdXJcIjtcclxuaW1wb3J0IHsgSUFnZW50IH0gZnJvbSBcIi4vSUFnZW50XCI7XHJcbmltcG9ydCB7IFZlY3RvcjJmIH0gZnJvbSBcIi4vVmVjdG9yMmZcIjtcclxuaW1wb3J0IHsgVmVsb2NpdHlPYnN0YWNsZSB9IGZyb20gXCIuL1ZlbG9jaXR5T2JzdGFjbGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWT0FnZW50IGltcGxlbWVudHMgSUFnZW50IHtcclxuICBSYWRpdXM6IG51bWJlcjtcclxuICBJZDogbnVtYmVyO1xyXG5cclxuICBNQVhfVkVMT0NJVFkgPSAxLjA7XHJcbiAgTUFYX0FDQ0VMRVJBVElPTiA9IDAuNTtcclxuXHJcbiAgcHJpdmF0ZSBfcG9zaXRpb246IFZlY3RvcjJmO1xyXG4gIHByaXZhdGUgX2dvYWxQb3NpdGlvbjogVmVjdG9yMmY7XHJcbiAgcHJpdmF0ZSBfZGlyZWN0aW9uOiBWZWN0b3IyZjtcclxuXHJcbiAgcHJpdmF0ZSBfaXNEb25lOiBib29sZWFuO1xyXG4gIHByaXZhdGUgX2NvbG91cjogQ29sb3VyO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICBzdGFydFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICByYWRpdXM6IG51bWJlclxyXG4gICkge1xyXG4gICAgdGhpcy5JZCA9IGlkO1xyXG4gICAgdGhpcy5fcG9zaXRpb24gPSBzdGFydFBvc2l0aW9uO1xyXG4gICAgdGhpcy5fZ29hbFBvc2l0aW9uID0gZ29hbFBvc2l0aW9uO1xyXG4gICAgdGhpcy5SYWRpdXMgPSByYWRpdXM7XHJcbiAgICB0aGlzLl9kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcblxyXG4gICAgdGhpcy5faXNEb25lID0gZmFsc2U7XHJcbiAgICB0aGlzLl9jb2xvdXIgPSBDb2xvdXIuV2hpdGU7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbigpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBnZXREaXJlY3Rpb24oKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RpcmVjdGlvbjtcclxuICB9XHJcblxyXG4gIGdldENvbG91cigpOiBDb2xvdXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NvbG91cjtcclxuICB9XHJcblxyXG4gIHVwZGF0ZShkZWx0YVQ6IG51bWJlciwgbmVpZ2hib3VyczogSUFnZW50W10pOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9pc0RvbmUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNwZWVkID0gMC41O1xyXG4gICAgY29uc3QgcHJlZmVycmVkVmVsb2NpdHkgPSB0aGlzLmdldFByZWZlcnJlZFZlbG9jaXR5KHNwZWVkKTtcclxuICAgIGNvbnN0IGdvYWxEaXN0U3FyZCA9IHRoaXMuX2dvYWxQb3NpdGlvblxyXG4gICAgICAuc3VidHJhY3QodGhpcy5nZXRQb3NpdGlvbigpKVxyXG4gICAgICAubWFnbml0dWRlU3FyZCgpO1xyXG5cclxuICAgIGxldCBzYWZlID0gdHJ1ZTtcclxuICAgIGxldCBjb2xsaXNpb247XHJcbiAgICBsZXQgYWdlbnQ7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgLy8gU2tpcCBhZ2VudHMgZnVydGhlciBhd2F5IHRoYW4gZ29hbFxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgbmVpZ2hib3Vyc1tpXVxyXG4gICAgICAgICAgLmdldFBvc2l0aW9uKClcclxuICAgICAgICAgIC5zdWJ0cmFjdCh0aGlzLmdldFBvc2l0aW9uKCkpXHJcbiAgICAgICAgICAubWFnbml0dWRlU3FyZCgpID4gZ29hbERpc3RTcXJkXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDaGVjayB3aGV0aGVyIHByZWZlcnJlZCB2ZWxvY2l0eSBpcyBzYWZlXHJcbiAgICAgIGNvbnN0IHZlbG9jaXR5T2JzdGFjbGUgPSB0aGlzLmdldFZlbG9jaXR5T2JzdGFjbGUobmVpZ2hib3Vyc1tpXSk7XHJcbiAgICAgIGlmIChcclxuICAgICAgICB2ZWxvY2l0eU9ic3RhY2xlICE9IG51bGwgJiZcclxuICAgICAgICB0aGlzLmlzSW5zaWRlKHByZWZlcnJlZFZlbG9jaXR5LCB2ZWxvY2l0eU9ic3RhY2xlKVxyXG4gICAgICApIHtcclxuICAgICAgICBzYWZlID0gZmFsc2U7XHJcbiAgICAgICAgY29sbGlzaW9uID0gdmVsb2NpdHlPYnN0YWNsZTtcclxuICAgICAgICBhZ2VudCA9IGk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBwcmVmZXJyZWQgdmVsb2NpdHkgaXMgc2FmZSwgZ28gaW4gdGhhdCBkaXJlY3Rpb25cclxuICAgIGlmIChzYWZlKSB7XHJcbiAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHByZWZlcnJlZFZlbG9jaXR5O1xyXG4gICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChwcmVmZXJyZWRWZWxvY2l0eSk7XHJcbiAgICAgIHRoaXMuY2hlY2tJZkRvbmUoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb2xsaXNpb24gIT0gbnVsbCkge1xyXG4gICAgICAvLyBFbHNlLCBjb25zaWRlciBjbG9zZXN0IHBvaW50IG9uIGZpcnN0IGhhbGYtcGxhbmVcclxuICAgICAgY29uc3QgaGFsZnBsYW5lMSA9IHRoaXMuZ2V0Q2xvc2VzdFBvaW50T25MaW5lKFxyXG4gICAgICAgIGNvbGxpc2lvbi52ZXJ0ZXgsXHJcbiAgICAgICAgY29sbGlzaW9uLnRhbmdlbnQxLFxyXG4gICAgICAgIHByZWZlcnJlZFZlbG9jaXR5XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoaGFsZnBsYW5lMS5tYWduaXR1ZGUoKSA8PSBzcGVlZCkge1xyXG4gICAgICAgIHNhZmUgPSB0cnVlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGkgIT0gYWdlbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgdmVsb2NpdHlPYnN0YWNsZSA9IHRoaXMuZ2V0VmVsb2NpdHlPYnN0YWNsZShuZWlnaGJvdXJzW2ldKTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgIHZlbG9jaXR5T2JzdGFjbGUgIT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgIHRoaXMuaXNJbnNpZGUoaGFsZnBsYW5lMSwgdmVsb2NpdHlPYnN0YWNsZSlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgc2FmZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2FmZSkge1xyXG4gICAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gaGFsZnBsYW5lMTtcclxuICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKGhhbGZwbGFuZTEpO1xyXG4gICAgICAgICAgdGhpcy5jaGVja0lmRG9uZSgpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRWxzZSwgY29uc2lkZXIgY2xvc2VzdCBwb2ludCBvbiBzZWNvbmQgaGFsZi1wbGFuZVxyXG4gICAgICBjb25zdCBoYWxmUGxhbmUyID0gdGhpcy5nZXRDbG9zZXN0UG9pbnRPbkxpbmUoXHJcbiAgICAgICAgY29sbGlzaW9uLnZlcnRleCxcclxuICAgICAgICBjb2xsaXNpb24udGFuZ2VudDIsXHJcbiAgICAgICAgcHJlZmVycmVkVmVsb2NpdHlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChoYWxmcGxhbmUxLm1hZ25pdHVkZSgpIDw9IHNwZWVkKSB7XHJcbiAgICAgICAgc2FmZSA9IHRydWU7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoaSAhPSBhZ2VudCkge1xyXG4gICAgICAgICAgICBjb25zdCB2ZWxvY2l0eU9ic3RhY2xlID0gdGhpcy5nZXRWZWxvY2l0eU9ic3RhY2xlKG5laWdoYm91cnNbaV0pO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgdmVsb2NpdHlPYnN0YWNsZSAhPSBudWxsICYmXHJcbiAgICAgICAgICAgICAgdGhpcy5pc0luc2lkZShoYWxmUGxhbmUyLCB2ZWxvY2l0eU9ic3RhY2xlKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICBzYWZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzYWZlKSB7XHJcbiAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBoYWxmUGxhbmUyO1xyXG4gICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQoaGFsZlBsYW5lMik7XHJcbiAgICAgICAgICB0aGlzLmNoZWNrSWZEb25lKCk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRWxzZSwgc2FtcGxlIHJhbmRvbSB2ZWxvY2l0aWVzIGFuZCBzZWxlY3QgdGhlIG9uZSB3aXRoIHRoZSBsZWFzdCBwZW5hbHR5XHJcbiAgICBjb25zdCBzYW1wbGVzID0gMTAwOyAvLyBudW1iZXIgb2YgdmVsb2NpdGllcyB0byB0cnlcclxuICAgIGNvbnN0IHcgPSAxMDA7IC8vIHBhcmFtZXRlciBmb3IgcGVuYWx0eVxyXG4gICAgY29uc3QgZ29hbERpc3QgPSBNYXRoLnNxcnQoZ29hbERpc3RTcXJkKTtcclxuICAgIGxldCBtaW5QZW5hbHR5ID0gSW5maW5pdHk7XHJcbiAgICBsZXQgYmVzdFZlbG9jaXR5ID0gbmV3IFZlY3RvcjJmKDAsIDApO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2FtcGxlczsgaSsrKSB7XHJcbiAgICAgIC8vIFNhbXBsZSB2ZWxvY2l0eSBmcm9tIGVudGlyZSBhbGxvd2VkIHZlbG9jaXR5IHNwYWNlXHJcbiAgICAgIGNvbnN0IHNhbXBsZSA9IG5ldyBWZWN0b3IyZigwLCAwKS5zYW1wbGUoc3BlZWQpO1xyXG4gICAgICBsZXQgbWluVGltZVRvQ29sbGlzaW9uID0gSW5maW5pdHk7XHJcblxyXG4gICAgICAvLyBGaW5kIHRpbWUgdG8gZmlyc3QgY29sbGlzaW9uXHJcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGNvbnN0IGIgPSBuZWlnaGJvdXJzW2pdO1xyXG4gICAgICAgIGNvbnN0IHZlbG9jaXR5T2JzdGFjbGUgPSB0aGlzLmdldFZlbG9jaXR5T2JzdGFjbGUoYik7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgdmVsb2NpdHlPYnN0YWNsZSA9PSBudWxsIHx8XHJcbiAgICAgICAgICB0aGlzLmlzSW5zaWRlKHNhbXBsZSwgdmVsb2NpdHlPYnN0YWNsZSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGNvbnN0IHRpbWVUb0NvbGxpc2lvbiA9IHRoaXMuZ2V0Rmlyc3RSYXlDaXJjbGVJbnRlcnNlY3Rpb24oXHJcbiAgICAgICAgICAgIGIuZ2V0UG9zaXRpb24oKS5hZGQoYi5nZXREaXJlY3Rpb24oKSksXHJcbiAgICAgICAgICAgIHRoaXMuUmFkaXVzICsgYi5SYWRpdXMsXHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uLFxyXG4gICAgICAgICAgICBzYW1wbGUuc3VidHJhY3QoYi5nZXREaXJlY3Rpb24oKSlcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgaWYgKHRpbWVUb0NvbGxpc2lvbiA8IG1pblRpbWVUb0NvbGxpc2lvbikge1xyXG4gICAgICAgICAgICBtaW5UaW1lVG9Db2xsaXNpb24gPSB0aW1lVG9Db2xsaXNpb247XHJcbiAgICAgICAgICAgIGlmIChtaW5UaW1lVG9Db2xsaXNpb24gPT0gMCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuY2hlY2tJZkRvbmUoKTtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENhbGN1bGF0ZSBwZW5hbHR5XHJcbiAgICAgIGxldCBwZW5hbHR5O1xyXG4gICAgICBpZiAobWluVGltZVRvQ29sbGlzaW9uIDwgZ29hbERpc3QpIHtcclxuICAgICAgICBwZW5hbHR5ID1cclxuICAgICAgICAgIHcgLyBtaW5UaW1lVG9Db2xsaXNpb24gK1xyXG4gICAgICAgICAgcHJlZmVycmVkVmVsb2NpdHkuc3VidHJhY3Qoc2FtcGxlKS5tYWduaXR1ZGUoKTsgLy8gVFMgY29ycmVjdGx5IGhhbmRsZXMgZGl2aWRlIGJ5IHplcm8gb3IgaW5maW5pdHlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwZW5hbHR5ID0gcHJlZmVycmVkVmVsb2NpdHkuc3VidHJhY3Qoc2FtcGxlKS5tYWduaXR1ZGUoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHBlbmFsdHkgPCBtaW5QZW5hbHR5KSB7XHJcbiAgICAgICAgbWluUGVuYWx0eSA9IHBlbmFsdHk7XHJcbiAgICAgICAgYmVzdFZlbG9jaXR5ID0gc2FtcGxlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZGlyZWN0aW9uID0gYmVzdFZlbG9jaXR5O1xyXG4gICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQoYmVzdFZlbG9jaXR5KTtcclxuICAgIHRoaXMuY2hlY2tJZkRvbmUoKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGlzRG9uZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc0RvbmU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFByZWZlcnJlZFZlbG9jaXR5KG1heFNwZWVkOiBudW1iZXIpOiBWZWN0b3IyZiB7XHJcbiAgICBjb25zdCBnb2FsRGlyZWN0aW9uID0gdGhpcy5fZ29hbFBvc2l0aW9uLnN1YnRyYWN0KHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgIGNvbnN0IGdvYWxEaXN0YW5jZSA9IGdvYWxEaXJlY3Rpb24ubWFnbml0dWRlKCk7XHJcblxyXG4gICAgaWYgKGdvYWxEaXN0YW5jZSA+IG1heFNwZWVkKSB7XHJcbiAgICAgIHJldHVybiBnb2FsRGlyZWN0aW9uLmRpdmlkZShnb2FsRGlzdGFuY2UgLyBtYXhTcGVlZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZ29hbERpcmVjdGlvbjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0VmVsb2NpdHlPYnN0YWNsZShiOiBJQWdlbnQpOiBWZWxvY2l0eU9ic3RhY2xlIHwgbnVsbCB7XHJcbiAgICBjb25zdCB2ZWxvY2l0eUIgPSBiLmdldERpcmVjdGlvbigpO1xyXG5cclxuICAgIC8vIFRyYW5zbGF0ZSBvcmlnaW4gdG8gdGhpcyBhZ2VudCdzIHBvc2l0aW9uXHJcbiAgICBjb25zdCBwb3NpdGlvbkIgPSBiLmdldFBvc2l0aW9uKCkuc3VidHJhY3QodGhpcy5fcG9zaXRpb24pO1xyXG5cclxuICAgIC8vIEZpbmQgTWlua293c2tpIHN1bSBvZiBhZ2VudHNcclxuICAgIGNvbnN0IGNlbnRyZSA9IHBvc2l0aW9uQi5hZGQodmVsb2NpdHlCKTtcclxuICAgIGNvbnN0IHJhZGl1cyA9IGIuUmFkaXVzICsgdGhpcy5SYWRpdXM7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIGFuZ2xlc1xyXG4gICAgY29uc3QgZGlmZiA9IHZlbG9jaXR5Qi5zdWJ0cmFjdChjZW50cmUpO1xyXG4gICAgY29uc3QgZGlzdCA9IGRpZmYubWFnbml0dWRlKCk7XHJcbiAgICBpZiAoZGlzdCA8IHJhZGl1cykge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0aGV0YSA9IE1hdGguYWNvcyhyYWRpdXMgLyBkaXN0KTtcclxuICAgIGNvbnN0IHBoaSA9IE1hdGguYXRhbjIoZGlmZi55LCBkaWZmLngpO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSB0YW5nZW50IHZlY3RvcnNcclxuICAgIGNvbnN0IGFuZ2xlMSA9IHBoaSArIHRoZXRhO1xyXG4gICAgY29uc3QgdGFuZ2VudDEgPSBuZXcgVmVjdG9yMmYoXHJcbiAgICAgIGNlbnRyZS54ICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGUxKSxcclxuICAgICAgY2VudHJlLnkgKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZTEpXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IGFuZ2xlMiA9IHBoaSAtIHRoZXRhO1xyXG4gICAgY29uc3QgdGFuZ2VudDIgPSBuZXcgVmVjdG9yMmYoXHJcbiAgICAgIGNlbnRyZS54ICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGUyKSxcclxuICAgICAgY2VudHJlLnkgKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZTIpXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFJldHVybiB2ZWxvY2l0eSBvYnN0YWNsZVxyXG4gICAgcmV0dXJuIHsgdmVydGV4OiB2ZWxvY2l0eUIsIHRhbmdlbnQxOiB0YW5nZW50MSwgdGFuZ2VudDI6IHRhbmdlbnQyIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzSW5zaWRlKFxyXG4gICAgdmVsb2NpdHk6IFZlY3RvcjJmLFxyXG4gICAgdmVsb2NpdHlPYnN0YWNsZTogVmVsb2NpdHlPYnN0YWNsZVxyXG4gICk6IGJvb2xlYW4ge1xyXG4gICAgLy8gRmlyc3QgaGFsZi1wbGFuZVxyXG4gICAgY29uc3QgZGV0ZXJtaW5hbnQxID1cclxuICAgICAgKHZlbG9jaXR5T2JzdGFjbGUudGFuZ2VudDEueCAtIHZlbG9jaXR5T2JzdGFjbGUudmVydGV4LngpICpcclxuICAgICAgICAodmVsb2NpdHkueSAtIHZlbG9jaXR5T2JzdGFjbGUudmVydGV4LnkpIC1cclxuICAgICAgKHZlbG9jaXR5T2JzdGFjbGUudGFuZ2VudDEueSAtIHZlbG9jaXR5T2JzdGFjbGUudmVydGV4LnkpICpcclxuICAgICAgICAodmVsb2NpdHkueCAtIHZlbG9jaXR5T2JzdGFjbGUudmVydGV4LngpO1xyXG5cclxuICAgIC8vIFNlY29uZCBoYWxmLXBsYW5lXHJcbiAgICBjb25zdCBkZXRlcm1pbmFudDIgPVxyXG4gICAgICAodmVsb2NpdHlPYnN0YWNsZS50YW5nZW50Mi54IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueCkgKlxyXG4gICAgICAgICh2ZWxvY2l0eS55IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueSkgLVxyXG4gICAgICAodmVsb2NpdHlPYnN0YWNsZS50YW5nZW50Mi55IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueSkgKlxyXG4gICAgICAgICh2ZWxvY2l0eS54IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueCk7XHJcblxyXG4gICAgcmV0dXJuIGRldGVybWluYW50MSA+IDAgJiYgZGV0ZXJtaW5hbnQyIDwgMDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0Q2xvc2VzdFBvaW50T25MaW5lKFxyXG4gICAgbGluZVBvaW50OiBWZWN0b3IyZixcclxuICAgIGxpbmVEaXJlY3Rpb246IFZlY3RvcjJmLFxyXG4gICAgcG9pbnQ6IFZlY3RvcjJmXHJcbiAgKTogVmVjdG9yMmYge1xyXG4gICAgY29uc3QgZGlyZWN0aW9uID0gbGluZURpcmVjdGlvbi5ub3JtYWxpc2UoKTtcclxuICAgIGNvbnN0IHZlY3RvciA9IHBvaW50LnN1YnRyYWN0KGxpbmVQb2ludCk7XHJcbiAgICBjb25zdCBkaXN0YW5jZSA9IHZlY3Rvci5kb3QoZGlyZWN0aW9uKTtcclxuICAgIHJldHVybiBsaW5lUG9pbnQuYWRkKGRpcmVjdGlvbi5tdWx0aXBseShkaXN0YW5jZSkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRGaXJzdFJheUNpcmNsZUludGVyc2VjdGlvbihcclxuICAgIGNlbnRyZTogVmVjdG9yMmYsXHJcbiAgICByYWRpdXM6IG51bWJlcixcclxuICAgIG9yaWdpbjogVmVjdG9yMmYsXHJcbiAgICBkaXJlY3Rpb246IFZlY3RvcjJmXHJcbiAgKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGRlbHRhID0gb3JpZ2luLnN1YnRyYWN0KGNlbnRyZSk7XHJcblxyXG4gICAgY29uc3QgYSA9IGRpcmVjdGlvbi5kb3QoZGlyZWN0aW9uKTtcclxuICAgIGNvbnN0IGIgPSAyICogZGlyZWN0aW9uLmRvdChkZWx0YSk7XHJcbiAgICBjb25zdCBjID0gZGVsdGEuZG90KGRlbHRhKSAtIHJhZGl1cyAqKiAyO1xyXG5cclxuICAgIGNvbnN0IGRpc2NyaW0gPSBiICoqIDIgLSA0ICogYSAqIGM7XHJcblxyXG4gICAgaWYgKGRpc2NyaW0gPCAwKSB7XHJcbiAgICAgIC8vIE5vIGludGVyc2VjdGlvblxyXG4gICAgICByZXR1cm4gSW5maW5pdHk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGlzdGFuY2UgPSAoKC1iIC0gTWF0aC5zcXJ0KGRpc2NyaW0pKSAvIDIpICogYTtcclxuXHJcbiAgICBpZiAoZGlzdGFuY2UgPCAwKSB7XHJcbiAgICAgIC8vIEludGVyc2VjdGlvbiBiZWhpbmRcclxuICAgICAgcmV0dXJuIEluZmluaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkaXN0YW5jZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tJZkRvbmUoKSB7XHJcbiAgICBjb25zdCBmaW5pc2hUaHJlc2hvbGQgPSAxLjA7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLl9wb3NpdGlvbi5zdWJ0cmFjdCh0aGlzLl9nb2FsUG9zaXRpb24pLm1hZ25pdHVkZVNxcmQoKSA8XHJcbiAgICAgIGZpbmlzaFRocmVzaG9sZFxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuX2lzRG9uZSA9IHRydWU7XHJcbiAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fZ29hbFBvc2l0aW9uO1xyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbG91ciB9IGZyb20gXCIuL0NvbG91clwiO1xyXG5pbXBvcnQgeyBJQWdlbnQgfSBmcm9tIFwiLi9JQWdlbnRcIjtcclxuaW1wb3J0IHsgVmVjdG9yMmYgfSBmcm9tIFwiLi9WZWN0b3IyZlwiO1xyXG5pbXBvcnQgeyBWZWxvY2l0eU9ic3RhY2xlIH0gZnJvbSBcIi4vVmVsb2NpdHlPYnN0YWNsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJWT0FnZW50IGltcGxlbWVudHMgSUFnZW50IHtcclxuICBSYWRpdXM6IG51bWJlcjtcclxuICBJZDogbnVtYmVyO1xyXG5cclxuICBNQVhfVkVMT0NJVFkgPSAxLjA7XHJcbiAgTUFYX0FDQ0VMRVJBVElPTiA9IDAuNTtcclxuXHJcbiAgcHJpdmF0ZSBfcG9zaXRpb246IFZlY3RvcjJmO1xyXG4gIHByaXZhdGUgX2dvYWxQb3NpdGlvbjogVmVjdG9yMmY7XHJcbiAgcHJpdmF0ZSBfZGlyZWN0aW9uOiBWZWN0b3IyZjtcclxuXHJcbiAgcHJpdmF0ZSBfaXNEb25lOiBib29sZWFuO1xyXG4gIHByaXZhdGUgX2NvbG91cjogQ29sb3VyO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICBzdGFydFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICByYWRpdXM6IG51bWJlclxyXG4gICkge1xyXG4gICAgdGhpcy5JZCA9IGlkO1xyXG4gICAgdGhpcy5fcG9zaXRpb24gPSBzdGFydFBvc2l0aW9uO1xyXG4gICAgdGhpcy5fZ29hbFBvc2l0aW9uID0gZ29hbFBvc2l0aW9uO1xyXG4gICAgdGhpcy5SYWRpdXMgPSByYWRpdXM7XHJcbiAgICB0aGlzLl9kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcblxyXG4gICAgdGhpcy5faXNEb25lID0gZmFsc2U7XHJcbiAgICB0aGlzLl9jb2xvdXIgPSBDb2xvdXIuV2hpdGU7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbigpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBnZXREaXJlY3Rpb24oKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RpcmVjdGlvbjtcclxuICB9XHJcblxyXG4gIGdldENvbG91cigpOiBDb2xvdXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NvbG91cjtcclxuICB9XHJcblxyXG4gIHVwZGF0ZShkZWx0YVQ6IG51bWJlciwgbmVpZ2hib3VyczogSUFnZW50W10pOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9pc0RvbmUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNwZWVkID0gMC41O1xyXG4gICAgY29uc3QgcHJlZmVycmVkVmVsb2NpdHkgPSB0aGlzLmdldFByZWZlcnJlZFZlbG9jaXR5KHNwZWVkKTtcclxuICAgIGNvbnN0IGdvYWxEaXN0U3FyZCA9IHRoaXMuX2dvYWxQb3NpdGlvblxyXG4gICAgICAuc3VidHJhY3QodGhpcy5nZXRQb3NpdGlvbigpKVxyXG4gICAgICAubWFnbml0dWRlU3FyZCgpO1xyXG5cclxuICAgIGxldCBzYWZlID0gdHJ1ZTtcclxuICAgIGxldCBjb2xsaXNpb247XHJcbiAgICBsZXQgYWdlbnQ7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgLy8gU2tpcCBhZ2VudHMgZnVydGhlciBhd2F5IHRoYW4gZ29hbFxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgbmVpZ2hib3Vyc1tpXVxyXG4gICAgICAgICAgLmdldFBvc2l0aW9uKClcclxuICAgICAgICAgIC5zdWJ0cmFjdCh0aGlzLmdldFBvc2l0aW9uKCkpXHJcbiAgICAgICAgICAubWFnbml0dWRlU3FyZCgpID4gZ29hbERpc3RTcXJkXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDaGVjayB3aGV0aGVyIHByZWZlcnJlZCB2ZWxvY2l0eSBpcyBzYWZlXHJcbiAgICAgIGNvbnN0IHZlbG9jaXR5T2JzdGFjbGUgPSB0aGlzLmdldFJlY2lwcm9jYWxWZWxvY2l0eU9ic3RhY2xlKFxyXG4gICAgICAgIG5laWdoYm91cnNbaV1cclxuICAgICAgKTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHZlbG9jaXR5T2JzdGFjbGUgIT0gbnVsbCAmJlxyXG4gICAgICAgIHRoaXMuaXNJbnNpZGUocHJlZmVycmVkVmVsb2NpdHksIHZlbG9jaXR5T2JzdGFjbGUpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHNhZmUgPSBmYWxzZTtcclxuICAgICAgICBjb2xsaXNpb24gPSB2ZWxvY2l0eU9ic3RhY2xlO1xyXG4gICAgICAgIGFnZW50ID0gaTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHByZWZlcnJlZCB2ZWxvY2l0eSBpcyBzYWZlLCBnbyBpbiB0aGF0IGRpcmVjdGlvblxyXG4gICAgaWYgKHNhZmUpIHtcclxuICAgICAgdGhpcy5fZGlyZWN0aW9uID0gcHJlZmVycmVkVmVsb2NpdHk7XHJcbiAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKHByZWZlcnJlZFZlbG9jaXR5KTtcclxuICAgICAgdGhpcy5jaGVja0lmRG9uZSgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNvbGxpc2lvbiAhPSBudWxsKSB7XHJcbiAgICAgIC8vIEVsc2UsIGNvbnNpZGVyIGNsb3Nlc3QgcG9pbnQgb24gZmlyc3QgaGFsZi1wbGFuZVxyXG4gICAgICBjb25zdCBoYWxmcGxhbmUxID0gdGhpcy5nZXRDbG9zZXN0UG9pbnRPbkxpbmUoXHJcbiAgICAgICAgY29sbGlzaW9uLnZlcnRleCxcclxuICAgICAgICBjb2xsaXNpb24udGFuZ2VudDEsXHJcbiAgICAgICAgcHJlZmVycmVkVmVsb2NpdHlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChoYWxmcGxhbmUxLm1hZ25pdHVkZSgpIDw9IHNwZWVkKSB7XHJcbiAgICAgICAgc2FmZSA9IHRydWU7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoaSAhPSBhZ2VudCkge1xyXG4gICAgICAgICAgICBjb25zdCB2ZWxvY2l0eU9ic3RhY2xlID0gdGhpcy5nZXRSZWNpcHJvY2FsVmVsb2NpdHlPYnN0YWNsZShcclxuICAgICAgICAgICAgICBuZWlnaGJvdXJzW2ldXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICB2ZWxvY2l0eU9ic3RhY2xlICE9IG51bGwgJiZcclxuICAgICAgICAgICAgICB0aGlzLmlzSW5zaWRlKGhhbGZwbGFuZTEsIHZlbG9jaXR5T2JzdGFjbGUpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIHNhZmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNhZmUpIHtcclxuICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGhhbGZwbGFuZTE7XHJcbiAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChoYWxmcGxhbmUxKTtcclxuICAgICAgICAgIHRoaXMuY2hlY2tJZkRvbmUoKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEVsc2UsIGNvbnNpZGVyIGNsb3Nlc3QgcG9pbnQgb24gc2Vjb25kIGhhbGYtcGxhbmVcclxuICAgICAgY29uc3QgaGFsZlBsYW5lMiA9IHRoaXMuZ2V0Q2xvc2VzdFBvaW50T25MaW5lKFxyXG4gICAgICAgIGNvbGxpc2lvbi52ZXJ0ZXgsXHJcbiAgICAgICAgY29sbGlzaW9uLnRhbmdlbnQyLFxyXG4gICAgICAgIHByZWZlcnJlZFZlbG9jaXR5XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoaGFsZnBsYW5lMS5tYWduaXR1ZGUoKSA8PSBzcGVlZCkge1xyXG4gICAgICAgIHNhZmUgPSB0cnVlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGkgIT0gYWdlbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgdmVsb2NpdHlPYnN0YWNsZSA9IHRoaXMuZ2V0UmVjaXByb2NhbFZlbG9jaXR5T2JzdGFjbGUoXHJcbiAgICAgICAgICAgICAgbmVpZ2hib3Vyc1tpXVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgdmVsb2NpdHlPYnN0YWNsZSAhPSBudWxsICYmXHJcbiAgICAgICAgICAgICAgdGhpcy5pc0luc2lkZShoYWxmUGxhbmUyLCB2ZWxvY2l0eU9ic3RhY2xlKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICBzYWZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzYWZlKSB7XHJcbiAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBoYWxmUGxhbmUyO1xyXG4gICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQoaGFsZlBsYW5lMik7XHJcbiAgICAgICAgICB0aGlzLmNoZWNrSWZEb25lKCk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRWxzZSwgc2FtcGxlIHJhbmRvbSB2ZWxvY2l0aWVzIGFuZCBzZWxlY3QgdGhlIG9uZSB3aXRoIHRoZSBsZWFzdCBwZW5hbHR5XHJcbiAgICBjb25zdCBzYW1wbGVzID0gMTAwOyAvLyBudW1iZXIgb2YgdmVsb2NpdGllcyB0byB0cnlcclxuICAgIGNvbnN0IHcgPSAxMDA7IC8vIHBhcmFtZXRlciBmb3IgcGVuYWx0eVxyXG4gICAgY29uc3QgZ29hbERpc3QgPSBNYXRoLnNxcnQoZ29hbERpc3RTcXJkKTtcclxuICAgIGxldCBtaW5QZW5hbHR5ID0gSW5maW5pdHk7XHJcbiAgICBsZXQgYmVzdFZlbG9jaXR5ID0gbmV3IFZlY3RvcjJmKDAsIDApO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2FtcGxlczsgaSsrKSB7XHJcbiAgICAgIC8vIFNhbXBsZSB2ZWxvY2l0eSBmcm9tIGVudGlyZSBhbGxvd2VkIHZlbG9jaXR5IHNwYWNlXHJcbiAgICAgIGNvbnN0IHNhbXBsZSA9IG5ldyBWZWN0b3IyZigwLCAwKS5zYW1wbGUoc3BlZWQpO1xyXG4gICAgICBsZXQgbWluVGltZVRvQ29sbGlzaW9uID0gSW5maW5pdHk7XHJcblxyXG4gICAgICAvLyBGaW5kIHRpbWUgdG8gZmlyc3QgY29sbGlzaW9uXHJcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGNvbnN0IGIgPSBuZWlnaGJvdXJzW2pdO1xyXG4gICAgICAgIGNvbnN0IHZlbG9jaXR5T2JzdGFjbGUgPSB0aGlzLmdldFJlY2lwcm9jYWxWZWxvY2l0eU9ic3RhY2xlKGIpO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHZlbG9jaXR5T2JzdGFjbGUgIT0gbnVsbCAmJlxyXG4gICAgICAgICAgdGhpcy5pc0luc2lkZShzYW1wbGUsIHZlbG9jaXR5T2JzdGFjbGUpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBjb25zdCB0aW1lVG9Db2xsaXNpb24gPSB0aGlzLmdldEZpcnN0UmF5Q2lyY2xlSW50ZXJzZWN0aW9uKFxyXG4gICAgICAgICAgICBiLmdldFBvc2l0aW9uKCkuYWRkKGIuZ2V0RGlyZWN0aW9uKCkpLFxyXG4gICAgICAgICAgICB0aGlzLlJhZGl1cyArIGIuUmFkaXVzLFxyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbixcclxuICAgICAgICAgICAgc2FtcGxlXHJcbiAgICAgICAgICAgICAgLm11bHRpcGx5KDIpXHJcbiAgICAgICAgICAgICAgLnN1YnRyYWN0KHRoaXMuZ2V0RGlyZWN0aW9uKCkpXHJcbiAgICAgICAgICAgICAgLnN1YnRyYWN0KGIuZ2V0RGlyZWN0aW9uKCkpXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIGlmICh0aW1lVG9Db2xsaXNpb24gPCBtaW5UaW1lVG9Db2xsaXNpb24pIHtcclxuICAgICAgICAgICAgbWluVGltZVRvQ29sbGlzaW9uID0gdGltZVRvQ29sbGlzaW9uO1xyXG4gICAgICAgICAgICBpZiAobWluVGltZVRvQ29sbGlzaW9uID09IDApIHtcclxuICAgICAgICAgICAgICB0aGlzLmNoZWNrSWZEb25lKCk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDYWxjdWxhdGUgcGVuYWx0eVxyXG4gICAgICBsZXQgcGVuYWx0eTtcclxuICAgICAgaWYgKG1pblRpbWVUb0NvbGxpc2lvbiA8IGdvYWxEaXN0KSB7XHJcbiAgICAgICAgcGVuYWx0eSA9XHJcbiAgICAgICAgICB3IC8gbWluVGltZVRvQ29sbGlzaW9uICtcclxuICAgICAgICAgIHByZWZlcnJlZFZlbG9jaXR5LnN1YnRyYWN0KHNhbXBsZSkubWFnbml0dWRlKCk7IC8vIFRTIGNvcnJlY3RseSBoYW5kbGVzIGRpdmlkZSBieSB6ZXJvIG9yIGluZmluaXR5XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGVuYWx0eSA9IHByZWZlcnJlZFZlbG9jaXR5LnN1YnRyYWN0KHNhbXBsZSkubWFnbml0dWRlKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwZW5hbHR5IDwgbWluUGVuYWx0eSkge1xyXG4gICAgICAgIG1pblBlbmFsdHkgPSBwZW5hbHR5O1xyXG4gICAgICAgIGJlc3RWZWxvY2l0eSA9IHNhbXBsZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2RpcmVjdGlvbiA9IGJlc3RWZWxvY2l0eTtcclxuICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKGJlc3RWZWxvY2l0eSk7XHJcbiAgICB0aGlzLmNoZWNrSWZEb25lKCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBpc0RvbmUoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNEb25lO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRQcmVmZXJyZWRWZWxvY2l0eShtYXhTcGVlZDogbnVtYmVyKTogVmVjdG9yMmYge1xyXG4gICAgY29uc3QgZ29hbERpcmVjdGlvbiA9IHRoaXMuX2dvYWxQb3NpdGlvbi5zdWJ0cmFjdCh0aGlzLl9wb3NpdGlvbik7XHJcbiAgICBjb25zdCBnb2FsRGlzdGFuY2UgPSBnb2FsRGlyZWN0aW9uLm1hZ25pdHVkZSgpO1xyXG5cclxuICAgIGlmIChnb2FsRGlzdGFuY2UgPiBtYXhTcGVlZCkge1xyXG4gICAgICByZXR1cm4gZ29hbERpcmVjdGlvbi5kaXZpZGUoZ29hbERpc3RhbmNlIC8gbWF4U3BlZWQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdvYWxEaXJlY3Rpb247XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFJlY2lwcm9jYWxWZWxvY2l0eU9ic3RhY2xlKGI6IElBZ2VudCk6IFZlbG9jaXR5T2JzdGFjbGUgfCBudWxsIHtcclxuICAgIGNvbnN0IHZlbG9jaXR5QSA9IHRoaXMuZ2V0RGlyZWN0aW9uKCk7XHJcbiAgICBjb25zdCB2ZWxvY2l0eUIgPSBiLmdldERpcmVjdGlvbigpO1xyXG4gICAgY29uc3QgdmVydGV4ID0gdmVsb2NpdHlBLmFkZCh2ZWxvY2l0eUIpLmRpdmlkZSgyKTtcclxuXHJcbiAgICAvLyBUcmFuc2xhdGUgb3JpZ2luIHRvIHRoaXMgYWdlbnQncyBwb3NpdGlvblxyXG4gICAgY29uc3QgcG9zaXRpb25CID0gYi5nZXRQb3NpdGlvbigpLnN1YnRyYWN0KHRoaXMuX3Bvc2l0aW9uKTtcclxuXHJcbiAgICAvLyBGaW5kIE1pbmtvd3NraSBzdW0gb2YgYWdlbnRzXHJcbiAgICBjb25zdCBjZW50cmUgPSBwb3NpdGlvbkIuYWRkKHZlbG9jaXR5Qik7XHJcbiAgICBjb25zdCByYWRpdXMgPSBiLlJhZGl1cyArIHRoaXMuUmFkaXVzO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSBhbmdsZXNcclxuICAgIGNvbnN0IGRpZmYgPSB2ZWxvY2l0eUIuc3VidHJhY3QoY2VudHJlKTtcclxuICAgIGNvbnN0IGRpc3QgPSBkaWZmLm1hZ25pdHVkZSgpO1xyXG4gICAgaWYgKGRpc3QgPCByYWRpdXMpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGhldGEgPSBNYXRoLmFjb3MocmFkaXVzIC8gZGlzdCk7XHJcbiAgICBjb25zdCBwaGkgPSBNYXRoLmF0YW4yKGRpZmYueSwgZGlmZi54KTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgdGFuZ2VudCB2ZWN0b3JzXHJcbiAgICBjb25zdCBhbmdsZTEgPSBwaGkgKyB0aGV0YTtcclxuICAgIGNvbnN0IHRhbmdlbnQxID0gbmV3IFZlY3RvcjJmKFxyXG4gICAgICBjZW50cmUueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlMSksXHJcbiAgICAgIGNlbnRyZS55ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUxKVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBhbmdsZTIgPSBwaGkgLSB0aGV0YTtcclxuICAgIGNvbnN0IHRhbmdlbnQyID0gbmV3IFZlY3RvcjJmKFxyXG4gICAgICBjZW50cmUueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlMiksXHJcbiAgICAgIGNlbnRyZS55ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUyKVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBSZXR1cm4gdmVsb2NpdHkgb2JzdGFjbGVcclxuICAgIHJldHVybiB7IHZlcnRleDogdmVydGV4LCB0YW5nZW50MTogdGFuZ2VudDEsIHRhbmdlbnQyOiB0YW5nZW50MiB9O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpc0luc2lkZShcclxuICAgIHZlbG9jaXR5OiBWZWN0b3IyZixcclxuICAgIHZlbG9jaXR5T2JzdGFjbGU6IFZlbG9jaXR5T2JzdGFjbGVcclxuICApOiBib29sZWFuIHtcclxuICAgIC8vIEZpcnN0IGhhbGYtcGxhbmVcclxuICAgIGNvbnN0IGRldGVybWluYW50MSA9XHJcbiAgICAgICh2ZWxvY2l0eU9ic3RhY2xlLnRhbmdlbnQxLnggLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC54KSAqXHJcbiAgICAgICAgKHZlbG9jaXR5LnkgLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC55KSAtXHJcbiAgICAgICh2ZWxvY2l0eU9ic3RhY2xlLnRhbmdlbnQxLnkgLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC55KSAqXHJcbiAgICAgICAgKHZlbG9jaXR5LnggLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC54KTtcclxuXHJcbiAgICAvLyBTZWNvbmQgaGFsZi1wbGFuZVxyXG4gICAgY29uc3QgZGV0ZXJtaW5hbnQyID1cclxuICAgICAgKHZlbG9jaXR5T2JzdGFjbGUudGFuZ2VudDIueCAtIHZlbG9jaXR5T2JzdGFjbGUudmVydGV4LngpICpcclxuICAgICAgICAodmVsb2NpdHkueSAtIHZlbG9jaXR5T2JzdGFjbGUudmVydGV4LnkpIC1cclxuICAgICAgKHZlbG9jaXR5T2JzdGFjbGUudGFuZ2VudDIueSAtIHZlbG9jaXR5T2JzdGFjbGUudmVydGV4LnkpICpcclxuICAgICAgICAodmVsb2NpdHkueCAtIHZlbG9jaXR5T2JzdGFjbGUudmVydGV4LngpO1xyXG5cclxuICAgIHJldHVybiBkZXRlcm1pbmFudDEgPiAwICYmIGRldGVybWluYW50MiA8IDA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldENsb3Nlc3RQb2ludE9uTGluZShcclxuICAgIGxpbmVQb2ludDogVmVjdG9yMmYsXHJcbiAgICBsaW5lRGlyZWN0aW9uOiBWZWN0b3IyZixcclxuICAgIHBvaW50OiBWZWN0b3IyZlxyXG4gICk6IFZlY3RvcjJmIHtcclxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGxpbmVEaXJlY3Rpb24ubm9ybWFsaXNlKCk7XHJcbiAgICBjb25zdCB2ZWN0b3IgPSBwb2ludC5zdWJ0cmFjdChsaW5lUG9pbnQpO1xyXG4gICAgY29uc3QgZGlzdGFuY2UgPSB2ZWN0b3IuZG90KGRpcmVjdGlvbik7XHJcbiAgICByZXR1cm4gbGluZVBvaW50LmFkZChkaXJlY3Rpb24ubXVsdGlwbHkoZGlzdGFuY2UpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0Rmlyc3RSYXlDaXJjbGVJbnRlcnNlY3Rpb24oXHJcbiAgICBjZW50cmU6IFZlY3RvcjJmLFxyXG4gICAgcmFkaXVzOiBudW1iZXIsXHJcbiAgICBvcmlnaW46IFZlY3RvcjJmLFxyXG4gICAgZGlyZWN0aW9uOiBWZWN0b3IyZlxyXG4gICk6IG51bWJlciB7XHJcbiAgICBjb25zdCBkZWx0YSA9IG9yaWdpbi5zdWJ0cmFjdChjZW50cmUpO1xyXG5cclxuICAgIGNvbnN0IGEgPSBkaXJlY3Rpb24uZG90KGRpcmVjdGlvbik7XHJcbiAgICBjb25zdCBiID0gMiAqIGRpcmVjdGlvbi5kb3QoZGVsdGEpO1xyXG4gICAgY29uc3QgYyA9IGRlbHRhLmRvdChkZWx0YSkgLSByYWRpdXMgKiogMjtcclxuXHJcbiAgICBjb25zdCBkaXNjcmltID0gYiAqKiAyIC0gNCAqIGEgKiBjO1xyXG5cclxuICAgIGlmIChkaXNjcmltIDwgMCkge1xyXG4gICAgICAvLyBObyBpbnRlcnNlY3Rpb25cclxuICAgICAgcmV0dXJuIEluZmluaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRpc3RhbmNlID0gKCgtYiAtIE1hdGguc3FydChkaXNjcmltKSkgLyAyKSAqIGE7XHJcblxyXG4gICAgaWYgKGRpc3RhbmNlIDwgMCkge1xyXG4gICAgICAvLyBJbnRlcnNlY3Rpb24gYmVoaW5kXHJcbiAgICAgIHJldHVybiBJbmZpbml0eTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGlzdGFuY2U7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrSWZEb25lKCkge1xyXG4gICAgY29uc3QgZmluaXNoVGhyZXNob2xkID0gMS4wO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgdGhpcy5fcG9zaXRpb24uc3VidHJhY3QodGhpcy5fZ29hbFBvc2l0aW9uKS5tYWduaXR1ZGVTcXJkKCkgPFxyXG4gICAgICBmaW5pc2hUaHJlc2hvbGRcclxuICAgICkge1xyXG4gICAgICB0aGlzLl9pc0RvbmUgPSB0cnVlO1xyXG4gICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX2dvYWxQb3NpdGlvbjtcclxuICAgICAgdGhpcy5fZGlyZWN0aW9uID0gbmV3IFZlY3RvcjJmKDAsIDApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBTaW11bGF0aW9uIH0gZnJvbSBcIi4vU2ltdWxhdGlvblwiO1xyXG5pbXBvcnQgeyBSZW5kZXJlcjJEIH0gZnJvbSBcIi4vUmVuZGVyZXIyRFwiO1xyXG5pbXBvcnQgeyBCYXNpY0FnZW50IH0gZnJvbSBcIi4vQmFzaWNBZ2VudFwiO1xyXG5pbXBvcnQgeyBTdG9wQWdlbnQgfSBmcm9tIFwiLi9TdG9wQWdlbnRcIjtcclxuaW1wb3J0IHsgQ29uZmlndXJhdGlvbnMgfSBmcm9tIFwiLi9Db25maWd1cmF0aW9uc1wiO1xyXG5pbXBvcnQgeyBBZ2VudFRyZWUgfSBmcm9tIFwiLi9BZ2VudFRyZWVcIjtcclxuaW1wb3J0IHsgVmVjdG9yMmYgfSBmcm9tIFwiLi9WZWN0b3IyZlwiO1xyXG5pbXBvcnQgeyBWT0FnZW50IH0gZnJvbSBcIi4vVk9BZ2VudFwiO1xyXG5pbXBvcnQgeyBSVk9BZ2VudCB9IGZyb20gXCIuL1JWT0FnZW50XCI7XHJcblxyXG5jb25zdCBjb25maWdTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmZpZ1wiKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuY29uc3QgYWdlbnRUeXBlU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgXCJhZ2VudFR5cGVcIlxyXG4pIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xyXG5jb25zdCBudW1iZXJPZkFnZW50c0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgXCJudW1iZXJPZkFnZW50c1wiXHJcbikgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5jb25zdCBmcmFtZXJhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZyYW1lcmF0ZVwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuY29uc3QgcGxheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheUJ1dHRvblwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuY29uc3Qgc3RlcEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RlcEJ1dHRvblwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHJcbmNvbnN0IHJlbmRlcmVyID0gbmV3IFJlbmRlcmVyMkQoY2FudmFzKTtcclxuY29uc3Qgc2ltdWxhdGlvbiA9IG5ldyBTaW11bGF0aW9uKHJlbmRlcmVyLCBuZXcgQWdlbnRUcmVlKCkpO1xyXG52YXIgcGxheSA9IGZhbHNlO1xyXG5cclxuLy8gaW5pdGlhbGlzZSBzaW11bGF0aW9uIGFuZCBiZWdpbiB1cGRhdGUvcmVuZGVyIGxvb3BcclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgdGhpcy5yZWNvbmZpZ3VyZSgpO1xyXG5cclxuICBsZXQgbGFzdFJlbmRlciA9IDA7XHJcbiAgbGV0IGxhc3RGUFMgPSAwO1xyXG4gIGxldCBmcmFtZXMgPSAwO1xyXG5cclxuICBmdW5jdGlvbiBsb29wKHRpbWVzdGFtcDogbnVtYmVyKSB7XHJcbiAgICBsZXQgZGVsdGFUID0gdGltZXN0YW1wIC0gbGFzdFJlbmRlcjtcclxuICAgIGxhc3RSZW5kZXIgPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgLy8gdXBkYXRlXHJcbiAgICBpZiAocGxheSkge1xyXG4gICAgICBzaW11bGF0aW9uLnVwZGF0ZShkZWx0YVQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJlbmRlclxyXG4gICAgc2ltdWxhdGlvbi5kcmF3KCk7XHJcbiAgICBmcmFtZXMrKztcclxuXHJcbiAgICAvLyByZWNhbGN1bGF0ZSBmcmFtZXJhdGUgZXZlcnkgMjUwbXNcclxuICAgIGlmICh0aW1lc3RhbXAgLSBsYXN0RlBTID49IDI1MCkge1xyXG4gICAgICBmcmFtZXJhdGUudGV4dENvbnRlbnQgPSBgRlBTOiAkeyhcclxuICAgICAgICAoMTAwMCAqIGZyYW1lcykgL1xyXG4gICAgICAgICh0aW1lc3RhbXAgLSBsYXN0RlBTKVxyXG4gICAgICApLnRvRml4ZWQoMSl9YDtcclxuXHJcbiAgICAgIGZyYW1lcyA9IDA7XHJcbiAgICAgIGxhc3RGUFMgPSB0aW1lc3RhbXA7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcclxuICB9XHJcblxyXG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbn1cclxuXHJcbi8vIHRvZ2dsZSBwbGF5L3BhdXNlXHJcbmV4cG9ydCBmdW5jdGlvbiBwbGF5UGF1c2UoKSB7XHJcbiAgcGxheSA9ICFwbGF5O1xyXG5cclxuICBpZiAocGxheSkge1xyXG4gICAgcGxheUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiUGF1c2VcIjtcclxuICAgIHN0ZXBCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBwbGF5QnV0dG9uLnRleHRDb250ZW50ID0gXCJQbGF5XCI7XHJcbiAgICBzdGVwQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBzdGVwIHNpbXVsYXRpb24gYnkgMSBmcmFtZVxyXG5leHBvcnQgZnVuY3Rpb24gc3RlcCgpIHtcclxuICBzaW11bGF0aW9uLnVwZGF0ZSgxMDAwIC8gNjApOyAvLyBBc3N1bWVzIDYwRlBTXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWNvbmZpZ3VyZSgpIHtcclxuICBpZiAocGxheSkge1xyXG4gICAgdGhpcy5wbGF5UGF1c2UoKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNvbmZpZyA9IGNvbmZpZ1NlbGVjdC52YWx1ZTtcclxuICBjb25zdCBhZ2VudFR5cGUgPSBhZ2VudFR5cGVTZWxlY3QudmFsdWU7IC8vIFRPRE86IHdpcmUgdGhpcyBpblxyXG4gIGNvbnN0IG4gPSBwYXJzZUludChudW1iZXJPZkFnZW50c0lucHV0LnZhbHVlKSA/PyAwO1xyXG5cclxuICAvLyBTZWxlY3QgYWdlbnQgY29uc3RydWN0b3JcclxuICBsZXQgYWdlbnRDb25zdHJ1Y3RvcjtcclxuICBzd2l0Y2ggKGFnZW50VHlwZSkge1xyXG4gICAgY2FzZSBcIkJhc2ljQWdlbnRcIjpcclxuICAgICAgYWdlbnRDb25zdHJ1Y3RvciA9IChcclxuICAgICAgICBpZDogbnVtYmVyLFxyXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICAgIHJhZGl1czogbnVtYmVyXHJcbiAgICAgICkgPT4gbmV3IEJhc2ljQWdlbnQoaWQsIHBvc2l0aW9uLCBnb2FsUG9zaXRpb24sIHJhZGl1cyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBcIlN0b3BBZ2VudFwiOlxyXG4gICAgICBhZ2VudENvbnN0cnVjdG9yID0gKFxyXG4gICAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgICAgcmFkaXVzOiBudW1iZXJcclxuICAgICAgKSA9PiBuZXcgU3RvcEFnZW50KGlkLCBwb3NpdGlvbiwgZ29hbFBvc2l0aW9uLCByYWRpdXMpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgXCJWT0FnZW50XCI6XHJcbiAgICAgIGFnZW50Q29uc3RydWN0b3IgPSAoXHJcbiAgICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgICAgZ29hbFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgICByYWRpdXM6IG51bWJlclxyXG4gICAgICApID0+IG5ldyBWT0FnZW50KGlkLCBwb3NpdGlvbiwgZ29hbFBvc2l0aW9uLCByYWRpdXMpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgXCJSVk9BZ2VudFwiOlxyXG4gICAgICBhZ2VudENvbnN0cnVjdG9yID0gKFxyXG4gICAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgICAgcmFkaXVzOiBudW1iZXJcclxuICAgICAgKSA9PiBuZXcgUlZPQWdlbnQoaWQsIHBvc2l0aW9uLCBnb2FsUG9zaXRpb24sIHJhZGl1cyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgZGVmYXVsdDoge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBZ2VudCBub3QgaW1wbGVtZW50ZWRcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBTZWxlY3QgY29uZmlndXJhdGlvblxyXG4gIHN3aXRjaCAoY29uZmlnKSB7XHJcbiAgICBjYXNlIFwiUmFuZG9tVG9SYW5kb21cIjoge1xyXG4gICAgICBzaW11bGF0aW9uLmluaXQoXHJcbiAgICAgICAgQ29uZmlndXJhdGlvbnMuUmFuZG9tVG9SYW5kb20oXHJcbiAgICAgICAgICBuLFxyXG4gICAgICAgICAgY2FudmFzLndpZHRoLFxyXG4gICAgICAgICAgY2FudmFzLmhlaWdodCxcclxuICAgICAgICAgIGFnZW50Q29uc3RydWN0b3JcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgY2FzZSBcIlJhbmRvbVRvTGluZVwiOiB7XHJcbiAgICAgIHNpbXVsYXRpb24uaW5pdChcclxuICAgICAgICBDb25maWd1cmF0aW9ucy5SYW5kb21Ub0xpbmUoXHJcbiAgICAgICAgICBuLFxyXG4gICAgICAgICAgY2FudmFzLndpZHRoLFxyXG4gICAgICAgICAgY2FudmFzLmhlaWdodCxcclxuICAgICAgICAgIGFnZW50Q29uc3RydWN0b3JcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgY2FzZSBcIkNpcmNsZVRvQ2lyY2xlXCI6IHtcclxuICAgICAgc2ltdWxhdGlvbi5pbml0KFxyXG4gICAgICAgIENvbmZpZ3VyYXRpb25zLkNpcmNsZVRvQ2lyY2xlKFxyXG4gICAgICAgICAgbixcclxuICAgICAgICAgIGNhbnZhcy53aWR0aCxcclxuICAgICAgICAgIGNhbnZhcy5oZWlnaHQsXHJcbiAgICAgICAgICBhZ2VudENvbnN0cnVjdG9yXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGNhc2UgXCJHcmlkVG9HcmlkXCI6IHtcclxuICAgICAgc2ltdWxhdGlvbi5pbml0KFxyXG4gICAgICAgIENvbmZpZ3VyYXRpb25zLkdyaWRUb0dyaWQoXHJcbiAgICAgICAgICBuLFxyXG4gICAgICAgICAgY2FudmFzLndpZHRoLFxyXG4gICAgICAgICAgY2FudmFzLmhlaWdodCxcclxuICAgICAgICAgIGFnZW50Q29uc3RydWN0b3JcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgZGVmYXVsdDoge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25maWd1cmF0aW9uIG5vdCBpbXBsZW1lbnRlZFwiKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBtb2R1bGUgZXhwb3J0cyBtdXN0IGJlIHJldHVybmVkIGZyb20gcnVudGltZSBzbyBlbnRyeSBpbmxpbmluZyBpcyBkaXNhYmxlZFxuLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG5yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyg4NjEpO1xuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiXSwic291cmNlUm9vdCI6IiJ9