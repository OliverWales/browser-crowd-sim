var CrowdSimulator;CrowdSimulator=(()=>{"use strict";var t={861:(t,i,e)=>{e.r(i),e.d(i,{init:()=>P,playPause:()=>w,reconfigure:()=>I,step:()=>D});var n=function(){function t(t,i){this._renderer=t,this._agents=i}return t.prototype.init=function(t){this._agents.init(t.agents)},t.prototype.update=function(t){var i=this;this._agents.forEach((function(e){e.update(t,i._agents.getNeighboursInRangeEuclidean(e,300))})),this._agents.init(this._agents.getAll())},t.prototype.draw=function(){this._renderer.clear(),this._renderer.drawAgents(this._agents)},t}(),o=function(){function t(t){var i=this;this.cameraDist=800,this.mouseDown=function(t){i.drag=!0,i.oldX=t.pageX,i.oldY=t.pageY},this.mouseUp=function(t){i.drag=!1,t.preventDefault()},this.mouseMove=function(t){if(!i.drag)return!1;i.xPan+=t.pageX-i.oldX,i.yPan+=t.pageY-i.oldY,i.oldX=t.pageX,i.oldY=t.pageY},this.mouseScroll=function(t){i.cameraDist+=t.deltaY,i.cameraDist<0&&(i.cameraDist=0),t.preventDefault(),console.log("Scroll")},this.canvas=t,this.context=this.canvas.getContext("2d"),this.xPan=this.canvas.width/2,this.yPan=this.canvas.height/2,this.canvas.addEventListener("mousedown",this.mouseDown,!1),this.canvas.addEventListener("mouseup",this.mouseUp,!1),this.canvas.addEventListener("mouseout",this.mouseUp,!1),this.canvas.addEventListener("mousemove",this.mouseMove,!1),this.canvas.addEventListener("wheel",this.mouseScroll,!1)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.fillStyle="rgb(135, 194, 250)",this.context.fillRect(0,0,this.context.canvas.width,this.context.canvas.height)},t.prototype.drawAgents=function(t){var i=this,e=800/this.cameraDist;this.context.setTransform(1,0,0,1,0,0),this.context.translate(this.xPan,this.yPan),this.context.scale(e,e),this.context.fillStyle="rgb(51, 51, 51)",this.context.fillRect(.55*-this.context.canvas.width,.55*-this.context.canvas.height,1.1*this.context.canvas.width,1.1*this.context.canvas.height),t.forEach((function(t){i.drawAgent(t)}))},t.prototype.drawAgent=function(t){var i=t.getPosition(),e=t.getDirection(),n=t.getColour();this.context.beginPath(),this.context.strokeStyle="rgb("+n.r+", "+n.g+", "+n.b+")",this.context.lineWidth=2,this.context.arc(i.x,i.y,t.Radius,0,2*Math.PI);var o=e.magnitude();if(0!==o){this.context.moveTo(i.x,i.y);var s=i.add(e.divide(o).multiply(t.Radius));this.context.lineTo(s.x,s.y)}this.context.stroke()},t}(),s=function(){function t(){}return t.FromHsv=function(t,i,e){var n=(t*=6)-Math.floor(t),o=e*(1-i),s=e*(1-i*n),r=e*(1-i*(1-n));return 0<=t&&t<1?{r:255*e,g:255*r,b:255*o}:1<=t&&t<2?{r:255*s,g:255*e,b:255*o}:2<=t&&t<3?{r:255*o,g:255*e,b:255*r}:3<=t&&t<4?{r:255*o,g:255*s,b:255*e}:4<=t&&t<5?{r:255*r,g:255*o,b:255*e}:5<=t&&t<6?{r:255*e,g:255*o,b:255*s}:{r:0,g:0,b:0}},t.White={r:255,g:255,b:255},t.Red={r:255,g:0,b:0},t.Green={r:0,g:255,b:0},t}(),r=function(){function t(t,i){this.x=t,this.y=i}return t.prototype.copy=function(i){return new t(i.x,i.y)},t.prototype.add=function(i){return new t(this.x+i.x,this.y+i.y)},t.prototype.subtract=function(i){return new t(this.x-i.x,this.y-i.y)},t.prototype.multiply=function(i){return new t(this.x*i,this.y*i)},t.prototype.divide=function(i){return new t(this.x/i,this.y/i)},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.magnitudeSqrd=function(){return Math.pow(this.x,2)+Math.pow(this.y,2)},t.prototype.magnitude=function(){return Math.sqrt(this.magnitudeSqrd())},t.prototype.normalise=function(){var i=this.magnitude();return 0==i?new t(0,0):this.divide(i)},t.prototype.sample=function(i){var e=Math.sqrt(Math.random())*i,n=2*Math.PI*Math.random();return new t(this.x+e*Math.cos(n),this.y+e*Math.sin(n))},t}(),a=function(){function t(t,i,e,n){this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new r(0,0),this._isDone=!1}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getColour=function(){return this._isDone?s.White:s.Green},t.prototype.update=function(t,i){if(!this._isDone){var e=this._goalPosition.subtract(this._position);e.magnitude()>60*t/1e3?(this._direction=e.normalise(),this._position=this._position.add(this._direction.multiply(60*t/1e3))):(this._position=this._goalPosition,this._isDone=!0)}},t.prototype.isDone=function(){return this._isDone},t}(),h=function(){function t(t,i,e,n){this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new r(0,0),this._isDone=!1,this._isStuck=!1}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getColour=function(){return this._isDone?s.White:this._isStuck?s.Red:s.Green},t.prototype.update=function(t,i){var e=this;if(!this._isDone){var n=this._goalPosition.subtract(this._position);if(n.magnitude()>60*t/1e3){this._direction=n.normalise();var o=this._position.add(this._direction.multiply(20));this._isStuck=!1,i.forEach((function(t){t.Id!=e.Id&&e.collides(t,o)&&(e._isStuck=!0)})),this._isStuck||(this._position=this._position.add(this._direction.multiply(60*t/1e3)))}else this._position=this._goalPosition,this._isDone=!0}},t.prototype.isDone=function(){return this._isDone},t.prototype.collides=function(t,i){return t.getPosition().subtract(i).magnitude()<t.Radius+this.Radius},t}(),u=function(){function t(){}return t.RandomToRandom=function(t,i,e,n){for(var o=[],s=this.poissonDiskSample(i,e,t,50),a=this.poissonDiskSample(i,e,t,50),h=new r(i/2,e/2),u=0;u<t;u++){var c=n(u,s[u].subtract(h),a[u].subtract(h),20);o.push(c)}return{agents:o}},t.RandomToLine=function(t,i,e,n){for(var o=[],s=this.poissonDiskSample(i,e,t,50),a=new r(i/2,e/2),h=0;h<t;h++){var u=n(h,s[h].subtract(a),new r(((h+1)/(t+1)-.5)*i,0),20);o.push(u)}return{agents:o}},t.CircleToCircle=function(t,i,e,n){for(var o=[],s=e/2-25,a=0;a<t;a++){var h=2*Math.PI*a/t,u=n(a,new r(s*Math.cos(h),s*Math.sin(h)),new r(s*Math.cos(h+Math.PI),s*Math.sin(h+Math.PI)),20);o.push(u)}return{agents:o}},t.GridToGrid=function(t,i,e,n){for(var o=[],s=Math.ceil(Math.sqrt(t/2)),a=90,h=30-i/2,u=-(s-1)/2*a,c=0;c<t;c++){var d=Math.floor(c/2),g=Math.floor(d/s),l=d%s;if(c%2==0){var p=n(c,new r(h+(s-1-l)*a,u+g*a),new r(-h-l*a,u+g*a),20);o.push(p)}else p=n(c,new r(-h-(s-1-l)*a,u+g*a),new r(h+l*a,u+g*a),20),o.push(p)}return{agents:o}},t.poissonDiskSample=function(t,i,e,n){for(var o=[],s=function(){for(var e,s=!0;s;)s=!1,e=new r(t*Math.random(),i*Math.random()),o.forEach((function(t){e.subtract(t).magnitudeSqrd()<Math.pow(n,2)&&(s=!0)}));o.push(e)},a=0;a<e;a++)s();return o},t}(),c=function(){function t(){}return t.prototype.init=function(t){this._agents=t,this._root=this.constructTree(this._agents,!0)},t.prototype.getAll=function(){return this._agents},t.prototype.getNeighboursInRangeRectilinear=function(t,i){var e=t.getPosition().x-i,n=t.getPosition().y-i,o=t.getPosition().x+i,s=t.getPosition().y+i;return this.rangeSearch(this._root,e,n,o,s,!0).filter((function(i){return i.Id!==t.Id}))},t.prototype.getNeighboursInRangeEuclidean=function(t,i){return this.getNeighboursInRangeRectilinear(t,i).filter((function(e){return t.getPosition().subtract(e.getPosition()).magnitudeSqrd()<=Math.pow(i,2)}))},t.prototype.forEach=function(t){this._agents.forEach(t)},t.prototype.constructTree=function(t,i){if(0===t.length)return null;var e=Math.floor(t.length/2),n=i?t.sort((function(t,i){return t.getPosition().x-i.getPosition().x})):t.sort((function(t,i){return t.getPosition().y-i.getPosition().y})),o=this.constructTree(n.slice(0,e),!i),s=this.constructTree(n.slice(e+1,t.length),!i);return{agent:t[e],left:o,right:s}},t.prototype.rangeSearch=function(t,i,e,n,o,s){if(null==t)return[];var r=[];return s?(t.agent.getPosition().x<=n&&(r=r.concat(this.rangeSearch(t.right,i,e,n,o,!s))),t.agent.getPosition().x>=i&&(r=r.concat(this.rangeSearch(t.left,i,e,n,o,!s)))):(t.agent.getPosition().y<=o&&(r=r.concat(this.rangeSearch(t.right,i,e,n,o,!s))),t.agent.getPosition().y>=e&&(r=r.concat(this.rangeSearch(t.left,i,e,n,o,!s)))),t.agent.getPosition().x>=i&&t.agent.getPosition().y>=e&&t.agent.getPosition().x<=n&&t.agent.getPosition().y<=o&&r.push(t.agent),r},t}(),d=function(){function t(t,i,e,n){this.MAX_VELOCITY=1,this.MAX_ACCELERATION=.5,this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new r(0,0),this._isDone=!1,this._colour=s.Green}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getColour=function(){return this._colour},t.prototype.update=function(t,i){if(!this._isDone){for(var e,n,o=.5,a=this.getPreferredVelocity(o),h=this._goalPosition.subtract(this.getPosition()).magnitudeSqrd(),u=!0,c=0;c<i.length;c++)if(!(i[c].getPosition().subtract(this.getPosition()).magnitudeSqrd()>h)&&null!=(m=this.getVelocityObstacle(i[c]))&&this.isInside(a,m)){u=!1,e=m,n=c;break}if(u)return this._direction=a,this._position=this._position.add(a),this._colour=s.Green,void this.checkIfDone();if(null!=e){var d=this.getClosestPointOnLine(e.vertex,e.tangent1,a);if(d.magnitude()<=o){for(u=!0,c=0;c<i.length;c++)if(c!=n&&null!=(m=this.getVelocityObstacle(i[c]))&&this.isInside(d,m)){u=!1;break}if(u)return this._direction=d,this._position=this._position.add(d),this.setColour(a),void this.checkIfDone()}var g=this.getClosestPointOnLine(e.vertex,e.tangent2,a);if(d.magnitude()<=o){for(u=!0,c=0;c<i.length;c++)if(c!=n&&null!=(m=this.getVelocityObstacle(i[c]))&&this.isInside(g,m)){u=!1;break}if(u)return this._direction=g,this._position=this._position.add(g),this.setColour(a),void this.checkIfDone()}}var l=Math.sqrt(h),p=1/0,f=new r(0,0);for(c=0;c<100;c++){for(var y=new r(0,0).sample(o),v=1/0,_=0;_<i.length;_++){var m,x=i[_];if(null==(m=this.getVelocityObstacle(x))||this.isInside(y,m)){var b=this.getFirstRayCircleIntersection(x.getPosition().add(x.getDirection()),this.Radius+x.Radius,this._position,y.subtract(x.getDirection()));if(b<v&&0==(v=b))return this.setColour(a),void this.checkIfDone()}}var P;(P=v<l?100/v+a.subtract(y).magnitude():a.subtract(y).magnitude())<p&&(p=P,f=y)}this._direction=f,this._position=this._position.add(f),this.setColour(a),this.checkIfDone()}},t.prototype.isDone=function(){return this._isDone},t.prototype.getPreferredVelocity=function(t){var i=this._goalPosition.subtract(this._position),e=i.magnitude();return e>t?i.divide(e/t):i},t.prototype.getVelocityObstacle=function(t){var i=t.getDirection(),e=t.getPosition().subtract(this._position).add(i),n=t.Radius+this.Radius,o=i.subtract(e),s=o.magnitude();if(s<n)return null;var a=Math.acos(n/s),h=Math.atan2(o.y,o.x),u=h+a,c=h-a;return{vertex:i,tangent1:new r(e.x+n*Math.cos(u),e.y+n*Math.sin(u)),tangent2:new r(e.x+n*Math.cos(c),e.y+n*Math.sin(c))}},t.prototype.isInside=function(t,i){var e=(i.tangent1.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent1.y-i.vertex.y)*(t.x-i.vertex.x),n=(i.tangent2.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent2.y-i.vertex.y)*(t.x-i.vertex.x);return e>0&&n<0},t.prototype.getClosestPointOnLine=function(t,i,e){var n=i.normalise(),o=e.subtract(t).dot(n);return t.add(n.multiply(o))},t.prototype.getFirstRayCircleIntersection=function(t,i,e,n){var o=e.subtract(t),s=n.dot(n),r=2*n.dot(o),a=o.dot(o)-Math.pow(i,2),h=Math.pow(r,2)-4*s*a;if(h<0)return 1/0;var u=(-r-Math.sqrt(h))/2*s;return u<0?1/0:u},t.prototype.setColour=function(t){var i=t.subtract(this._direction).magnitude();this._colour=s.FromHsv((1-i)/3,1,1)},t.prototype.checkIfDone=function(){this._position.subtract(this._goalPosition).magnitudeSqrd()<1&&(this._isDone=!0,this._position=this._goalPosition,this._direction=new r(0,0),this._colour=s.White)},t}(),g=function(){function t(t,i,e,n){this.MAX_VELOCITY=1,this.MAX_ACCELERATION=.5,this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new r(0,0),this._isDone=!1,this._colour=s.Green}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getColour=function(){return this._colour},t.prototype.update=function(t,i){if(!this._isDone){for(var e,n,o=.5,a=this.getPreferredVelocity(o),h=this._goalPosition.subtract(this.getPosition()).magnitudeSqrd(),u=!0,c=0;c<i.length;c++)if(!(i[c].getPosition().subtract(this.getPosition()).magnitudeSqrd()>h)&&null!=(m=this.getReciprocalVelocityObstacle(i[c]))&&this.isInside(a,m)){u=!1,e=m,n=c;break}if(u)return this._direction=a,this._position=this._position.add(a),this._colour=s.Green,void this.checkIfDone();if(null!=e){var d=this.getClosestPointOnLine(e.vertex,e.tangent1,a);if(d.magnitude()<=o){for(u=!0,c=0;c<i.length;c++)if(c!=n&&null!=(m=this.getReciprocalVelocityObstacle(i[c]))&&this.isInside(d,m)){u=!1;break}if(u)return this._direction=d,this._position=this._position.add(d),this.setColour(a),void this.checkIfDone()}var g=this.getClosestPointOnLine(e.vertex,e.tangent2,a);if(d.magnitude()<=o){for(u=!0,c=0;c<i.length;c++)if(c!=n&&null!=(m=this.getReciprocalVelocityObstacle(i[c]))&&this.isInside(g,m)){u=!1;break}if(u)return this._direction=g,this._position=this._position.add(g),this.setColour(a),void this.checkIfDone()}}var l=Math.sqrt(h),p=1/0,f=new r(0,0);for(c=0;c<100;c++){for(var y=new r(0,0).sample(o),v=1/0,_=0;_<i.length;_++){var m,x=i[_];if(null!=(m=this.getReciprocalVelocityObstacle(x))&&this.isInside(y,m)){var b=this.getFirstRayCircleIntersection(x.getPosition().add(x.getDirection()),this.Radius+x.Radius,this._position,y.multiply(2).subtract(this.getDirection()).subtract(x.getDirection()));if(b<v&&0==(v=b))return this.setColour(a),void this.checkIfDone()}}var P;(P=v<l?100/v+a.subtract(y).magnitude():a.subtract(y).magnitude())<p&&(p=P,f=y)}this._direction=f,this._position=this._position.add(f),this.setColour(a),this.checkIfDone()}},t.prototype.isDone=function(){return this._isDone},t.prototype.getPreferredVelocity=function(t){var i=this._goalPosition.subtract(this._position),e=i.magnitude();return e>t?i.divide(e/t):i},t.prototype.getReciprocalVelocityObstacle=function(t){var i=this.getDirection(),e=t.getDirection(),n=i.add(e).divide(2),o=t.getPosition().subtract(this._position).add(e),s=t.Radius+this.Radius,a=e.subtract(o),h=a.magnitude();if(h<s)return null;var u=Math.acos(s/h),c=Math.atan2(a.y,a.x),d=c+u,g=c-u;return{vertex:n,tangent1:new r(o.x+s*Math.cos(d),o.y+s*Math.sin(d)),tangent2:new r(o.x+s*Math.cos(g),o.y+s*Math.sin(g))}},t.prototype.isInside=function(t,i){var e=(i.tangent1.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent1.y-i.vertex.y)*(t.x-i.vertex.x),n=(i.tangent2.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent2.y-i.vertex.y)*(t.x-i.vertex.x);return e>0&&n<0},t.prototype.getClosestPointOnLine=function(t,i,e){var n=i.normalise(),o=e.subtract(t).dot(n);return t.add(n.multiply(o))},t.prototype.getFirstRayCircleIntersection=function(t,i,e,n){var o=e.subtract(t),s=n.dot(n),r=2*n.dot(o),a=o.dot(o)-Math.pow(i,2),h=Math.pow(r,2)-4*s*a;if(h<0)return 1/0;var u=(-r-Math.sqrt(h))/2*s;return u<0?1/0:u},t.prototype.setColour=function(t){var i=t.subtract(this._direction).magnitude();this._colour=s.FromHsv((1-i)/3,1,1)},t.prototype.checkIfDone=function(){this._position.subtract(this._goalPosition).magnitudeSqrd()<1&&(this._isDone=!0,this._position=this._goalPosition,this._direction=new r(0,0),this._colour=s.White)},t}(),l=document.getElementById("config"),p=document.getElementById("agentType"),f=document.getElementById("numberOfAgents"),y=document.getElementById("canvas"),v=document.getElementById("framerate"),_=document.getElementById("playButton"),m=document.getElementById("stepButton"),x=new n(new o(y),new c),b=!1;function P(){this.reconfigure();var t=0,i=0,e=0;window.requestAnimationFrame((function n(o){var s=o-t;t=o,b&&x.update(s),x.draw(),e++,o-i>=250&&(v.textContent="FPS: "+(1e3*e/(o-i)).toFixed(1),e=0,i=o),window.requestAnimationFrame(n)}))}function w(){(b=!b)?(_.textContent="Pause",m.disabled=!0):(_.textContent="Play",m.disabled=!1)}function D(){x.update(1e3/60)}function I(){var t;b&&this.playPause();var i,e=l.value,n=p.value,o=null!==(t=parseInt(f.value))&&void 0!==t?t:0;switch(n){case"BasicAgent":i=function(t,i,e,n){return new a(t,i,e,n)};break;case"StopAgent":i=function(t,i,e,n){return new h(t,i,e,n)};break;case"VOAgent":i=function(t,i,e,n){return new d(t,i,e,n)};break;case"RVOAgent":i=function(t,i,e,n){return new g(t,i,e,n)};break;default:throw new Error("Agent not implemented")}switch(e){case"RandomToRandom":x.init(u.RandomToRandom(o,y.width,y.height,i));break;case"RandomToLine":x.init(u.RandomToLine(o,y.width,y.height,i));break;case"CircleToCircle":x.init(u.CircleToCircle(o,y.width,y.height,i));break;case"GridToGrid":x.init(u.GridToGrid(o,y.width,y.height,i));break;default:throw new Error("Configuration not implemented")}}}},i={};function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{}};return t[n](o,o.exports,e),o.exports}return e.d=(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e(861)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9TaW11bGF0aW9uLnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL1JlbmRlcmVyMkQudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvQ29sb3VyLnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL1ZlY3RvcjJmLnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL0Jhc2ljQWdlbnQudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvU3RvcEFnZW50LnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL0NvbmZpZ3VyYXRpb25zLnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL0FnZW50VHJlZS50cyIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9WT0FnZW50LnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL1JWT0FnZW50LnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL2RlbW8yZC50cyIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3Ivd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3Ivd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCJdLCJuYW1lcyI6WyJyZW5kZXJlciIsImFnZW50cyIsInRoaXMiLCJfcmVuZGVyZXIiLCJfYWdlbnRzIiwiaW5pdCIsImNvbmZpZyIsInVwZGF0ZSIsImRlbHRhVCIsImZvckVhY2giLCJhZ2VudCIsImdldE5laWdoYm91cnNJblJhbmdlRXVjbGlkZWFuIiwiZ2V0QWxsIiwiZHJhdyIsImNsZWFyIiwiZHJhd0FnZW50cyIsImNhbnZhcyIsImNhbWVyYURpc3QiLCJtb3VzZURvd24iLCJldmVudCIsImRyYWciLCJvbGRYIiwicGFnZVgiLCJvbGRZIiwicGFnZVkiLCJtb3VzZVVwIiwicHJldmVudERlZmF1bHQiLCJtb3VzZU1vdmUiLCJ4UGFuIiwieVBhbiIsIm1vdXNlU2Nyb2xsIiwiZGVsdGFZIiwiY29uc29sZSIsImxvZyIsImNvbnRleHQiLCJnZXRDb250ZXh0Iiwid2lkdGgiLCJoZWlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0VHJhbnNmb3JtIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJzY2FsZUZhY3RvciIsInRyYW5zbGF0ZSIsInNjYWxlIiwiZHJhd0FnZW50IiwicG9zaXRpb24iLCJnZXRQb3NpdGlvbiIsImRpcmVjdGlvbiIsImdldERpcmVjdGlvbiIsImNvbG91ciIsImdldENvbG91ciIsImJlZ2luUGF0aCIsInN0cm9rZVN0eWxlIiwiciIsImciLCJiIiwibGluZVdpZHRoIiwiYXJjIiwieCIsInkiLCJSYWRpdXMiLCJNYXRoIiwiUEkiLCJtYWduaXR1ZGUiLCJtb3ZlVG8iLCJuZXdQb3MiLCJhZGQiLCJkaXZpZGUiLCJtdWx0aXBseSIsImxpbmVUbyIsInN0cm9rZSIsIkZyb21Ic3YiLCJoIiwicyIsInYiLCJmcmFjdCIsImZsb29yIiwiUCIsIlEiLCJUIiwiV2hpdGUiLCJSZWQiLCJHcmVlbiIsImNvcHkiLCJWZWN0b3IyZiIsInN1YnRyYWN0IiwiZG90IiwibWFnbml0dWRlU3FyZCIsInNxcnQiLCJub3JtYWxpc2UiLCJtIiwic2FtcGxlIiwibWF4UmFkaXVzIiwicmFkaXVzIiwicmFuZG9tIiwiYW5nbGUiLCJjb3MiLCJzaW4iLCJpZCIsInN0YXJ0UG9zaXRpb24iLCJnb2FsUG9zaXRpb24iLCJJZCIsIl9wb3NpdGlvbiIsIl9nb2FsUG9zaXRpb24iLCJfZGlyZWN0aW9uIiwiX2lzRG9uZSIsIkNvbG91ciIsImdvYWxEaXJlY3Rpb24iLCJpc0RvbmUiLCJfaXNTdHVjayIsImNvbGxpZGVzIiwiUmFuZG9tVG9SYW5kb20iLCJuIiwiYWdlbnRDb25zdHJ1Y3RvciIsInN0YXJ0UG9zaXRpb25zIiwicG9pc3NvbkRpc2tTYW1wbGUiLCJnb2FsUG9zaXRpb25zIiwiY2VudHJlIiwiaSIsInB1c2giLCJSYW5kb21Ub0xpbmUiLCJDaXJjbGVUb0NpcmNsZSIsIkdyaWRUb0dyaWQiLCJncmlkU2l6ZSIsImNlaWwiLCJvZmZzZXQiLCJpZHgiLCJyb3ciLCJjb2wiLCJ4UmFuZ2UiLCJ5UmFuZ2UiLCJ0aHJlc2hvbGQiLCJzYW1wbGVzIiwicG9zIiwicmVzYW1wbGUiLCJfcm9vdCIsImNvbnN0cnVjdFRyZWUiLCJnZXROZWlnaGJvdXJzSW5SYW5nZVJlY3RpbGluZWFyIiwicmFuZ2UiLCJtaW5YIiwibWluWSIsIm1heFgiLCJtYXhZIiwicmFuZ2VTZWFyY2giLCJmaWx0ZXIiLCJvdGhlciIsImZ1biIsInhBeGlzIiwibGVuZ3RoIiwibWlkIiwic29ydGVkIiwic29ydCIsImEiLCJsZWZ0Iiwic2xpY2UiLCJyaWdodCIsInJvb3QiLCJyZXMiLCJjb25jYXQiLCJNQVhfVkVMT0NJVFkiLCJNQVhfQUNDRUxFUkFUSU9OIiwiX2NvbG91ciIsIm5laWdoYm91cnMiLCJjb2xsaXNpb24iLCJzcGVlZCIsInByZWZlcnJlZFZlbG9jaXR5IiwiZ2V0UHJlZmVycmVkVmVsb2NpdHkiLCJnb2FsRGlzdFNxcmQiLCJzYWZlIiwidmVsb2NpdHlPYnN0YWNsZSIsImdldFZlbG9jaXR5T2JzdGFjbGUiLCJpc0luc2lkZSIsImNoZWNrSWZEb25lIiwiaGFsZnBsYW5lMSIsImdldENsb3Nlc3RQb2ludE9uTGluZSIsInZlcnRleCIsInRhbmdlbnQxIiwic2V0Q29sb3VyIiwiaGFsZlBsYW5lMiIsInRhbmdlbnQyIiwiZ29hbERpc3QiLCJtaW5QZW5hbHR5IiwiSW5maW5pdHkiLCJiZXN0VmVsb2NpdHkiLCJtaW5UaW1lVG9Db2xsaXNpb24iLCJqIiwidGltZVRvQ29sbGlzaW9uIiwiZ2V0Rmlyc3RSYXlDaXJjbGVJbnRlcnNlY3Rpb24iLCJwZW5hbHR5IiwibWF4U3BlZWQiLCJnb2FsRGlzdGFuY2UiLCJ2ZWxvY2l0eUIiLCJkaWZmIiwiZGlzdCIsInRoZXRhIiwiYWNvcyIsInBoaSIsImF0YW4yIiwiYW5nbGUxIiwiYW5nbGUyIiwidmVsb2NpdHkiLCJkZXRlcm1pbmFudDEiLCJkZXRlcm1pbmFudDIiLCJsaW5lUG9pbnQiLCJsaW5lRGlyZWN0aW9uIiwicG9pbnQiLCJkaXN0YW5jZSIsIm9yaWdpbiIsImRlbHRhIiwiYyIsImRpc2NyaW0iLCJzdHJlc3MiLCJnZXRSZWNpcHJvY2FsVmVsb2NpdHlPYnN0YWNsZSIsInZlbG9jaXR5QSIsImNvbmZpZ1NlbGVjdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZ2VudFR5cGVTZWxlY3QiLCJudW1iZXJPZkFnZW50c0lucHV0IiwiZnJhbWVyYXRlIiwicGxheUJ1dHRvbiIsInN0ZXBCdXR0b24iLCJzaW11bGF0aW9uIiwiU2ltdWxhdGlvbiIsIlJlbmRlcmVyMkQiLCJBZ2VudFRyZWUiLCJwbGF5IiwicmVjb25maWd1cmUiLCJsYXN0UmVuZGVyIiwibGFzdEZQUyIsImZyYW1lcyIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImxvb3AiLCJ0aW1lc3RhbXAiLCJ0ZXh0Q29udGVudCIsInRvRml4ZWQiLCJwbGF5UGF1c2UiLCJkaXNhYmxlZCIsInN0ZXAiLCJ2YWx1ZSIsImFnZW50VHlwZSIsInBhcnNlSW50IiwiQmFzaWNBZ2VudCIsIlN0b3BBZ2VudCIsIlZPQWdlbnQiLCJSVk9BZ2VudCIsIkVycm9yIiwiQ29uZmlndXJhdGlvbnMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJtYXBwaW5ncyI6ImtKQUlBLGlCQUlFLFdBQVlBLEVBQXFCQyxHQUMvQkMsS0FBS0MsVUFBWUgsRUFDakJFLEtBQUtFLFFBQVVILEVBdUJuQixPQXBCRSxZQUFBSSxLQUFBLFNBQUtDLEdBQ0hKLEtBQUtFLFFBQVFDLEtBQUtDLEVBQU9MLFNBRzNCLFlBQUFNLE9BQUEsU0FBT0MsR0FBUCxXQUVFTixLQUFLRSxRQUFRSyxTQUFRLFNBQUNDLEdBQ3BCQSxFQUFNSCxPQUNKQyxFQUNBLEVBQUtKLFFBQVFPLDhCQUE4QkQsRUFKbkMsU0FRWlIsS0FBS0UsUUFBUUMsS0FBS0gsS0FBS0UsUUFBUVEsV0FHakMsWUFBQUMsS0FBQSxXQUNFWCxLQUFLQyxVQUFVVyxRQUNmWixLQUFLQyxVQUFVWSxXQUFXYixLQUFLRSxVQUVuQyxFQTdCQSxHQ0FBLGFBWUUsV0FBWVksR0FBWixXQUZRLEtBQUFDLFdBQWEsSUEwRWIsS0FBQUMsVUFBWSxTQUFDQyxHQUNuQixFQUFLQyxNQUFPLEVBQ1osRUFBS0MsS0FBT0YsRUFBTUcsTUFDbEIsRUFBS0MsS0FBT0osRUFBTUssT0FHWixLQUFBQyxRQUFVLFNBQUNOLEdBQ2pCLEVBQUtDLE1BQU8sRUFDWkQsRUFBTU8sa0JBR0EsS0FBQUMsVUFBWSxTQUFDUixHQUNuQixJQUFLLEVBQUtDLEtBQU0sT0FBTyxFQUV2QixFQUFLUSxNQUFRVCxFQUFNRyxNQUFRLEVBQUtELEtBQ2hDLEVBQUtRLE1BQVFWLEVBQU1LLE1BQVEsRUFBS0QsS0FFaEMsRUFBS0YsS0FBT0YsRUFBTUcsTUFDbEIsRUFBS0MsS0FBT0osRUFBTUssT0FHWixLQUFBTSxZQUFjLFNBQUNYLEdBQ3JCLEVBQUtGLFlBQWNFLEVB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RUFBU0ksS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYTixFQUFvQlEsRUFBRUYsRUFBWUMsS0FBU1AsRUFBb0JRLEVBQUVOLEVBQVNLLElBQzVFRSxPQUFPQyxlQUFlUixFQUFTSyxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsTUNKM0VQLEVBQW9CUSxFQUFJLENBQUNLLEVBQUtDLElBQVNMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLEdDQ2pGZCxFQUFvQnJNLEVBQUt1TSxJQUNILG9CQUFYZ0IsUUFBMEJBLE9BQU9DLGFBQzFDVixPQUFPQyxlQUFlUixFQUFTZ0IsT0FBT0MsWUFBYSxDQUFFN0IsTUFBTyxXQUU3RG1CLE9BQU9DLGVBQWVSLEVBQVMsYUFBYyxDQUFFWixPQUFPLEtIRmhEVSxFQUFvQixNIiwiZmlsZSI6ImRlbW8yZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElBZ2VudENvbGxlY3Rpb24gfSBmcm9tIFwiLi9JQWdlbnRDb2xsZWN0aW9uXCI7XHJcbmltcG9ydCB7IElSZW5kZXJlciB9IGZyb20gXCIuL0lSZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBJQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuL0NvbmZpZ3VyYXRpb25zXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2ltdWxhdGlvbiB7XHJcbiAgX3JlbmRlcmVyOiBJUmVuZGVyZXI7XHJcbiAgX2FnZW50czogSUFnZW50Q29sbGVjdGlvbjtcclxuXHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXI6IElSZW5kZXJlciwgYWdlbnRzOiBJQWdlbnRDb2xsZWN0aW9uKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fYWdlbnRzID0gYWdlbnRzO1xyXG4gIH1cclxuXHJcbiAgaW5pdChjb25maWc6IElDb25maWd1cmF0aW9uKSB7XHJcbiAgICB0aGlzLl9hZ2VudHMuaW5pdChjb25maWcuYWdlbnRzKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZShkZWx0YVQ6IG51bWJlcikge1xyXG4gICAgbGV0IHJhbmdlID0gMzAwO1xyXG4gICAgdGhpcy5fYWdlbnRzLmZvckVhY2goKGFnZW50KSA9PiB7XHJcbiAgICAgIGFnZW50LnVwZGF0ZShcclxuICAgICAgICBkZWx0YVQsXHJcbiAgICAgICAgdGhpcy5fYWdlbnRzLmdldE5laWdoYm91cnNJblJhbmdlRXVjbGlkZWFuKGFnZW50LCByYW5nZSlcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2FnZW50cy5pbml0KHRoaXMuX2FnZW50cy5nZXRBbGwoKSk7XHJcbiAgfVxyXG5cclxuICBkcmF3KCkge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIuY2xlYXIoKTtcclxuICAgIHRoaXMuX3JlbmRlcmVyLmRyYXdBZ2VudHModGhpcy5fYWdlbnRzKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSUFnZW50IH0gZnJvbSBcIi4vSUFnZW50XCI7XHJcbmltcG9ydCB7IElBZ2VudENvbGxlY3Rpb24gfSBmcm9tIFwiLi9JQWdlbnRDb2xsZWN0aW9uXCI7XHJcbmltcG9ydCB7IElSZW5kZXJlciB9IGZyb20gXCIuL0lSZW5kZXJlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJlbmRlcmVyMkQgaW1wbGVtZW50cyBJUmVuZGVyZXIge1xyXG4gIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICBwcml2YXRlIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuXHJcbiAgLy8gQ2FtZXJhIGNvbnRyb2xzXHJcbiAgcHJpdmF0ZSBkcmFnOiBib29sZWFuO1xyXG4gIHByaXZhdGUgb2xkWDogbnVtYmVyO1xyXG4gIHByaXZhdGUgb2xkWTogbnVtYmVyO1xyXG4gIHByaXZhdGUgeFBhbjogbnVtYmVyO1xyXG4gIHByaXZhdGUgeVBhbjogbnVtYmVyO1xyXG4gIHByaXZhdGUgY2FtZXJhRGlzdCA9IDgwMDsgLy8gU3RhcnQgY2FtZXJhIDgwMCAncHgnIGF3YXlcclxuXHJcbiAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICB0aGlzLnhQYW4gPSB0aGlzLmNhbnZhcy53aWR0aCAvIDI7XHJcbiAgICB0aGlzLnlQYW4gPSB0aGlzLmNhbnZhcy5oZWlnaHQgLyAyO1xyXG5cclxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnNcclxuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZURvd24sIGZhbHNlKTtcclxuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMubW91c2VVcCwgZmFsc2UpO1xyXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIHRoaXMubW91c2VVcCwgZmFsc2UpO1xyXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdXNlTW92ZSwgZmFsc2UpO1xyXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIHRoaXMubW91c2VTY3JvbGwsIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIGNsZWFyKCk6IHZvaWQge1xyXG4gICAgLy8gQ2xlYXIgYmFja2dyb3VuZFxyXG4gICAgdGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcclxuICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBcInJnYigxMzUsIDE5NCwgMjUwKVwiO1xyXG4gICAgdGhpcy5jb250ZXh0LmZpbGxSZWN0KFxyXG4gICAgICAwLFxyXG4gICAgICAwLFxyXG4gICAgICB0aGlzLmNvbnRleHQuY2FudmFzLndpZHRoLFxyXG4gICAgICB0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGRyYXdBZ2VudHMoYWdlbnRzOiBJQWdlbnRDb2xsZWN0aW9uKSB7XHJcbiAgICBjb25zdCBzY2FsZUZhY3RvciA9IDgwMCAvIHRoaXMuY2FtZXJhRGlzdDtcclxuXHJcbiAgICAvLyBUT0RPOiByZXBsYWNlIHdpdGggc2luZ2xlIHNldFRyYW5zZm9ybVxyXG4gICAgdGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcclxuICAgIHRoaXMuY29udGV4dC50cmFuc2xhdGUodGhpcy54UGFuLCB0aGlzLnlQYW4pO1xyXG4gICAgdGhpcy5jb250ZXh0LnNjYWxlKHNjYWxlRmFjdG9yLCBzY2FsZUZhY3Rvcik7XHJcblxyXG4gICAgLy8gRHJhdyBmbG9vclxyXG4gICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwicmdiKDUxLCA1MSwgNTEpXCI7XHJcbiAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QoXHJcbiAgICAgIC10aGlzLmNvbnRleHQuY2FudmFzLndpZHRoICogMC41NSxcclxuICAgICAgLXRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0ICogMC41NSxcclxuICAgICAgdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCAqIDEuMSxcclxuICAgICAgdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQgKiAxLjFcclxuICAgICk7XHJcblxyXG4gICAgLy8gRHJhdyBhZ2VudHNcclxuICAgIGFnZW50cy5mb3JFYWNoKChhZ2VudCkgPT4ge1xyXG4gICAgICB0aGlzLmRyYXdBZ2VudChhZ2VudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZHJhd0FnZW50KGFnZW50OiBJQWdlbnQpOiB2b2lkIHtcclxuICAgIGNvbnN0IHBvc2l0aW9uID0gYWdlbnQuZ2V0UG9zaXRpb24oKTtcclxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGFnZW50LmdldERpcmVjdGlvbigpO1xyXG4gICAgY29uc3QgY29sb3VyID0gYWdlbnQuZ2V0Q29sb3VyKCk7XHJcblxyXG4gICAgdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgdGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlID0gYHJnYigke2NvbG91ci5yfSwgJHtjb2xvdXIuZ30sICR7Y29sb3VyLmJ9KWA7XHJcbiAgICB0aGlzLmNvbnRleHQubGluZVdpZHRoID0gMjtcclxuXHJcbiAgICB0aGlzLmNvbnRleHQuYXJjKHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIGFnZW50LlJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xyXG5cclxuICAgIGxldCBtYWduaXR1ZGUgPSBkaXJlY3Rpb24ubWFnbml0dWRlKCk7XHJcbiAgICBpZiAobWFnbml0dWRlICE9PSAwKSB7XHJcbiAgICAgIHRoaXMuY29udGV4dC5tb3ZlVG8ocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XHJcbiAgICAgIGxldCBuZXdQb3MgPSBwb3NpdGlvbi5hZGQoXHJcbiAgICAgICAgZGlyZWN0aW9uLmRpdmlkZShtYWduaXR1ZGUpLm11bHRpcGx5KGFnZW50LlJhZGl1cylcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5jb250ZXh0LmxpbmVUbyhuZXdQb3MueCwgbmV3UG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY29udGV4dC5zdHJva2UoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbW91c2VEb3duID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICB0aGlzLmRyYWcgPSB0cnVlO1xyXG4gICAgdGhpcy5vbGRYID0gZXZlbnQucGFnZVg7XHJcbiAgICB0aGlzLm9sZFkgPSBldmVudC5wYWdlWTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIG1vdXNlVXAgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgIHRoaXMuZHJhZyA9IGZhbHNlO1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIG1vdXNlTW92ZSA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLmRyYWcpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICB0aGlzLnhQYW4gKz0gZXZlbnQucGFnZVggLSB0aGlzLm9sZFg7XHJcbiAgICB0aGlzLnlQYW4gKz0gZXZlbnQucGFnZVkgLSB0aGlzLm9sZFk7XHJcblxyXG4gICAgdGhpcy5vbGRYID0gZXZlbnQucGFnZVg7XHJcbiAgICB0aGlzLm9sZFkgPSBldmVudC5wYWdlWTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIG1vdXNlU2Nyb2xsID0gKGV2ZW50OiBXaGVlbEV2ZW50KSA9PiB7XHJcbiAgICB0aGlzLmNhbWVyYURpc3QgKz0gZXZlbnQuZGVsdGFZO1xyXG4gICAgaWYgKHRoaXMuY2FtZXJhRGlzdCA8IDApIHtcclxuICAgICAgdGhpcy5jYW1lcmFEaXN0ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc29sZS5sb2coXCJTY3JvbGxcIik7XHJcbiAgfTtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ29sb3VyIHtcclxuICByOiBudW1iZXI7XHJcbiAgZzogbnVtYmVyO1xyXG4gIGI6IG51bWJlcjtcclxuXHJcbiAgc3RhdGljIFdoaXRlOiBDb2xvdXIgPSB7XHJcbiAgICByOiAyNTUsXHJcbiAgICBnOiAyNTUsXHJcbiAgICBiOiAyNTUsXHJcbiAgfTtcclxuXHJcbiAgc3RhdGljIFJlZDogQ29sb3VyID0ge1xyXG4gICAgcjogMjU1LFxyXG4gICAgZzogMCxcclxuICAgIGI6IDAsXHJcbiAgfTtcclxuXHJcbiAgc3RhdGljIEdyZWVuOiBDb2xvdXIgPSB7XHJcbiAgICByOiAwLFxyXG4gICAgZzogMjU1LFxyXG4gICAgYjogMCxcclxuICB9O1xyXG5cclxuICBzdGF0aWMgRnJvbUhzdihoOiBudW1iZXIsIHM6IG51bWJlciwgdjogbnVtYmVyKTogQ29sb3VyIHtcclxuICAgIC8vIGFzc3VtaW5nIGhzdiB2YWx1ZXMgaW4gcmFuZ2UgMC0xXHJcbiAgICBoICo9IDY7XHJcblxyXG4gICAgY29uc3QgZnJhY3QgPSBoIC0gTWF0aC5mbG9vcihoKTtcclxuICAgIGNvbnN0IFAgPSB2ICogKDEgLSBzKTtcclxuICAgIGNvbnN0IFEgPSB2ICogKDEgLSBzICogZnJhY3QpO1xyXG4gICAgY29uc3QgVCA9IHYgKiAoMSAtIHMgKiAoMSAtIGZyYWN0KSk7XHJcblxyXG4gICAgaWYgKDAgPD0gaCAmJiBoIDwgMSkge1xyXG4gICAgICByZXR1cm4geyByOiB2ICogMjU1LCBnOiBUICogMjU1LCBiOiBQICogMjU1IH07XHJcbiAgICB9IGVsc2UgaWYgKDEgPD0gaCAmJiBoIDwgMikge1xyXG4gICAgICByZXR1cm4geyByOiBRICogMjU1LCBnOiB2ICogMjU1LCBiOiBQICogMjU1IH07XHJcbiAgICB9IGVsc2UgaWYgKDIgPD0gaCAmJiBoIDwgMykge1xyXG4gICAgICByZXR1cm4geyByOiBQICogMjU1LCBnOiB2ICogMjU1LCBiOiBUICogMjU1IH07XHJcbiAgICB9IGVsc2UgaWYgKDMgPD0gaCAmJiBoIDwgNCkge1xyXG4gICAgICByZXR1cm4geyByOiBQICogMjU1LCBnOiBRICogMjU1LCBiOiB2ICogMjU1IH07XHJcbiAgICB9IGVsc2UgaWYgKDQgPD0gaCAmJiBoIDwgNSkge1xyXG4gICAgICByZXR1cm4geyByOiBUICogMjU1LCBnOiBQICogMjU1LCBiOiB2ICogMjU1IH07XHJcbiAgICB9IGVsc2UgaWYgKDUgPD0gaCAmJiBoIDwgNikge1xyXG4gICAgICByZXR1cm4geyByOiB2ICogMjU1LCBnOiBQICogMjU1LCBiOiBRICogMjU1IH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4geyByOiAwLCBnOiAwLCBiOiAwIH07XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBWZWN0b3IyZiB7XHJcbiAgeDogbnVtYmVyO1xyXG4gIHk6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gIH1cclxuXHJcbiAgY29weSh2OiBWZWN0b3IyZik6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMmYodi54LCB2LnkpO1xyXG4gIH1cclxuXHJcbiAgYWRkKHY6IFZlY3RvcjJmKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyZih0aGlzLnggKyB2LngsIHRoaXMueSArIHYueSk7XHJcbiAgfVxyXG5cclxuICBzdWJ0cmFjdCh2OiBWZWN0b3IyZik6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMmYodGhpcy54IC0gdi54LCB0aGlzLnkgLSB2LnkpO1xyXG4gIH1cclxuXHJcbiAgbXVsdGlwbHkoczogbnVtYmVyKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyZih0aGlzLnggKiBzLCB0aGlzLnkgKiBzKTtcclxuICB9XHJcblxyXG4gIGRpdmlkZShzOiBudW1iZXIpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJmKHRoaXMueCAvIHMsIHRoaXMueSAvIHMpO1xyXG4gIH1cclxuXHJcbiAgZG90KHY6IFZlY3RvcjJmKSB7XHJcbiAgICByZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55O1xyXG4gIH1cclxuXHJcbiAgbWFnbml0dWRlU3FyZCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMueCAqKiAyICsgdGhpcy55ICoqIDI7XHJcbiAgfVxyXG5cclxuICBtYWduaXR1ZGUoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5tYWduaXR1ZGVTcXJkKCkpO1xyXG4gIH1cclxuXHJcbiAgbm9ybWFsaXNlKCk6IFZlY3RvcjJmIHtcclxuICAgIGxldCBtID0gdGhpcy5tYWduaXR1ZGUoKTtcclxuICAgIHJldHVybiBtID09IDAgPyBuZXcgVmVjdG9yMmYoMCwgMCkgOiB0aGlzLmRpdmlkZShtKTtcclxuICB9XHJcblxyXG4gIHNhbXBsZShtYXhSYWRpdXM6IG51bWJlcikge1xyXG4gICAgLy8gVW5pZm9ybWx5IHNhbXBsZSB0aGUgY2lyY2xlIGNlbnRyZWQgYXQgdGhpcyBwb2ludCB3aXRoIHJhZGl1cyBtYXhSYWRpdXNcclxuICAgIGxldCByYWRpdXMgPSBNYXRoLnNxcnQoTWF0aC5yYW5kb20oKSkgKiBtYXhSYWRpdXM7XHJcbiAgICBsZXQgYW5nbGUgPSAyICogTWF0aC5QSSAqIE1hdGgucmFuZG9tKCk7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJmKFxyXG4gICAgICB0aGlzLnggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSksXHJcbiAgICAgIHRoaXMueSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29sb3VyIH0gZnJvbSBcIi4vQ29sb3VyXCI7XHJcbmltcG9ydCB7IElBZ2VudCB9IGZyb20gXCIuL0lBZ2VudFwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyZiB9IGZyb20gXCIuL1ZlY3RvcjJmXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQmFzaWNBZ2VudCBpbXBsZW1lbnRzIElBZ2VudCB7XHJcbiAgcHVibGljIHJlYWRvbmx5IElkOiBudW1iZXI7XHJcbiAgcHVibGljIHJlYWRvbmx5IFJhZGl1czogbnVtYmVyO1xyXG5cclxuICBwcml2YXRlIF9wb3NpdGlvbjogVmVjdG9yMmY7XHJcbiAgcHJpdmF0ZSBfZ29hbFBvc2l0aW9uOiBWZWN0b3IyZjtcclxuICBwcml2YXRlIF9kaXJlY3Rpb246IFZlY3RvcjJmO1xyXG5cclxuICBwcml2YXRlIF9pc0RvbmU6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaWQ6IG51bWJlcixcclxuICAgIHN0YXJ0UG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgZ29hbFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgIHJhZGl1czogbnVtYmVyXHJcbiAgKSB7XHJcbiAgICB0aGlzLklkID0gaWQ7XHJcbiAgICB0aGlzLl9wb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XHJcbiAgICB0aGlzLl9nb2FsUG9zaXRpb24gPSBnb2FsUG9zaXRpb247XHJcbiAgICB0aGlzLlJhZGl1cyA9IHJhZGl1cztcclxuICAgIHRoaXMuX2RpcmVjdGlvbiA9IG5ldyBWZWN0b3IyZigwLCAwKTtcclxuXHJcbiAgICB0aGlzLl9pc0RvbmUgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uKCk6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIGdldERpcmVjdGlvbigpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGlyZWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29sb3VyKCkge1xyXG4gICAgaWYgKHRoaXMuX2lzRG9uZSkge1xyXG4gICAgICByZXR1cm4gQ29sb3VyLldoaXRlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIENvbG91ci5HcmVlbjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZShkZWx0YVQ6IG51bWJlciwgX2FnZW50czogSUFnZW50W10pOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9pc0RvbmUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBnb2FsRGlyZWN0aW9uID0gdGhpcy5fZ29hbFBvc2l0aW9uLnN1YnRyYWN0KHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgIGxldCBnb2FsRGlzdGFuY2UgPSBnb2FsRGlyZWN0aW9uLm1hZ25pdHVkZSgpO1xyXG5cclxuICAgIGlmIChnb2FsRGlzdGFuY2UgPiAoZGVsdGFUICogNjApIC8gMTAwMCkge1xyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24gPSBnb2FsRGlyZWN0aW9uLm5vcm1hbGlzZSgpO1xyXG4gICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChcclxuICAgICAgICB0aGlzLl9kaXJlY3Rpb24ubXVsdGlwbHkoKGRlbHRhVCAqIDYwKSAvIDEwMDApXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX2dvYWxQb3NpdGlvbjtcclxuICAgICAgdGhpcy5faXNEb25lID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlzRG9uZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc0RvbmU7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbG91ciB9IGZyb20gXCIuL0NvbG91clwiO1xyXG5pbXBvcnQgeyBJQWdlbnQgfSBmcm9tIFwiLi9JQWdlbnRcIjtcclxuaW1wb3J0IHsgVmVjdG9yMmYgfSBmcm9tIFwiLi9WZWN0b3IyZlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0b3BBZ2VudCBpbXBsZW1lbnRzIElBZ2VudCB7XHJcbiAgcHVibGljIHJlYWRvbmx5IElkOiBudW1iZXI7XHJcbiAgcHVibGljIHJlYWRvbmx5IFJhZGl1czogbnVtYmVyO1xyXG5cclxuICBwcml2YXRlIF9wb3NpdGlvbjogVmVjdG9yMmY7XHJcbiAgcHJpdmF0ZSBfZ29hbFBvc2l0aW9uOiBWZWN0b3IyZjtcclxuICBwcml2YXRlIF9kaXJlY3Rpb246IFZlY3RvcjJmO1xyXG5cclxuICBwcml2YXRlIF9pc0RvbmU6IGJvb2xlYW47XHJcbiAgcHJpdmF0ZSBfaXNTdHVjazogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBpZDogbnVtYmVyLFxyXG4gICAgc3RhcnRQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgcmFkaXVzOiBudW1iZXJcclxuICApIHtcclxuICAgIHRoaXMuSWQgPSBpZDtcclxuICAgIHRoaXMuX3Bvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcclxuICAgIHRoaXMuX2dvYWxQb3NpdGlvbiA9IGdvYWxQb3NpdGlvbjtcclxuICAgIHRoaXMuUmFkaXVzID0gcmFkaXVzO1xyXG4gICAgdGhpcy5fZGlyZWN0aW9uID0gbmV3IFZlY3RvcjJmKDAsIDApO1xyXG5cclxuICAgIHRoaXMuX2lzRG9uZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5faXNTdHVjayA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24oKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGlyZWN0aW9uKCk6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiB0aGlzLl9kaXJlY3Rpb247XHJcbiAgfVxyXG5cclxuICBnZXRDb2xvdXIoKTogQ29sb3VyIHtcclxuICAgIGlmICh0aGlzLl9pc0RvbmUpIHtcclxuICAgICAgcmV0dXJuIENvbG91ci5XaGl0ZTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5faXNTdHVjaykge1xyXG4gICAgICByZXR1cm4gQ29sb3VyLlJlZDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBDb2xvdXIuR3JlZW47XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoZGVsdGFUOiBudW1iZXIsIGFnZW50czogSUFnZW50W10pOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9pc0RvbmUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBnb2FsRGlyZWN0aW9uID0gdGhpcy5fZ29hbFBvc2l0aW9uLnN1YnRyYWN0KHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgIGxldCBnb2FsRGlzdGFuY2UgPSBnb2FsRGlyZWN0aW9uLm1hZ25pdHVkZSgpO1xyXG5cclxuICAgIGlmIChnb2FsRGlzdGFuY2UgPiAoZGVsdGFUICogNjApIC8gMTAwMCkge1xyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24gPSBnb2FsRGlyZWN0aW9uLm5vcm1hbGlzZSgpO1xyXG4gICAgICBsZXQgaGVhZGluZyA9IHRoaXMuX3Bvc2l0aW9uLmFkZCh0aGlzLl9kaXJlY3Rpb24ubXVsdGlwbHkoMjApKTtcclxuXHJcbiAgICAgIHRoaXMuX2lzU3R1Y2sgPSBmYWxzZTtcclxuICAgICAgYWdlbnRzLmZvckVhY2goKGFnZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGFnZW50LklkICE9IHRoaXMuSWQgJiYgdGhpcy5jb2xsaWRlcyhhZ2VudCwgaGVhZGluZykpIHtcclxuICAgICAgICAgIHRoaXMuX2lzU3R1Y2sgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXRoaXMuX2lzU3R1Y2spIHtcclxuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChcclxuICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbi5tdWx0aXBseSgoZGVsdGFUICogNjApIC8gMTAwMClcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX2dvYWxQb3NpdGlvbjtcclxuICAgICAgdGhpcy5faXNEb25lID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlzRG9uZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc0RvbmU7XHJcbiAgfVxyXG5cclxuICBjb2xsaWRlcyhhZ2VudDogSUFnZW50LCBwb3NpdGlvbjogVmVjdG9yMmYpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGFnZW50LmdldFBvc2l0aW9uKCkuc3VidHJhY3QocG9zaXRpb24pLm1hZ25pdHVkZSgpIDxcclxuICAgICAgYWdlbnQuUmFkaXVzICsgdGhpcy5SYWRpdXNcclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IG9mZiB9IGZyb20gXCJwcm9jZXNzXCI7XHJcbmltcG9ydCB7IElBZ2VudCB9IGZyb20gXCIuL0lBZ2VudFwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyZiB9IGZyb20gXCIuL1ZlY3RvcjJmXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElDb25maWd1cmF0aW9uIHtcclxuICBhZ2VudHM6IElBZ2VudFtdO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvbnMge1xyXG4gIHN0YXRpYyBSYW5kb21Ub1JhbmRvbShcclxuICAgIG46IG51bWJlcixcclxuICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgIGFnZW50Q29uc3RydWN0b3I6IChcclxuICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgc3RhcnRQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgIHJhZGl1czogbnVtYmVyXHJcbiAgICApID0+IElBZ2VudFxyXG4gICkge1xyXG4gICAgLy8gUmFuZG9tIHN0YXJ0IHBvc2l0aW9uIHRvIHJhbmRvbSBnb2FsIHBvc2l0aW9uXHJcbiAgICBsZXQgYWdlbnRzOiBJQWdlbnRbXSA9IFtdO1xyXG4gICAgY29uc3Qgc3RhcnRQb3NpdGlvbnMgPSB0aGlzLnBvaXNzb25EaXNrU2FtcGxlKHdpZHRoLCBoZWlnaHQsIG4sIDUwKTtcclxuICAgIGNvbnN0IGdvYWxQb3NpdGlvbnMgPSB0aGlzLnBvaXNzb25EaXNrU2FtcGxlKHdpZHRoLCBoZWlnaHQsIG4sIDUwKTtcclxuICAgIGNvbnN0IGNlbnRyZSA9IG5ldyBWZWN0b3IyZih3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGFnZW50ID0gYWdlbnRDb25zdHJ1Y3RvcihcclxuICAgICAgICBpLFxyXG4gICAgICAgIHN0YXJ0UG9zaXRpb25zW2ldLnN1YnRyYWN0KGNlbnRyZSksXHJcbiAgICAgICAgZ29hbFBvc2l0aW9uc1tpXS5zdWJ0cmFjdChjZW50cmUpLFxyXG4gICAgICAgIDIwXHJcbiAgICAgICk7XHJcbiAgICAgIGFnZW50cy5wdXNoKGFnZW50KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBhZ2VudHM6IGFnZW50cyB9IGFzIElDb25maWd1cmF0aW9uO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIFJhbmRvbVRvTGluZShcclxuICAgIG46IG51bWJlcixcclxuICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgIGFnZW50Q29uc3RydWN0b3I6IChcclxuICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgc3RhcnRQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgIHJhZGl1czogbnVtYmVyXHJcbiAgICApID0+IElBZ2VudFxyXG4gICkge1xyXG4gICAgLy8gUmFuZG9tIHN0YXJ0IHBvc2l0aW9uIHRvIGZpeGVkIHBvc2l0aW9uIG9uIGxpbmVcclxuICAgIGxldCBhZ2VudHM6IElBZ2VudFtdID0gW107XHJcbiAgICBsZXQgc3RhcnRQb3NpdGlvbnMgPSB0aGlzLnBvaXNzb25EaXNrU2FtcGxlKHdpZHRoLCBoZWlnaHQsIG4sIDUwKTtcclxuICAgIGNvbnN0IGNlbnRyZSA9IG5ldyBWZWN0b3IyZih3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGFnZW50ID0gYWdlbnRDb25zdHJ1Y3RvcihcclxuICAgICAgICBpLFxyXG4gICAgICAgIHN0YXJ0UG9zaXRpb25zW2ldLnN1YnRyYWN0KGNlbnRyZSksXHJcbiAgICAgICAgbmV3IFZlY3RvcjJmKCgoaSArIDEpIC8gKG4gKyAxKSAtIDEgLyAyKSAqIHdpZHRoLCAwKSxcclxuICAgICAgICAyMFxyXG4gICAgICApO1xyXG4gICAgICBhZ2VudHMucHVzaChhZ2VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgYWdlbnRzOiBhZ2VudHMgfSBhcyBJQ29uZmlndXJhdGlvbjtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBDaXJjbGVUb0NpcmNsZShcclxuICAgIG46IG51bWJlcixcclxuICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgIGFnZW50Q29uc3RydWN0b3I6IChcclxuICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgc3RhcnRQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgIHJhZGl1czogbnVtYmVyXHJcbiAgICApID0+IElBZ2VudFxyXG4gICkge1xyXG4gICAgLy8gUG9zaXRpb24gb24gcmFkaXVzIG9mIGNpcmNsZSB0byBvcHBvc2l0ZSBwb2ludFxyXG4gICAgbGV0IGFnZW50czogSUFnZW50W10gPSBbXTtcclxuICAgIGNvbnN0IHJhZGl1cyA9IGhlaWdodCAvIDIgLSAyNTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgICBjb25zdCBhbmdsZSA9ICgyICogTWF0aC5QSSAqIGkpIC8gbjtcclxuICAgICAgY29uc3QgYWdlbnQgPSBhZ2VudENvbnN0cnVjdG9yKFxyXG4gICAgICAgIGksXHJcbiAgICAgICAgbmV3IFZlY3RvcjJmKHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSwgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpKSxcclxuICAgICAgICBuZXcgVmVjdG9yMmYoXHJcbiAgICAgICAgICByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSArIE1hdGguUEkpLFxyXG4gICAgICAgICAgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUgKyBNYXRoLlBJKVxyXG4gICAgICAgICksXHJcbiAgICAgICAgMjBcclxuICAgICAgKTtcclxuICAgICAgYWdlbnRzLnB1c2goYWdlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGFnZW50czogYWdlbnRzIH0gYXMgSUNvbmZpZ3VyYXRpb247XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgR3JpZFRvR3JpZChcclxuICAgIG46IG51bWJlcixcclxuICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgIGFnZW50Q29uc3RydWN0b3I6IChcclxuICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgc3RhcnRQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgIHJhZGl1czogbnVtYmVyXHJcbiAgICApID0+IElBZ2VudFxyXG4gICkge1xyXG4gICAgLy8gVHdvIG9wcG9zaW5nIGdyaWRzIG9mIGFnZW50cyBwYXNzaW5nIHRocm91Z2ggZWFjaG90aGVyXHJcbiAgICBsZXQgYWdlbnRzOiBJQWdlbnRbXSA9IFtdO1xyXG4gICAgY29uc3QgZ3JpZFNpemUgPSBNYXRoLmNlaWwoTWF0aC5zcXJ0KG4gLyAyKSk7XHJcbiAgICBjb25zdCBvZmZzZXQgPSA5MDtcclxuICAgIGxldCB4ID0gMzAgLSB3aWR0aCAvIDI7XHJcbiAgICBsZXQgeSA9IC0oKGdyaWRTaXplIC0gMSkgLyAyKSAqIG9mZnNldDtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgICBjb25zdCBpZHggPSBNYXRoLmZsb29yKGkgLyAyKTtcclxuICAgICAgY29uc3Qgcm93ID0gTWF0aC5mbG9vcihpZHggLyBncmlkU2l6ZSk7XHJcbiAgICAgIGNvbnN0IGNvbCA9IGlkeCAlIGdyaWRTaXplO1xyXG5cclxuICAgICAgaWYgKGkgJSAyID09IDApIHtcclxuICAgICAgICAvLyBMSFNcclxuICAgICAgICBjb25zdCBhZ2VudCA9IGFnZW50Q29uc3RydWN0b3IoXHJcbiAgICAgICAgICBpLFxyXG4gICAgICAgICAgbmV3IFZlY3RvcjJmKHggKyAoZ3JpZFNpemUgLSAxIC0gY29sKSAqIG9mZnNldCwgeSArIHJvdyAqIG9mZnNldCksXHJcbiAgICAgICAgICBuZXcgVmVjdG9yMmYoLXggLSBjb2wgKiBvZmZzZXQsIHkgKyByb3cgKiBvZmZzZXQpLFxyXG4gICAgICAgICAgMjBcclxuICAgICAgICApO1xyXG4gICAgICAgIGFnZW50cy5wdXNoKGFnZW50KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBSSFNcclxuICAgICAgICBjb25zdCBhZ2VudCA9IGFnZW50Q29uc3RydWN0b3IoXHJcbiAgICAgICAgICBpLFxyXG4gICAgICAgICAgbmV3IFZlY3RvcjJmKC14IC0gKGdyaWRTaXplIC0gMSAtIGNvbCkgKiBvZmZzZXQsIHkgKyByb3cgKiBvZmZzZXQpLFxyXG4gICAgICAgICAgbmV3IFZlY3RvcjJmKHggKyBjb2wgKiBvZmZzZXQsIHkgKyByb3cgKiBvZmZzZXQpLFxyXG4gICAgICAgICAgMjBcclxuICAgICAgICApO1xyXG4gICAgICAgIGFnZW50cy5wdXNoKGFnZW50KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGFnZW50czogYWdlbnRzIH0gYXMgSUNvbmZpZ3VyYXRpb247XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXRpYyBwb2lzc29uRGlza1NhbXBsZShcclxuICAgIHhSYW5nZTogbnVtYmVyLFxyXG4gICAgeVJhbmdlOiBudW1iZXIsXHJcbiAgICBuOiBudW1iZXIsXHJcbiAgICB0aHJlc2hvbGQ6IG51bWJlclxyXG4gICk6IFZlY3RvcjJmW10ge1xyXG4gICAgbGV0IHNhbXBsZXM6IFZlY3RvcjJmW10gPSBbXTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgICBsZXQgcmVzYW1wbGUgPSB0cnVlO1xyXG4gICAgICBsZXQgcG9zOiBWZWN0b3IyZjtcclxuXHJcbiAgICAgIHdoaWxlIChyZXNhbXBsZSkge1xyXG4gICAgICAgIHJlc2FtcGxlID0gZmFsc2U7XHJcbiAgICAgICAgcG9zID0gbmV3IFZlY3RvcjJmKHhSYW5nZSAqIE1hdGgucmFuZG9tKCksIHlSYW5nZSAqIE1hdGgucmFuZG9tKCkpO1xyXG5cclxuICAgICAgICBzYW1wbGVzLmZvckVhY2goKHNhbXBsZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKHBvcy5zdWJ0cmFjdChzYW1wbGUpLm1hZ25pdHVkZVNxcmQoKSA8IHRocmVzaG9sZCAqKiAyKSB7XHJcbiAgICAgICAgICAgIHJlc2FtcGxlID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2FtcGxlcy5wdXNoKHBvcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNhbXBsZXM7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IElBZ2VudENvbGxlY3Rpb24gfSBmcm9tIFwiLi9JQWdlbnRDb2xsZWN0aW9uXCI7XHJcbmltcG9ydCB7IElBZ2VudCB9IGZyb20gXCIuL0lBZ2VudFwiO1xyXG5cclxuaW50ZXJmYWNlIE5vZGUge1xyXG4gIGFnZW50OiBJQWdlbnQ7XHJcbiAgbGVmdDogTm9kZTtcclxuICByaWdodDogTm9kZTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFnZW50VHJlZSBpbXBsZW1lbnRzIElBZ2VudENvbGxlY3Rpb24ge1xyXG4gIHByaXZhdGUgX2FnZW50czogSUFnZW50W107XHJcbiAgcHJpdmF0ZSBfcm9vdDogTm9kZTtcclxuXHJcbiAgaW5pdChhZ2VudHM6IElBZ2VudFtdKTogdm9pZCB7XHJcbiAgICB0aGlzLl9hZ2VudHMgPSBhZ2VudHM7XHJcbiAgICB0aGlzLl9yb290ID0gdGhpcy5jb25zdHJ1Y3RUcmVlKHRoaXMuX2FnZW50cywgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXRBbGwoKTogSUFnZW50W10ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2FnZW50cztcclxuICB9XHJcblxyXG4gIGdldE5laWdoYm91cnNJblJhbmdlUmVjdGlsaW5lYXIoYWdlbnQ6IElBZ2VudCwgcmFuZ2U6IG51bWJlcik6IElBZ2VudFtdIHtcclxuICAgIGxldCBtaW5YID0gYWdlbnQuZ2V0UG9zaXRpb24oKS54IC0gcmFuZ2U7XHJcbiAgICBsZXQgbWluWSA9IGFnZW50LmdldFBvc2l0aW9uKCkueSAtIHJhbmdlO1xyXG4gICAgbGV0IG1heFggPSBhZ2VudC5nZXRQb3NpdGlvbigpLnggKyByYW5nZTtcclxuICAgIGxldCBtYXhZID0gYWdlbnQuZ2V0UG9zaXRpb24oKS55ICsgcmFuZ2U7XHJcblxyXG4gICAgbGV0IGNhbmRpZGF0ZXMgPSB0aGlzLnJhbmdlU2VhcmNoKHRoaXMuX3Jvb3QsIG1pblgsIG1pblksIG1heFgsIG1heFksIHRydWUpO1xyXG4gICAgcmV0dXJuIGNhbmRpZGF0ZXMuZmlsdGVyKChvdGhlcikgPT4gb3RoZXIuSWQgIT09IGFnZW50LklkKTtcclxuICB9XHJcblxyXG4gIGdldE5laWdoYm91cnNJblJhbmdlRXVjbGlkZWFuKGFnZW50OiBJQWdlbnQsIHJhbmdlOiBudW1iZXIpOiBJQWdlbnRbXSB7XHJcbiAgICBsZXQgY2FuZGlkYXRlcyA9IHRoaXMuZ2V0TmVpZ2hib3Vyc0luUmFuZ2VSZWN0aWxpbmVhcihhZ2VudCwgcmFuZ2UpO1xyXG4gICAgcmV0dXJuIGNhbmRpZGF0ZXMuZmlsdGVyKFxyXG4gICAgICAob3RoZXIpID0+XHJcbiAgICAgICAgYWdlbnQuZ2V0UG9zaXRpb24oKS5zdWJ0cmFjdChvdGhlci5nZXRQb3NpdGlvbigpKS5tYWduaXR1ZGVTcXJkKCkgPD1cclxuICAgICAgICByYW5nZSAqKiAyXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZm9yRWFjaChmdW46IChhZ2VudDogSUFnZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICB0aGlzLl9hZ2VudHMuZm9yRWFjaChmdW4pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb25zdHJ1Y3RUcmVlKGFnZW50czogSUFnZW50W10sIHhBeGlzOiBib29sZWFuKTogTm9kZSB7XHJcbiAgICBpZiAoYWdlbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbWlkID0gTWF0aC5mbG9vcihhZ2VudHMubGVuZ3RoIC8gMik7XHJcblxyXG4gICAgbGV0IHNvcnRlZCA9IHhBeGlzXHJcbiAgICAgID8gYWdlbnRzLnNvcnQoKGEsIGIpID0+IGEuZ2V0UG9zaXRpb24oKS54IC0gYi5nZXRQb3NpdGlvbigpLngpXHJcbiAgICAgIDogYWdlbnRzLnNvcnQoKGEsIGIpID0+IGEuZ2V0UG9zaXRpb24oKS55IC0gYi5nZXRQb3NpdGlvbigpLnkpO1xyXG5cclxuICAgIGxldCBsZWZ0ID0gdGhpcy5jb25zdHJ1Y3RUcmVlKHNvcnRlZC5zbGljZSgwLCBtaWQpLCAheEF4aXMpO1xyXG4gICAgbGV0IHJpZ2h0ID0gdGhpcy5jb25zdHJ1Y3RUcmVlKFxyXG4gICAgICBzb3J0ZWQuc2xpY2UobWlkICsgMSwgYWdlbnRzLmxlbmd0aCksXHJcbiAgICAgICF4QXhpc1xyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4geyBhZ2VudDogYWdlbnRzW21pZF0sIGxlZnQ6IGxlZnQsIHJpZ2h0OiByaWdodCB9O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByYW5nZVNlYXJjaChcclxuICAgIHJvb3Q6IE5vZGUsXHJcbiAgICBtaW5YOiBudW1iZXIsXHJcbiAgICBtaW5ZOiBudW1iZXIsXHJcbiAgICBtYXhYOiBudW1iZXIsXHJcbiAgICBtYXhZOiBudW1iZXIsXHJcbiAgICB4QXhpczogYm9vbGVhblxyXG4gICk6IElBZ2VudFtdIHtcclxuICAgIGlmIChyb290ID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCByZXM6IElBZ2VudFtdID0gW107XHJcbiAgICBpZiAoeEF4aXMpIHtcclxuICAgICAgLy8gSWYgeCA8PSBtYXhYIG5lZWQgdG8gY2hlY2sgcmlnaHQgc3VidHJlZVxyXG4gICAgICBpZiAocm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnggPD0gbWF4WCkge1xyXG4gICAgICAgIHJlcyA9IHJlcy5jb25jYXQoXHJcbiAgICAgICAgICB0aGlzLnJhbmdlU2VhcmNoKHJvb3QucmlnaHQsIG1pblgsIG1pblksIG1heFgsIG1heFksICF4QXhpcylcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiB4ID49IG1pblggbmVlZCB0byBjaGVjayBsZWZ0IHN1YnRyZWVcclxuICAgICAgaWYgKHJvb3QuYWdlbnQuZ2V0UG9zaXRpb24oKS54ID49IG1pblgpIHtcclxuICAgICAgICByZXMgPSByZXMuY29uY2F0KFxyXG4gICAgICAgICAgdGhpcy5yYW5nZVNlYXJjaChyb290LmxlZnQsIG1pblgsIG1pblksIG1heFgsIG1heFksICF4QXhpcylcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBJZiB5IDw9IG1heFkgbmVlZCB0byBjaGVjayByaWdodCBzdWJ0cmVlXHJcbiAgICAgIGlmIChyb290LmFnZW50LmdldFBvc2l0aW9uKCkueSA8PSBtYXhZKSB7XHJcbiAgICAgICAgcmVzID0gcmVzLmNvbmNhdChcclxuICAgICAgICAgIHRoaXMucmFuZ2VTZWFyY2gocm9vdC5yaWdodCwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgIXhBeGlzKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIHkgPj0gbWluWSBuZWVkIHRvIGNoZWNrIGxlZnQgc3VidHJlZVxyXG4gICAgICBpZiAocm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnkgPj0gbWluWSkge1xyXG4gICAgICAgIHJlcyA9IHJlcy5jb25jYXQoXHJcbiAgICAgICAgICB0aGlzLnJhbmdlU2VhcmNoKHJvb3QubGVmdCwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgIXhBeGlzKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGUgYWdlbnQgaXMgaW4gcmFuZ2UgcmFuZ2UgYWRkIHRvIHRoZSByZXN1bHRcclxuICAgIGlmIChcclxuICAgICAgcm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnggPj0gbWluWCAmJlxyXG4gICAgICByb290LmFnZW50LmdldFBvc2l0aW9uKCkueSA+PSBtaW5ZICYmXHJcbiAgICAgIHJvb3QuYWdlbnQuZ2V0UG9zaXRpb24oKS54IDw9IG1heFggJiZcclxuICAgICAgcm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnkgPD0gbWF4WVxyXG4gICAgKSB7XHJcbiAgICAgIHJlcy5wdXNoKHJvb3QuYWdlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXM7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbG91ciB9IGZyb20gXCIuL0NvbG91clwiO1xyXG5pbXBvcnQgeyBJQWdlbnQgfSBmcm9tIFwiLi9JQWdlbnRcIjtcclxuaW1wb3J0IHsgVmVjdG9yMmYgfSBmcm9tIFwiLi9WZWN0b3IyZlwiO1xyXG5pbXBvcnQgeyBWZWxvY2l0eU9ic3RhY2xlIH0gZnJvbSBcIi4vVmVsb2NpdHlPYnN0YWNsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZPQWdlbnQgaW1wbGVtZW50cyBJQWdlbnQge1xyXG4gIFJhZGl1czogbnVtYmVyO1xyXG4gIElkOiBudW1iZXI7XHJcblxyXG4gIE1BWF9WRUxPQ0lUWSA9IDEuMDtcclxuICBNQVhfQUNDRUxFUkFUSU9OID0gMC41O1xyXG5cclxuICBwcml2YXRlIF9wb3NpdGlvbjogVmVjdG9yMmY7XHJcbiAgcHJpdmF0ZSBfZ29hbFBvc2l0aW9uOiBWZWN0b3IyZjtcclxuICBwcml2YXRlIF9kaXJlY3Rpb246IFZlY3RvcjJmO1xyXG5cclxuICBwcml2YXRlIF9pc0RvbmU6IGJvb2xlYW47XHJcbiAgcHJpdmF0ZSBfY29sb3VyOiBDb2xvdXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaWQ6IG51bWJlcixcclxuICAgIHN0YXJ0UG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgZ29hbFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgIHJhZGl1czogbnVtYmVyXHJcbiAgKSB7XHJcbiAgICB0aGlzLklkID0gaWQ7XHJcbiAgICB0aGlzLl9wb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XHJcbiAgICB0aGlzLl9nb2FsUG9zaXRpb24gPSBnb2FsUG9zaXRpb247XHJcbiAgICB0aGlzLlJhZGl1cyA9IHJhZGl1cztcclxuICAgIHRoaXMuX2RpcmVjdGlvbiA9IG5ldyBWZWN0b3IyZigwLCAwKTtcclxuXHJcbiAgICB0aGlzLl9pc0RvbmUgPSBmYWxzZTtcclxuICAgIHRoaXMuX2NvbG91ciA9IENvbG91ci5HcmVlbjtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uKCk6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIGdldERpcmVjdGlvbigpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGlyZWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29sb3VyKCk6IENvbG91ciB7XHJcbiAgICByZXR1cm4gdGhpcy5fY29sb3VyO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKGRlbHRhVDogbnVtYmVyLCBuZWlnaGJvdXJzOiBJQWdlbnRbXSk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuX2lzRG9uZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3BlZWQgPSAwLjU7XHJcbiAgICBjb25zdCBwcmVmZXJyZWRWZWxvY2l0eSA9IHRoaXMuZ2V0UHJlZmVycmVkVmVsb2NpdHkoc3BlZWQpO1xyXG4gICAgY29uc3QgZ29hbERpc3RTcXJkID0gdGhpcy5fZ29hbFBvc2l0aW9uXHJcbiAgICAgIC5zdWJ0cmFjdCh0aGlzLmdldFBvc2l0aW9uKCkpXHJcbiAgICAgIC5tYWduaXR1ZGVTcXJkKCk7XHJcblxyXG4gICAgbGV0IHNhZmUgPSB0cnVlO1xyXG4gICAgbGV0IGNvbGxpc2lvbjtcclxuICAgIGxldCBhZ2VudDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAvLyBTa2lwIGFnZW50cyBmdXJ0aGVyIGF3YXkgdGhhbiBnb2FsXHJcbiAgICAgIGlmIChcclxuICAgICAgICBuZWlnaGJvdXJzW2ldXHJcbiAgICAgICAgICAuZ2V0UG9zaXRpb24oKVxyXG4gICAgICAgICAgLnN1YnRyYWN0KHRoaXMuZ2V0UG9zaXRpb24oKSlcclxuICAgICAgICAgIC5tYWduaXR1ZGVTcXJkKCkgPiBnb2FsRGlzdFNxcmRcclxuICAgICAgKSB7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENoZWNrIHdoZXRoZXIgcHJlZmVycmVkIHZlbG9jaXR5IGlzIHNhZmVcclxuICAgICAgY29uc3QgdmVsb2NpdHlPYnN0YWNsZSA9IHRoaXMuZ2V0VmVsb2NpdHlPYnN0YWNsZShuZWlnaGJvdXJzW2ldKTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHZlbG9jaXR5T2JzdGFjbGUgIT0gbnVsbCAmJlxyXG4gICAgICAgIHRoaXMuaXNJbnNpZGUocHJlZmVycmVkVmVsb2NpdHksIHZlbG9jaXR5T2JzdGFjbGUpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHNhZmUgPSBmYWxzZTtcclxuICAgICAgICBjb2xsaXNpb24gPSB2ZWxvY2l0eU9ic3RhY2xlO1xyXG4gICAgICAgIGFnZW50ID0gaTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHByZWZlcnJlZCB2ZWxvY2l0eSBpcyBzYWZlLCBnbyBpbiB0aGF0IGRpcmVjdGlvblxyXG4gICAgaWYgKHNhZmUpIHtcclxuICAgICAgdGhpcy5fZGlyZWN0aW9uID0gcHJlZmVycmVkVmVsb2NpdHk7XHJcbiAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKHByZWZlcnJlZFZlbG9jaXR5KTtcclxuICAgICAgdGhpcy5fY29sb3VyID0gQ29sb3VyLkdyZWVuO1xyXG4gICAgICB0aGlzLmNoZWNrSWZEb25lKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY29sbGlzaW9uICE9IG51bGwpIHtcclxuICAgICAgLy8gRWxzZSwgY29uc2lkZXIgY2xvc2VzdCBwb2ludCBvbiBmaXJzdCBoYWxmLXBsYW5lXHJcbiAgICAgIGNvbnN0IGhhbGZwbGFuZTEgPSB0aGlzLmdldENsb3Nlc3RQb2ludE9uTGluZShcclxuICAgICAgICBjb2xsaXNpb24udmVydGV4LFxyXG4gICAgICAgIGNvbGxpc2lvbi50YW5nZW50MSxcclxuICAgICAgICBwcmVmZXJyZWRWZWxvY2l0eVxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKGhhbGZwbGFuZTEubWFnbml0dWRlKCkgPD0gc3BlZWQpIHtcclxuICAgICAgICBzYWZlID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChpICE9IGFnZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZlbG9jaXR5T2JzdGFjbGUgPSB0aGlzLmdldFZlbG9jaXR5T2JzdGFjbGUobmVpZ2hib3Vyc1tpXSk7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICB2ZWxvY2l0eU9ic3RhY2xlICE9IG51bGwgJiZcclxuICAgICAgICAgICAgICB0aGlzLmlzSW5zaWRlKGhhbGZwbGFuZTEsIHZlbG9jaXR5T2JzdGFjbGUpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIHNhZmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNhZmUpIHtcclxuICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGhhbGZwbGFuZTE7XHJcbiAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChoYWxmcGxhbmUxKTtcclxuICAgICAgICAgIHRoaXMuc2V0Q29sb3VyKHByZWZlcnJlZFZlbG9jaXR5KTtcclxuICAgICAgICAgIHRoaXMuY2hlY2tJZkRvbmUoKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEVsc2UsIGNvbnNpZGVyIGNsb3Nlc3QgcG9pbnQgb24gc2Vjb25kIGhhbGYtcGxhbmVcclxuICAgICAgY29uc3QgaGFsZlBsYW5lMiA9IHRoaXMuZ2V0Q2xvc2VzdFBvaW50T25MaW5lKFxyXG4gICAgICAgIGNvbGxpc2lvbi52ZXJ0ZXgsXHJcbiAgICAgICAgY29sbGlzaW9uLnRhbmdlbnQyLFxyXG4gICAgICAgIHByZWZlcnJlZFZlbG9jaXR5XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoaGFsZnBsYW5lMS5tYWduaXR1ZGUoKSA8PSBzcGVlZCkge1xyXG4gICAgICAgIHNhZmUgPSB0cnVlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGkgIT0gYWdlbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgdmVsb2NpdHlPYnN0YWNsZSA9IHRoaXMuZ2V0VmVsb2NpdHlPYnN0YWNsZShuZWlnaGJvdXJzW2ldKTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgIHZlbG9jaXR5T2JzdGFjbGUgIT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgIHRoaXMuaXNJbnNpZGUoaGFsZlBsYW5lMiwgdmVsb2NpdHlPYnN0YWNsZSlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgc2FmZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2FmZSkge1xyXG4gICAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gaGFsZlBsYW5lMjtcclxuICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKGhhbGZQbGFuZTIpO1xyXG4gICAgICAgICAgdGhpcy5zZXRDb2xvdXIocHJlZmVycmVkVmVsb2NpdHkpO1xyXG4gICAgICAgICAgdGhpcy5jaGVja0lmRG9uZSgpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEVsc2UsIHNhbXBsZSByYW5kb20gdmVsb2NpdGllcyBhbmQgc2VsZWN0IHRoZSBvbmUgd2l0aCB0aGUgbGVhc3QgcGVuYWx0eVxyXG4gICAgY29uc3Qgc2FtcGxlcyA9IDEwMDsgLy8gbnVtYmVyIG9mIHZlbG9jaXRpZXMgdG8gdHJ5XHJcbiAgICBjb25zdCB3ID0gMTAwOyAvLyBwYXJhbWV0ZXIgZm9yIHBlbmFsdHlcclxuICAgIGNvbnN0IGdvYWxEaXN0ID0gTWF0aC5zcXJ0KGdvYWxEaXN0U3FyZCk7XHJcbiAgICBsZXQgbWluUGVuYWx0eSA9IEluZmluaXR5O1xyXG4gICAgbGV0IGJlc3RWZWxvY2l0eSA9IG5ldyBWZWN0b3IyZigwLCAwKTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNhbXBsZXM7IGkrKykge1xyXG4gICAgICAvLyBTYW1wbGUgdmVsb2NpdHkgZnJvbSBlbnRpcmUgYWxsb3dlZCB2ZWxvY2l0eSBzcGFjZVxyXG4gICAgICBjb25zdCBzYW1wbGUgPSBuZXcgVmVjdG9yMmYoMCwgMCkuc2FtcGxlKHNwZWVkKTtcclxuICAgICAgbGV0IG1pblRpbWVUb0NvbGxpc2lvbiA9IEluZmluaXR5O1xyXG5cclxuICAgICAgLy8gRmluZCB0aW1lIHRvIGZpcnN0IGNvbGxpc2lvblxyXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5laWdoYm91cnMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBjb25zdCBiID0gbmVpZ2hib3Vyc1tqXTtcclxuICAgICAgICBjb25zdCB2ZWxvY2l0eU9ic3RhY2xlID0gdGhpcy5nZXRWZWxvY2l0eU9ic3RhY2xlKGIpO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHZlbG9jaXR5T2JzdGFjbGUgPT0gbnVsbCB8fFxyXG4gICAgICAgICAgdGhpcy5pc0luc2lkZShzYW1wbGUsIHZlbG9jaXR5T2JzdGFjbGUpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBjb25zdCB0aW1lVG9Db2xsaXNpb24gPSB0aGlzLmdldEZpcnN0UmF5Q2lyY2xlSW50ZXJzZWN0aW9uKFxyXG4gICAgICAgICAgICBiLmdldFBvc2l0aW9uKCkuYWRkKGIuZ2V0RGlyZWN0aW9uKCkpLFxyXG4gICAgICAgICAgICB0aGlzLlJhZGl1cyArIGIuUmFkaXVzLFxyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbixcclxuICAgICAgICAgICAgc2FtcGxlLnN1YnRyYWN0KGIuZ2V0RGlyZWN0aW9uKCkpXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIGlmICh0aW1lVG9Db2xsaXNpb24gPCBtaW5UaW1lVG9Db2xsaXNpb24pIHtcclxuICAgICAgICAgICAgbWluVGltZVRvQ29sbGlzaW9uID0gdGltZVRvQ29sbGlzaW9uO1xyXG4gICAgICAgICAgICBpZiAobWluVGltZVRvQ29sbGlzaW9uID09IDApIHtcclxuICAgICAgICAgICAgICB0aGlzLnNldENvbG91cihwcmVmZXJyZWRWZWxvY2l0eSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5jaGVja0lmRG9uZSgpO1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2FsY3VsYXRlIHBlbmFsdHlcclxuICAgICAgbGV0IHBlbmFsdHk7XHJcbiAgICAgIGlmIChtaW5UaW1lVG9Db2xsaXNpb24gPCBnb2FsRGlzdCkge1xyXG4gICAgICAgIHBlbmFsdHkgPVxyXG4gICAgICAgICAgdyAvIG1pblRpbWVUb0NvbGxpc2lvbiArXHJcbiAgICAgICAgICBwcmVmZXJyZWRWZWxvY2l0eS5zdWJ0cmFjdChzYW1wbGUpLm1hZ25pdHVkZSgpOyAvLyBUUyBjb3JyZWN0bHkgaGFuZGxlcyBkaXZpZGUgYnkgemVybyBvciBpbmZpbml0eVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBlbmFsdHkgPSBwcmVmZXJyZWRWZWxvY2l0eS5zdWJ0cmFjdChzYW1wbGUpLm1hZ25pdHVkZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocGVuYWx0eSA8IG1pblBlbmFsdHkpIHtcclxuICAgICAgICBtaW5QZW5hbHR5ID0gcGVuYWx0eTtcclxuICAgICAgICBiZXN0VmVsb2NpdHkgPSBzYW1wbGU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9kaXJlY3Rpb24gPSBiZXN0VmVsb2NpdHk7XHJcbiAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChiZXN0VmVsb2NpdHkpO1xyXG4gICAgdGhpcy5zZXRDb2xvdXIocHJlZmVycmVkVmVsb2NpdHkpO1xyXG4gICAgdGhpcy5jaGVja0lmRG9uZSgpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgaXNEb25lKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzRG9uZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0UHJlZmVycmVkVmVsb2NpdHkobWF4U3BlZWQ6IG51bWJlcik6IFZlY3RvcjJmIHtcclxuICAgIGNvbnN0IGdvYWxEaXJlY3Rpb24gPSB0aGlzLl9nb2FsUG9zaXRpb24uc3VidHJhY3QodGhpcy5fcG9zaXRpb24pO1xyXG4gICAgY29uc3QgZ29hbERpc3RhbmNlID0gZ29hbERpcmVjdGlvbi5tYWduaXR1ZGUoKTtcclxuXHJcbiAgICBpZiAoZ29hbERpc3RhbmNlID4gbWF4U3BlZWQpIHtcclxuICAgICAgcmV0dXJuIGdvYWxEaXJlY3Rpb24uZGl2aWRlKGdvYWxEaXN0YW5jZSAvIG1heFNwZWVkKTtcclxuICAgIH1cclxuICAgIHJldHVybiBnb2FsRGlyZWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRWZWxvY2l0eU9ic3RhY2xlKGI6IElBZ2VudCk6IFZlbG9jaXR5T2JzdGFjbGUgfCBudWxsIHtcclxuICAgIGNvbnN0IHZlbG9jaXR5QiA9IGIuZ2V0RGlyZWN0aW9uKCk7XHJcblxyXG4gICAgLy8gVHJhbnNsYXRlIG9yaWdpbiB0byB0aGlzIGFnZW50J3MgcG9zaXRpb25cclxuICAgIGNvbnN0IHBvc2l0aW9uQiA9IGIuZ2V0UG9zaXRpb24oKS5zdWJ0cmFjdCh0aGlzLl9wb3NpdGlvbik7XHJcblxyXG4gICAgLy8gRmluZCBNaW5rb3dza2kgc3VtIG9mIGFnZW50c1xyXG4gICAgY29uc3QgY2VudHJlID0gcG9zaXRpb25CLmFkZCh2ZWxvY2l0eUIpO1xyXG4gICAgY29uc3QgcmFkaXVzID0gYi5SYWRpdXMgKyB0aGlzLlJhZGl1cztcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgYW5nbGVzXHJcbiAgICBjb25zdCBkaWZmID0gdmVsb2NpdHlCLnN1YnRyYWN0KGNlbnRyZSk7XHJcbiAgICBjb25zdCBkaXN0ID0gZGlmZi5tYWduaXR1ZGUoKTtcclxuICAgIGlmIChkaXN0IDwgcmFkaXVzKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRoZXRhID0gTWF0aC5hY29zKHJhZGl1cyAvIGRpc3QpO1xyXG4gICAgY29uc3QgcGhpID0gTWF0aC5hdGFuMihkaWZmLnksIGRpZmYueCk7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIHRhbmdlbnQgdmVjdG9yc1xyXG4gICAgY29uc3QgYW5nbGUxID0gcGhpICsgdGhldGE7XHJcbiAgICBjb25zdCB0YW5nZW50MSA9IG5ldyBWZWN0b3IyZihcclxuICAgICAgY2VudHJlLnggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZTEpLFxyXG4gICAgICBjZW50cmUueSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlMSlcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgYW5nbGUyID0gcGhpIC0gdGhldGE7XHJcbiAgICBjb25zdCB0YW5nZW50MiA9IG5ldyBWZWN0b3IyZihcclxuICAgICAgY2VudHJlLnggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZTIpLFxyXG4gICAgICBjZW50cmUueSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlMilcclxuICAgICk7XHJcblxyXG4gICAgLy8gUmV0dXJuIHZlbG9jaXR5IG9ic3RhY2xlXHJcbiAgICByZXR1cm4geyB2ZXJ0ZXg6IHZlbG9jaXR5QiwgdGFuZ2VudDE6IHRhbmdlbnQxLCB0YW5nZW50MjogdGFuZ2VudDIgfTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNJbnNpZGUoXHJcbiAgICB2ZWxvY2l0eTogVmVjdG9yMmYsXHJcbiAgICB2ZWxvY2l0eU9ic3RhY2xlOiBWZWxvY2l0eU9ic3RhY2xlXHJcbiAgKTogYm9vbGVhbiB7XHJcbiAgICAvLyBGaXJzdCBoYWxmLXBsYW5lXHJcbiAgICBjb25zdCBkZXRlcm1pbmFudDEgPVxyXG4gICAgICAodmVsb2NpdHlPYnN0YWNsZS50YW5nZW50MS54IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueCkgKlxyXG4gICAgICAgICh2ZWxvY2l0eS55IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueSkgLVxyXG4gICAgICAodmVsb2NpdHlPYnN0YWNsZS50YW5nZW50MS55IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueSkgKlxyXG4gICAgICAgICh2ZWxvY2l0eS54IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueCk7XHJcblxyXG4gICAgLy8gU2Vjb25kIGhhbGYtcGxhbmVcclxuICAgIGNvbnN0IGRldGVybWluYW50MiA9XHJcbiAgICAgICh2ZWxvY2l0eU9ic3RhY2xlLnRhbmdlbnQyLnggLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC54KSAqXHJcbiAgICAgICAgKHZlbG9jaXR5LnkgLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC55KSAtXHJcbiAgICAgICh2ZWxvY2l0eU9ic3RhY2xlLnRhbmdlbnQyLnkgLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC55KSAqXHJcbiAgICAgICAgKHZlbG9jaXR5LnggLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC54KTtcclxuXHJcbiAgICByZXR1cm4gZGV0ZXJtaW5hbnQxID4gMCAmJiBkZXRlcm1pbmFudDIgPCAwO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRDbG9zZXN0UG9pbnRPbkxpbmUoXHJcbiAgICBsaW5lUG9pbnQ6IFZlY3RvcjJmLFxyXG4gICAgbGluZURpcmVjdGlvbjogVmVjdG9yMmYsXHJcbiAgICBwb2ludDogVmVjdG9yMmZcclxuICApOiBWZWN0b3IyZiB7XHJcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBsaW5lRGlyZWN0aW9uLm5vcm1hbGlzZSgpO1xyXG4gICAgY29uc3QgdmVjdG9yID0gcG9pbnQuc3VidHJhY3QobGluZVBvaW50KTtcclxuICAgIGNvbnN0IGRpc3RhbmNlID0gdmVjdG9yLmRvdChkaXJlY3Rpb24pO1xyXG4gICAgcmV0dXJuIGxpbmVQb2ludC5hZGQoZGlyZWN0aW9uLm11bHRpcGx5KGRpc3RhbmNlKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldEZpcnN0UmF5Q2lyY2xlSW50ZXJzZWN0aW9uKFxyXG4gICAgY2VudHJlOiBWZWN0b3IyZixcclxuICAgIHJhZGl1czogbnVtYmVyLFxyXG4gICAgb3JpZ2luOiBWZWN0b3IyZixcclxuICAgIGRpcmVjdGlvbjogVmVjdG9yMmZcclxuICApOiBudW1iZXIge1xyXG4gICAgY29uc3QgZGVsdGEgPSBvcmlnaW4uc3VidHJhY3QoY2VudHJlKTtcclxuXHJcbiAgICBjb25zdCBhID0gZGlyZWN0aW9uLmRvdChkaXJlY3Rpb24pO1xyXG4gICAgY29uc3QgYiA9IDIgKiBkaXJlY3Rpb24uZG90KGRlbHRhKTtcclxuICAgIGNvbnN0IGMgPSBkZWx0YS5kb3QoZGVsdGEpIC0gcmFkaXVzICoqIDI7XHJcblxyXG4gICAgY29uc3QgZGlzY3JpbSA9IGIgKiogMiAtIDQgKiBhICogYztcclxuXHJcbiAgICBpZiAoZGlzY3JpbSA8IDApIHtcclxuICAgICAgLy8gTm8gaW50ZXJzZWN0aW9uXHJcbiAgICAgIHJldHVybiBJbmZpbml0eTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkaXN0YW5jZSA9ICgoLWIgLSBNYXRoLnNxcnQoZGlzY3JpbSkpIC8gMikgKiBhO1xyXG5cclxuICAgIGlmIChkaXN0YW5jZSA8IDApIHtcclxuICAgICAgLy8gSW50ZXJzZWN0aW9uIGJlaGluZFxyXG4gICAgICByZXR1cm4gSW5maW5pdHk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRpc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRDb2xvdXIocHJlZmVycmVkVmVsb2NpdHk6IFZlY3RvcjJmKSB7XHJcbiAgICBjb25zdCBzdHJlc3MgPSBwcmVmZXJyZWRWZWxvY2l0eS5zdWJ0cmFjdCh0aGlzLl9kaXJlY3Rpb24pLm1hZ25pdHVkZSgpO1xyXG4gICAgdGhpcy5fY29sb3VyID0gQ29sb3VyLkZyb21Ic3YoKDEgLSBzdHJlc3MpIC8gMywgMSwgMSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrSWZEb25lKCkge1xyXG4gICAgY29uc3QgZmluaXNoVGhyZXNob2xkID0gMS4wO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgdGhpcy5fcG9zaXRpb24uc3VidHJhY3QodGhpcy5fZ29hbFBvc2l0aW9uKS5tYWduaXR1ZGVTcXJkKCkgPFxyXG4gICAgICBmaW5pc2hUaHJlc2hvbGRcclxuICAgICkge1xyXG4gICAgICB0aGlzLl9pc0RvbmUgPSB0cnVlO1xyXG4gICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX2dvYWxQb3NpdGlvbjtcclxuICAgICAgdGhpcy5fZGlyZWN0aW9uID0gbmV3IFZlY3RvcjJmKDAsIDApO1xyXG4gICAgICB0aGlzLl9jb2xvdXIgPSBDb2xvdXIuV2hpdGU7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbG91ciB9IGZyb20gXCIuL0NvbG91clwiO1xyXG5pbXBvcnQgeyBJQWdlbnQgfSBmcm9tIFwiLi9JQWdlbnRcIjtcclxuaW1wb3J0IHsgVmVjdG9yMmYgfSBmcm9tIFwiLi9WZWN0b3IyZlwiO1xyXG5pbXBvcnQgeyBWZWxvY2l0eU9ic3RhY2xlIH0gZnJvbSBcIi4vVmVsb2NpdHlPYnN0YWNsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJWT0FnZW50IGltcGxlbWVudHMgSUFnZW50IHtcclxuICBSYWRpdXM6IG51bWJlcjtcclxuICBJZDogbnVtYmVyO1xyXG5cclxuICBNQVhfVkVMT0NJVFkgPSAxLjA7XHJcbiAgTUFYX0FDQ0VMRVJBVElPTiA9IDAuNTtcclxuXHJcbiAgcHJpdmF0ZSBfcG9zaXRpb246IFZlY3RvcjJmO1xyXG4gIHByaXZhdGUgX2dvYWxQb3NpdGlvbjogVmVjdG9yMmY7XHJcbiAgcHJpdmF0ZSBfZGlyZWN0aW9uOiBWZWN0b3IyZjtcclxuXHJcbiAgcHJpdmF0ZSBfaXNEb25lOiBib29sZWFuO1xyXG4gIHByaXZhdGUgX2NvbG91cjogQ29sb3VyO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICBzdGFydFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICByYWRpdXM6IG51bWJlclxyXG4gICkge1xyXG4gICAgdGhpcy5JZCA9IGlkO1xyXG4gICAgdGhpcy5fcG9zaXRpb24gPSBzdGFydFBvc2l0aW9uO1xyXG4gICAgdGhpcy5fZ29hbFBvc2l0aW9uID0gZ29hbFBvc2l0aW9uO1xyXG4gICAgdGhpcy5SYWRpdXMgPSByYWRpdXM7XHJcbiAgICB0aGlzLl9kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcblxyXG4gICAgdGhpcy5faXNEb25lID0gZmFsc2U7XHJcbiAgICB0aGlzLl9jb2xvdXIgPSBDb2xvdXIuR3JlZW47XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbigpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBnZXREaXJlY3Rpb24oKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RpcmVjdGlvbjtcclxuICB9XHJcblxyXG4gIGdldENvbG91cigpOiBDb2xvdXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NvbG91cjtcclxuICB9XHJcblxyXG4gIHVwZGF0ZShkZWx0YVQ6IG51bWJlciwgbmVpZ2hib3VyczogSUFnZW50W10pOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9pc0RvbmUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNwZWVkID0gMC41O1xyXG4gICAgY29uc3QgcHJlZmVycmVkVmVsb2NpdHkgPSB0aGlzLmdldFByZWZlcnJlZFZlbG9jaXR5KHNwZWVkKTtcclxuICAgIGNvbnN0IGdvYWxEaXN0U3FyZCA9IHRoaXMuX2dvYWxQb3NpdGlvblxyXG4gICAgICAuc3VidHJhY3QodGhpcy5nZXRQb3NpdGlvbigpKVxyXG4gICAgICAubWFnbml0dWRlU3FyZCgpO1xyXG5cclxuICAgIGxldCBzYWZlID0gdHJ1ZTtcclxuICAgIGxldCBjb2xsaXNpb247XHJcbiAgICBsZXQgYWdlbnQ7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgLy8gU2tpcCBhZ2VudHMgZnVydGhlciBhd2F5IHRoYW4gZ29hbFxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgbmVpZ2hib3Vyc1tpXVxyXG4gICAgICAgICAgLmdldFBvc2l0aW9uKClcclxuICAgICAgICAgIC5zdWJ0cmFjdCh0aGlzLmdldFBvc2l0aW9uKCkpXHJcbiAgICAgICAgICAubWFnbml0dWRlU3FyZCgpID4gZ29hbERpc3RTcXJkXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDaGVjayB3aGV0aGVyIHByZWZlcnJlZCB2ZWxvY2l0eSBpcyBzYWZlXHJcbiAgICAgIGNvbnN0IHZlbG9jaXR5T2JzdGFjbGUgPSB0aGlzLmdldFJlY2lwcm9jYWxWZWxvY2l0eU9ic3RhY2xlKFxyXG4gICAgICAgIG5laWdoYm91cnNbaV1cclxuICAgICAgKTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHZlbG9jaXR5T2JzdGFjbGUgIT0gbnVsbCAmJlxyXG4gICAgICAgIHRoaXMuaXNJbnNpZGUocHJlZmVycmVkVmVsb2NpdHksIHZlbG9jaXR5T2JzdGFjbGUpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHNhZmUgPSBmYWxzZTtcclxuICAgICAgICBjb2xsaXNpb24gPSB2ZWxvY2l0eU9ic3RhY2xlO1xyXG4gICAgICAgIGFnZW50ID0gaTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHByZWZlcnJlZCB2ZWxvY2l0eSBpcyBzYWZlLCBnbyBpbiB0aGF0IGRpcmVjdGlvblxyXG4gICAgaWYgKHNhZmUpIHtcclxuICAgICAgdGhpcy5fZGlyZWN0aW9uID0gcHJlZmVycmVkVmVsb2NpdHk7XHJcbiAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKHByZWZlcnJlZFZlbG9jaXR5KTtcclxuICAgICAgdGhpcy5fY29sb3VyID0gQ29sb3VyLkdyZWVuO1xyXG4gICAgICB0aGlzLmNoZWNrSWZEb25lKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY29sbGlzaW9uICE9IG51bGwpIHtcclxuICAgICAgLy8gRWxzZSwgY29uc2lkZXIgY2xvc2VzdCBwb2ludCBvbiBmaXJzdCBoYWxmLXBsYW5lXHJcbiAgICAgIGNvbnN0IGhhbGZwbGFuZTEgPSB0aGlzLmdldENsb3Nlc3RQb2ludE9uTGluZShcclxuICAgICAgICBjb2xsaXNpb24udmVydGV4LFxyXG4gICAgICAgIGNvbGxpc2lvbi50YW5nZW50MSxcclxuICAgICAgICBwcmVmZXJyZWRWZWxvY2l0eVxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKGhhbGZwbGFuZTEubWFnbml0dWRlKCkgPD0gc3BlZWQpIHtcclxuICAgICAgICBzYWZlID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChpICE9IGFnZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZlbG9jaXR5T2JzdGFjbGUgPSB0aGlzLmdldFJlY2lwcm9jYWxWZWxvY2l0eU9ic3RhY2xlKFxyXG4gICAgICAgICAgICAgIG5laWdoYm91cnNbaV1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgIHZlbG9jaXR5T2JzdGFjbGUgIT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgIHRoaXMuaXNJbnNpZGUoaGFsZnBsYW5lMSwgdmVsb2NpdHlPYnN0YWNsZSlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgc2FmZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2FmZSkge1xyXG4gICAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gaGFsZnBsYW5lMTtcclxuICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKGhhbGZwbGFuZTEpO1xyXG4gICAgICAgICAgdGhpcy5zZXRDb2xvdXIocHJlZmVycmVkVmVsb2NpdHkpO1xyXG4gICAgICAgICAgdGhpcy5jaGVja0lmRG9uZSgpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRWxzZSwgY29uc2lkZXIgY2xvc2VzdCBwb2ludCBvbiBzZWNvbmQgaGFsZi1wbGFuZVxyXG4gICAgICBjb25zdCBoYWxmUGxhbmUyID0gdGhpcy5nZXRDbG9zZXN0UG9pbnRPbkxpbmUoXHJcbiAgICAgICAgY29sbGlzaW9uLnZlcnRleCxcclxuICAgICAgICBjb2xsaXNpb24udGFuZ2VudDIsXHJcbiAgICAgICAgcHJlZmVycmVkVmVsb2NpdHlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChoYWxmcGxhbmUxLm1hZ25pdHVkZSgpIDw9IHNwZWVkKSB7XHJcbiAgICAgICAgc2FmZSA9IHRydWU7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoaSAhPSBhZ2VudCkge1xyXG4gICAgICAgICAgICBjb25zdCB2ZWxvY2l0eU9ic3RhY2xlID0gdGhpcy5nZXRSZWNpcHJvY2FsVmVsb2NpdHlPYnN0YWNsZShcclxuICAgICAgICAgICAgICBuZWlnaGJvdXJzW2ldXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICB2ZWxvY2l0eU9ic3RhY2xlICE9IG51bGwgJiZcclxuICAgICAgICAgICAgICB0aGlzLmlzSW5zaWRlKGhhbGZQbGFuZTIsIHZlbG9jaXR5T2JzdGFjbGUpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIHNhZmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNhZmUpIHtcclxuICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGhhbGZQbGFuZTI7XHJcbiAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChoYWxmUGxhbmUyKTtcclxuICAgICAgICAgIHRoaXMuc2V0Q29sb3VyKHByZWZlcnJlZFZlbG9jaXR5KTtcclxuICAgICAgICAgIHRoaXMuY2hlY2tJZkRvbmUoKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBFbHNlLCBzYW1wbGUgcmFuZG9tIHZlbG9jaXRpZXMgYW5kIHNlbGVjdCB0aGUgb25lIHdpdGggdGhlIGxlYXN0IHBlbmFsdHlcclxuICAgIGNvbnN0IHNhbXBsZXMgPSAxMDA7IC8vIG51bWJlciBvZiB2ZWxvY2l0aWVzIHRvIHRyeVxyXG4gICAgY29uc3QgdyA9IDEwMDsgLy8gcGFyYW1ldGVyIGZvciBwZW5hbHR5XHJcbiAgICBjb25zdCBnb2FsRGlzdCA9IE1hdGguc3FydChnb2FsRGlzdFNxcmQpO1xyXG4gICAgbGV0IG1pblBlbmFsdHkgPSBJbmZpbml0eTtcclxuICAgIGxldCBiZXN0VmVsb2NpdHkgPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzYW1wbGVzOyBpKyspIHtcclxuICAgICAgLy8gU2FtcGxlIHZlbG9jaXR5IGZyb20gZW50aXJlIGFsbG93ZWQgdmVsb2NpdHkgc3BhY2VcclxuICAgICAgY29uc3Qgc2FtcGxlID0gbmV3IFZlY3RvcjJmKDAsIDApLnNhbXBsZShzcGVlZCk7XHJcbiAgICAgIGxldCBtaW5UaW1lVG9Db2xsaXNpb24gPSBJbmZpbml0eTtcclxuXHJcbiAgICAgIC8vIEZpbmQgdGltZSB0byBmaXJzdCBjb2xsaXNpb25cclxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuZWlnaGJvdXJzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgY29uc3QgYiA9IG5laWdoYm91cnNbal07XHJcbiAgICAgICAgY29uc3QgdmVsb2NpdHlPYnN0YWNsZSA9IHRoaXMuZ2V0UmVjaXByb2NhbFZlbG9jaXR5T2JzdGFjbGUoYik7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgdmVsb2NpdHlPYnN0YWNsZSAhPSBudWxsICYmXHJcbiAgICAgICAgICB0aGlzLmlzSW5zaWRlKHNhbXBsZSwgdmVsb2NpdHlPYnN0YWNsZSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGNvbnN0IHRpbWVUb0NvbGxpc2lvbiA9IHRoaXMuZ2V0Rmlyc3RSYXlDaXJjbGVJbnRlcnNlY3Rpb24oXHJcbiAgICAgICAgICAgIGIuZ2V0UG9zaXRpb24oKS5hZGQoYi5nZXREaXJlY3Rpb24oKSksXHJcbiAgICAgICAgICAgIHRoaXMuUmFkaXVzICsgYi5SYWRpdXMsXHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uLFxyXG4gICAgICAgICAgICBzYW1wbGVcclxuICAgICAgICAgICAgICAubXVsdGlwbHkoMilcclxuICAgICAgICAgICAgICAuc3VidHJhY3QodGhpcy5nZXREaXJlY3Rpb24oKSlcclxuICAgICAgICAgICAgICAuc3VidHJhY3QoYi5nZXREaXJlY3Rpb24oKSlcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgaWYgKHRpbWVUb0NvbGxpc2lvbiA8IG1pblRpbWVUb0NvbGxpc2lvbikge1xyXG4gICAgICAgICAgICBtaW5UaW1lVG9Db2xsaXNpb24gPSB0aW1lVG9Db2xsaXNpb247XHJcbiAgICAgICAgICAgIGlmIChtaW5UaW1lVG9Db2xsaXNpb24gPT0gMCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuc2V0Q29sb3VyKHByZWZlcnJlZFZlbG9jaXR5KTtcclxuICAgICAgICAgICAgICB0aGlzLmNoZWNrSWZEb25lKCk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDYWxjdWxhdGUgcGVuYWx0eVxyXG4gICAgICBsZXQgcGVuYWx0eTtcclxuICAgICAgaWYgKG1pblRpbWVUb0NvbGxpc2lvbiA8IGdvYWxEaXN0KSB7XHJcbiAgICAgICAgcGVuYWx0eSA9XHJcbiAgICAgICAgICB3IC8gbWluVGltZVRvQ29sbGlzaW9uICtcclxuICAgICAgICAgIHByZWZlcnJlZFZlbG9jaXR5LnN1YnRyYWN0KHNhbXBsZSkubWFnbml0dWRlKCk7IC8vIFRTIGNvcnJlY3RseSBoYW5kbGVzIGRpdmlkZSBieSB6ZXJvIG9yIGluZmluaXR5XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGVuYWx0eSA9IHByZWZlcnJlZFZlbG9jaXR5LnN1YnRyYWN0KHNhbXBsZSkubWFnbml0dWRlKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwZW5hbHR5IDwgbWluUGVuYWx0eSkge1xyXG4gICAgICAgIG1pblBlbmFsdHkgPSBwZW5hbHR5O1xyXG4gICAgICAgIGJlc3RWZWxvY2l0eSA9IHNhbXBsZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2RpcmVjdGlvbiA9IGJlc3RWZWxvY2l0eTtcclxuICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKGJlc3RWZWxvY2l0eSk7XHJcbiAgICB0aGlzLnNldENvbG91cihwcmVmZXJyZWRWZWxvY2l0eSk7XHJcbiAgICB0aGlzLmNoZWNrSWZEb25lKCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBpc0RvbmUoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNEb25lO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRQcmVmZXJyZWRWZWxvY2l0eShtYXhTcGVlZDogbnVtYmVyKTogVmVjdG9yMmYge1xyXG4gICAgY29uc3QgZ29hbERpcmVjdGlvbiA9IHRoaXMuX2dvYWxQb3NpdGlvbi5zdWJ0cmFjdCh0aGlzLl9wb3NpdGlvbik7XHJcbiAgICBjb25zdCBnb2FsRGlzdGFuY2UgPSBnb2FsRGlyZWN0aW9uLm1hZ25pdHVkZSgpO1xyXG5cclxuICAgIGlmIChnb2FsRGlzdGFuY2UgPiBtYXhTcGVlZCkge1xyXG4gICAgICByZXR1cm4gZ29hbERpcmVjdGlvbi5kaXZpZGUoZ29hbERpc3RhbmNlIC8gbWF4U3BlZWQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdvYWxEaXJlY3Rpb247XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFJlY2lwcm9jYWxWZWxvY2l0eU9ic3RhY2xlKGI6IElBZ2VudCk6IFZlbG9jaXR5T2JzdGFjbGUgfCBudWxsIHtcclxuICAgIGNvbnN0IHZlbG9jaXR5QSA9IHRoaXMuZ2V0RGlyZWN0aW9uKCk7XHJcbiAgICBjb25zdCB2ZWxvY2l0eUIgPSBiLmdldERpcmVjdGlvbigpO1xyXG4gICAgY29uc3QgdmVydGV4ID0gdmVsb2NpdHlBLmFkZCh2ZWxvY2l0eUIpLmRpdmlkZSgyKTtcclxuXHJcbiAgICAvLyBUcmFuc2xhdGUgb3JpZ2luIHRvIHRoaXMgYWdlbnQncyBwb3NpdGlvblxyXG4gICAgY29uc3QgcG9zaXRpb25CID0gYi5nZXRQb3NpdGlvbigpLnN1YnRyYWN0KHRoaXMuX3Bvc2l0aW9uKTtcclxuXHJcbiAgICAvLyBGaW5kIE1pbmtvd3NraSBzdW0gb2YgYWdlbnRzXHJcbiAgICBjb25zdCBjZW50cmUgPSBwb3NpdGlvbkIuYWRkKHZlbG9jaXR5Qik7XHJcbiAgICBjb25zdCByYWRpdXMgPSBiLlJhZGl1cyArIHRoaXMuUmFkaXVzO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSBhbmdsZXNcclxuICAgIGNvbnN0IGRpZmYgPSB2ZWxvY2l0eUIuc3VidHJhY3QoY2VudHJlKTtcclxuICAgIGNvbnN0IGRpc3QgPSBkaWZmLm1hZ25pdHVkZSgpO1xyXG4gICAgaWYgKGRpc3QgPCByYWRpdXMpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGhldGEgPSBNYXRoLmFjb3MocmFkaXVzIC8gZGlzdCk7XHJcbiAgICBjb25zdCBwaGkgPSBNYXRoLmF0YW4yKGRpZmYueSwgZGlmZi54KTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgdGFuZ2VudCB2ZWN0b3JzXHJcbiAgICBjb25zdCBhbmdsZTEgPSBwaGkgKyB0aGV0YTtcclxuICAgIGNvbnN0IHRhbmdlbnQxID0gbmV3IFZlY3RvcjJmKFxyXG4gICAgICBjZW50cmUueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlMSksXHJcbiAgICAgIGNlbnRyZS55ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUxKVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBhbmdsZTIgPSBwaGkgLSB0aGV0YTtcclxuICAgIGNvbnN0IHRhbmdlbnQyID0gbmV3IFZlY3RvcjJmKFxyXG4gICAgICBjZW50cmUueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlMiksXHJcbiAgICAgIGNlbnRyZS55ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUyKVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBSZXR1cm4gdmVsb2NpdHkgb2JzdGFjbGVcclxuICAgIHJldHVybiB7IHZlcnRleDogdmVydGV4LCB0YW5nZW50MTogdGFuZ2VudDEsIHRhbmdlbnQyOiB0YW5nZW50MiB9O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpc0luc2lkZShcclxuICAgIHZlbG9jaXR5OiBWZWN0b3IyZixcclxuICAgIHZlbG9jaXR5T2JzdGFjbGU6IFZlbG9jaXR5T2JzdGFjbGVcclxuICApOiBib29sZWFuIHtcclxuICAgIC8vIEZpcnN0IGhhbGYtcGxhbmVcclxuICAgIGNvbnN0IGRldGVybWluYW50MSA9XHJcbiAgICAgICh2ZWxvY2l0eU9ic3RhY2xlLnRhbmdlbnQxLnggLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC54KSAqXHJcbiAgICAgICAgKHZlbG9jaXR5LnkgLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC55KSAtXHJcbiAgICAgICh2ZWxvY2l0eU9ic3RhY2xlLnRhbmdlbnQxLnkgLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC55KSAqXHJcbiAgICAgICAgKHZlbG9jaXR5LnggLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC54KTtcclxuXHJcbiAgICAvLyBTZWNvbmQgaGFsZi1wbGFuZVxyXG4gICAgY29uc3QgZGV0ZXJtaW5hbnQyID1cclxuICAgICAgKHZlbG9jaXR5T2JzdGFjbGUudGFuZ2VudDIueCAtIHZlbG9jaXR5T2JzdGFjbGUudmVydGV4LngpICpcclxuICAgICAgICAodmVsb2NpdHkueSAtIHZlbG9jaXR5T2JzdGFjbGUudmVydGV4LnkpIC1cclxuICAgICAgKHZlbG9jaXR5T2JzdGFjbGUudGFuZ2VudDIueSAtIHZlbG9jaXR5T2JzdGFjbGUudmVydGV4LnkpICpcclxuICAgICAgICAodmVsb2NpdHkueCAtIHZlbG9jaXR5T2JzdGFjbGUudmVydGV4LngpO1xyXG5cclxuICAgIHJldHVybiBkZXRlcm1pbmFudDEgPiAwICYmIGRldGVybWluYW50MiA8IDA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldENsb3Nlc3RQb2ludE9uTGluZShcclxuICAgIGxpbmVQb2ludDogVmVjdG9yMmYsXHJcbiAgICBsaW5lRGlyZWN0aW9uOiBWZWN0b3IyZixcclxuICAgIHBvaW50OiBWZWN0b3IyZlxyXG4gICk6IFZlY3RvcjJmIHtcclxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGxpbmVEaXJlY3Rpb24ubm9ybWFsaXNlKCk7XHJcbiAgICBjb25zdCB2ZWN0b3IgPSBwb2ludC5zdWJ0cmFjdChsaW5lUG9pbnQpO1xyXG4gICAgY29uc3QgZGlzdGFuY2UgPSB2ZWN0b3IuZG90KGRpcmVjdGlvbik7XHJcbiAgICByZXR1cm4gbGluZVBvaW50LmFkZChkaXJlY3Rpb24ubXVsdGlwbHkoZGlzdGFuY2UpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0Rmlyc3RSYXlDaXJjbGVJbnRlcnNlY3Rpb24oXHJcbiAgICBjZW50cmU6IFZlY3RvcjJmLFxyXG4gICAgcmFkaXVzOiBudW1iZXIsXHJcbiAgICBvcmlnaW46IFZlY3RvcjJmLFxyXG4gICAgZGlyZWN0aW9uOiBWZWN0b3IyZlxyXG4gICk6IG51bWJlciB7XHJcbiAgICBjb25zdCBkZWx0YSA9IG9yaWdpbi5zdWJ0cmFjdChjZW50cmUpO1xyXG5cclxuICAgIGNvbnN0IGEgPSBkaXJlY3Rpb24uZG90KGRpcmVjdGlvbik7XHJcbiAgICBjb25zdCBiID0gMiAqIGRpcmVjdGlvbi5kb3QoZGVsdGEpO1xyXG4gICAgY29uc3QgYyA9IGRlbHRhLmRvdChkZWx0YSkgLSByYWRpdXMgKiogMjtcclxuXHJcbiAgICBjb25zdCBkaXNjcmltID0gYiAqKiAyIC0gNCAqIGEgKiBjO1xyXG5cclxuICAgIGlmIChkaXNjcmltIDwgMCkge1xyXG4gICAgICAvLyBObyBpbnRlcnNlY3Rpb25cclxuICAgICAgcmV0dXJuIEluZmluaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRpc3RhbmNlID0gKCgtYiAtIE1hdGguc3FydChkaXNjcmltKSkgLyAyKSAqIGE7XHJcblxyXG4gICAgaWYgKGRpc3RhbmNlIDwgMCkge1xyXG4gICAgICAvLyBJbnRlcnNlY3Rpb24gYmVoaW5kXHJcbiAgICAgIHJldHVybiBJbmZpbml0eTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGlzdGFuY2U7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldENvbG91cihwcmVmZXJyZWRWZWxvY2l0eTogVmVjdG9yMmYpIHtcclxuICAgIGNvbnN0IHN0cmVzcyA9IHByZWZlcnJlZFZlbG9jaXR5LnN1YnRyYWN0KHRoaXMuX2RpcmVjdGlvbikubWFnbml0dWRlKCk7XHJcbiAgICB0aGlzLl9jb2xvdXIgPSBDb2xvdXIuRnJvbUhzdigoMSAtIHN0cmVzcykgLyAzLCAxLCAxKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tJZkRvbmUoKSB7XHJcbiAgICBjb25zdCBmaW5pc2hUaHJlc2hvbGQgPSAxLjA7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLl9wb3NpdGlvbi5zdWJ0cmFjdCh0aGlzLl9nb2FsUG9zaXRpb24pLm1hZ25pdHVkZVNxcmQoKSA8XHJcbiAgICAgIGZpbmlzaFRocmVzaG9sZFxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuX2lzRG9uZSA9IHRydWU7XHJcbiAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fZ29hbFBvc2l0aW9uO1xyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcbiAgICAgIHRoaXMuX2NvbG91ciA9IENvbG91ci5XaGl0ZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU2ltdWxhdGlvbiB9IGZyb20gXCIuL1NpbXVsYXRpb25cIjtcclxuaW1wb3J0IHsgUmVuZGVyZXIyRCB9IGZyb20gXCIuL1JlbmRlcmVyMkRcIjtcclxuaW1wb3J0IHsgQmFzaWNBZ2VudCB9IGZyb20gXCIuL0Jhc2ljQWdlbnRcIjtcclxuaW1wb3J0IHsgU3RvcEFnZW50IH0gZnJvbSBcIi4vU3RvcEFnZW50XCI7XHJcbmltcG9ydCB7IENvbmZpZ3VyYXRpb25zIH0gZnJvbSBcIi4vQ29uZmlndXJhdGlvbnNcIjtcclxuaW1wb3J0IHsgQWdlbnRUcmVlIH0gZnJvbSBcIi4vQWdlbnRUcmVlXCI7XHJcbmltcG9ydCB7IFZlY3RvcjJmIH0gZnJvbSBcIi4vVmVjdG9yMmZcIjtcclxuaW1wb3J0IHsgVk9BZ2VudCB9IGZyb20gXCIuL1ZPQWdlbnRcIjtcclxuaW1wb3J0IHsgUlZPQWdlbnQgfSBmcm9tIFwiLi9SVk9BZ2VudFwiO1xyXG5cclxuY29uc3QgY29uZmlnU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25maWdcIikgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbmNvbnN0IGFnZW50VHlwZVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gIFwiYWdlbnRUeXBlXCJcclxuKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuY29uc3QgbnVtYmVyT2ZBZ2VudHNJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gIFwibnVtYmVyT2ZBZ2VudHNcIlxyXG4pIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG5jb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuY29uc3QgZnJhbWVyYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmcmFtZXJhdGVcIikgYXMgSFRNTFBhcmFncmFwaEVsZW1lbnQ7XHJcbmNvbnN0IHBsYXlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXlCdXR0b25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbmNvbnN0IHN0ZXBCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0ZXBCdXR0b25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblxyXG5jb25zdCByZW5kZXJlciA9IG5ldyBSZW5kZXJlcjJEKGNhbnZhcyk7XHJcbmNvbnN0IHNpbXVsYXRpb24gPSBuZXcgU2ltdWxhdGlvbihyZW5kZXJlciwgbmV3IEFnZW50VHJlZSgpKTtcclxudmFyIHBsYXkgPSBmYWxzZTtcclxuXHJcbi8vIGluaXRpYWxpc2Ugc2ltdWxhdGlvbiBhbmQgYmVnaW4gdXBkYXRlL3JlbmRlciBsb29wXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gIHRoaXMucmVjb25maWd1cmUoKTtcclxuXHJcbiAgbGV0IGxhc3RSZW5kZXIgPSAwO1xyXG4gIGxldCBsYXN0RlBTID0gMDtcclxuICBsZXQgZnJhbWVzID0gMDtcclxuXHJcbiAgZnVuY3Rpb24gbG9vcCh0aW1lc3RhbXA6IG51bWJlcikge1xyXG4gICAgbGV0IGRlbHRhVCA9IHRpbWVzdGFtcCAtIGxhc3RSZW5kZXI7XHJcbiAgICBsYXN0UmVuZGVyID0gdGltZXN0YW1wO1xyXG5cclxuICAgIC8vIHVwZGF0ZVxyXG4gICAgaWYgKHBsYXkpIHtcclxuICAgICAgc2ltdWxhdGlvbi51cGRhdGUoZGVsdGFUKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZW5kZXJcclxuICAgIHNpbXVsYXRpb24uZHJhdygpO1xyXG4gICAgZnJhbWVzKys7XHJcblxyXG4gICAgLy8gcmVjYWxjdWxhdGUgZnJhbWVyYXRlIGV2ZXJ5IDI1MG1zXHJcbiAgICBpZiAodGltZXN0YW1wIC0gbGFzdEZQUyA+PSAyNTApIHtcclxuICAgICAgZnJhbWVyYXRlLnRleHRDb250ZW50ID0gYEZQUzogJHsoXHJcbiAgICAgICAgKDEwMDAgKiBmcmFtZXMpIC9cclxuICAgICAgICAodGltZXN0YW1wIC0gbGFzdEZQUylcclxuICAgICAgKS50b0ZpeGVkKDEpfWA7XHJcblxyXG4gICAgICBmcmFtZXMgPSAwO1xyXG4gICAgICBsYXN0RlBTID0gdGltZXN0YW1wO1xyXG4gICAgfVxyXG5cclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbiAgfVxyXG5cclxuICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG59XHJcblxyXG4vLyB0b2dnbGUgcGxheS9wYXVzZVxyXG5leHBvcnQgZnVuY3Rpb24gcGxheVBhdXNlKCkge1xyXG4gIHBsYXkgPSAhcGxheTtcclxuXHJcbiAgaWYgKHBsYXkpIHtcclxuICAgIHBsYXlCdXR0b24udGV4dENvbnRlbnQgPSBcIlBhdXNlXCI7XHJcbiAgICBzdGVwQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcGxheUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiUGxheVwiO1xyXG4gICAgc3RlcEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLy8gc3RlcCBzaW11bGF0aW9uIGJ5IDEgZnJhbWVcclxuZXhwb3J0IGZ1bmN0aW9uIHN0ZXAoKSB7XHJcbiAgc2ltdWxhdGlvbi51cGRhdGUoMTAwMCAvIDYwKTsgLy8gQXNzdW1lcyA2MEZQU1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVjb25maWd1cmUoKSB7XHJcbiAgaWYgKHBsYXkpIHtcclxuICAgIHRoaXMucGxheVBhdXNlKCk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBjb25maWcgPSBjb25maWdTZWxlY3QudmFsdWU7XHJcbiAgY29uc3QgYWdlbnRUeXBlID0gYWdlbnRUeXBlU2VsZWN0LnZhbHVlOyAvLyBUT0RPOiB3aXJlIHRoaXMgaW5cclxuICBjb25zdCBuID0gcGFyc2VJbnQobnVtYmVyT2ZBZ2VudHNJbnB1dC52YWx1ZSkgPz8gMDtcclxuXHJcbiAgLy8gU2VsZWN0IGFnZW50IGNvbnN0cnVjdG9yXHJcbiAgbGV0IGFnZW50Q29uc3RydWN0b3I7XHJcbiAgc3dpdGNoIChhZ2VudFR5cGUpIHtcclxuICAgIGNhc2UgXCJCYXNpY0FnZW50XCI6XHJcbiAgICAgIGFnZW50Q29uc3RydWN0b3IgPSAoXHJcbiAgICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgICAgZ29hbFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgICByYWRpdXM6IG51bWJlclxyXG4gICAgICApID0+IG5ldyBCYXNpY0FnZW50KGlkLCBwb3NpdGlvbiwgZ29hbFBvc2l0aW9uLCByYWRpdXMpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgXCJTdG9wQWdlbnRcIjpcclxuICAgICAgYWdlbnRDb25zdHJ1Y3RvciA9IChcclxuICAgICAgICBpZDogbnVtYmVyLFxyXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICAgIHJhZGl1czogbnVtYmVyXHJcbiAgICAgICkgPT4gbmV3IFN0b3BBZ2VudChpZCwgcG9zaXRpb24sIGdvYWxQb3NpdGlvbiwgcmFkaXVzKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFwiVk9BZ2VudFwiOlxyXG4gICAgICBhZ2VudENvbnN0cnVjdG9yID0gKFxyXG4gICAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgICAgcmFkaXVzOiBudW1iZXJcclxuICAgICAgKSA9PiBuZXcgVk9BZ2VudChpZCwgcG9zaXRpb24sIGdvYWxQb3NpdGlvbiwgcmFkaXVzKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFwiUlZPQWdlbnRcIjpcclxuICAgICAgYWdlbnRDb25zdHJ1Y3RvciA9IChcclxuICAgICAgICBpZDogbnVtYmVyLFxyXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICAgIHJhZGl1czogbnVtYmVyXHJcbiAgICAgICkgPT4gbmV3IFJWT0FnZW50KGlkLCBwb3NpdGlvbiwgZ29hbFBvc2l0aW9uLCByYWRpdXMpO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6IHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWdlbnQgbm90IGltcGxlbWVudGVkXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gU2VsZWN0IGNvbmZpZ3VyYXRpb25cclxuICBzd2l0Y2ggKGNvbmZpZykge1xyXG4gICAgY2FzZSBcIlJhbmRvbVRvUmFuZG9tXCI6IHtcclxuICAgICAgc2ltdWxhdGlvbi5pbml0KFxyXG4gICAgICAgIENvbmZpZ3VyYXRpb25zLlJhbmRvbVRvUmFuZG9tKFxyXG4gICAgICAgICAgbixcclxuICAgICAgICAgIGNhbnZhcy53aWR0aCxcclxuICAgICAgICAgIGNhbnZhcy5oZWlnaHQsXHJcbiAgICAgICAgICBhZ2VudENvbnN0cnVjdG9yXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGNhc2UgXCJSYW5kb21Ub0xpbmVcIjoge1xyXG4gICAgICBzaW11bGF0aW9uLmluaXQoXHJcbiAgICAgICAgQ29uZmlndXJhdGlvbnMuUmFuZG9tVG9MaW5lKFxyXG4gICAgICAgICAgbixcclxuICAgICAgICAgIGNhbnZhcy53aWR0aCxcclxuICAgICAgICAgIGNhbnZhcy5oZWlnaHQsXHJcbiAgICAgICAgICBhZ2VudENvbnN0cnVjdG9yXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGNhc2UgXCJDaXJjbGVUb0NpcmNsZVwiOiB7XHJcbiAgICAgIHNpbXVsYXRpb24uaW5pdChcclxuICAgICAgICBDb25maWd1cmF0aW9ucy5DaXJjbGVUb0NpcmNsZShcclxuICAgICAgICAgIG4sXHJcbiAgICAgICAgICBjYW52YXMud2lkdGgsXHJcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0LFxyXG4gICAgICAgICAgYWdlbnRDb25zdHJ1Y3RvclxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBjYXNlIFwiR3JpZFRvR3JpZFwiOiB7XHJcbiAgICAgIHNpbXVsYXRpb24uaW5pdChcclxuICAgICAgICBDb25maWd1cmF0aW9ucy5HcmlkVG9HcmlkKFxyXG4gICAgICAgICAgbixcclxuICAgICAgICAgIGNhbnZhcy53aWR0aCxcclxuICAgICAgICAgIGNhbnZhcy5oZWlnaHQsXHJcbiAgICAgICAgICBhZ2VudENvbnN0cnVjdG9yXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGRlZmF1bHQ6IHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29uZmlndXJhdGlvbiBub3QgaW1wbGVtZW50ZWRcIik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gbW9kdWxlIGV4cG9ydHMgbXVzdCBiZSByZXR1cm5lZCBmcm9tIHJ1bnRpbWUgc28gZW50cnkgaW5saW5pbmcgaXMgZGlzYWJsZWRcbi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xucmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oODYxKTtcbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==