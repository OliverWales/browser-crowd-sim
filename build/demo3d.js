var CrowdSimulator;CrowdSimulator=(()=>{"use strict";var t={237:(t,i,e)=>{e.r(i),e.d(i,{init:()=>I,playPause:()=>w,reconfigure:()=>S,step:()=>R});var n=function(){function t(t,i){this._renderer=t,this._agents=i}return t.prototype.init=function(t){this._agents.init(t.agents)},t.prototype.update=function(t){var i=this;this._agents.forEach((function(e){e.update(t,i._agents.getNeighboursInRangeEuclidean(e,300))})),this._agents.init(this._agents.getAll())},t.prototype.draw=function(){this._renderer.clear(),this._renderer.drawAgents(this._agents)},t}(),o=["precision mediump float;","attribute vec2 position;","attribute float radius;","uniform float width;","uniform float height;","void main()","{","  gl_Position = vec4(2.0 * position.x / width - 1.0,","                     2.0 * position.y / height - 1.0,","                     0.0, 1.0);","  gl_PointSize = 2.0 * radius;","}"].join("\n"),r=["precision mediump float;","void main()","{","  float dist = distance( gl_PointCoord, vec2(0.5) );","  if (dist > 0.5) discard;","  gl_FragColor = vec4(1, 0, 0, 1);","}"].join("\n"),s=function(){function t(t){if(this.gl=t.getContext("webgl"),this.gl){var i=this.gl.createShader(this.gl.VERTEX_SHADER),e=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(i,o),this.gl.shaderSource(e,r),this.gl.compileShader(i),this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?(this.gl.compileShader(e),this.gl.getShaderParameter(e,this.gl.COMPILE_STATUS)?(this.program=this.gl.createProgram(),this.gl.attachShader(this.program,i),this.gl.attachShader(this.program,e),this.gl.linkProgram(this.program),this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS)?(this.gl.validateProgram(this.program),this.gl.getProgramParameter(this.program,this.gl.VALIDATE_STATUS)?(this.positionAttribute=this.gl.getAttribLocation(this.program,"position"),this.radiusAttribute=this.gl.getAttribLocation(this.program,"radius"),this.widthUniform=this.gl.getUniformLocation(this.program,"width"),this.heightUniform=this.gl.getUniformLocation(this.program,"height"),this.VBO=this.gl.createBuffer()):console.error("ERROR validating program",this.gl.getProgramInfoLog(this.program))):console.error("ERROR linking program",this.gl.getProgramInfoLog(this.program))):console.error("ERROR compiling fragment shader",this.gl.getShaderInfoLog(e))):console.error("ERROR compiling vertex shader",this.gl.getShaderInfoLog(i))}else console.error("WebGL not supported")}return t.prototype.clear=function(){this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)},t.prototype.drawAgents=function(t){var i=[];t.forEach((function(t){var e=t.getPosition();i.push(e.x),i.push(e.y),i.push(t.Radius)})),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.VBO),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(i),this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.positionAttribute,2,this.gl.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,0),this.gl.enableVertexAttribArray(this.positionAttribute),this.gl.vertexAttribPointer(this.radiusAttribute,1,this.gl.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,2*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(this.radiusAttribute),this.gl.useProgram(this.program),this.gl.uniform1f(this.widthUniform,this.gl.canvas.width),this.gl.uniform1f(this.heightUniform,this.gl.canvas.height),this.gl.drawArrays(this.gl.POINTS,0,i.length/3)},t}(),a=function(){function t(t,i){this.x=t,this.y=i}return t.prototype.copy=function(i){return new t(i.x,i.y)},t.prototype.add=function(i){return new t(this.x+i.x,this.y+i.y)},t.prototype.subtract=function(i){return new t(this.x-i.x,this.y-i.y)},t.prototype.multiply=function(i){return new t(this.x*i,this.y*i)},t.prototype.divide=function(i){return new t(this.x/i,this.y/i)},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.magnitudeSqrd=function(){return Math.pow(this.x,2)+Math.pow(this.y,2)},t.prototype.magnitude=function(){return Math.sqrt(this.magnitudeSqrd())},t.prototype.normalise=function(){var i=this.magnitude();return 0==i?new t(0,0):this.divide(i)},t.prototype.sample=function(i){var e=Math.sqrt(Math.random())*i,n=2*Math.PI*Math.random();return new t(this.x+e*Math.cos(n),this.y+e*Math.sin(n))},t}(),h=function(){function t(t,i,e,n){this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new a(0,0),this._isDone=!1}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getIsDone=function(){return this._isDone},t.prototype.getIsStuck=function(){return!1},t.prototype.update=function(t,i){if(!this._isDone){var e=this._goalPosition.subtract(this._position);e.magnitude()>60*t/1e3?(this._direction=e.normalise(),this._position=this._position.add(this._direction.multiply(60*t/1e3))):(this._position=this._goalPosition,this._isDone=!0)}},t}(),u=function(){function t(t,i,e,n){this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new a(0,0),this._isDone=!1,this._isStuck=!1}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getIsDone=function(){return this._isDone},t.prototype.getIsStuck=function(){return this._isStuck},t.prototype.update=function(t,i){var e=this;if(!this._isDone){var n=this._goalPosition.subtract(this._position);if(n.magnitude()>60*t/1e3){this._direction=n.normalise();var o=this._position.add(this._direction.multiply(20));this._isStuck=!1,i.forEach((function(t){t.Id!=e.Id&&e.collides(t,o)&&(e._isStuck=!0)})),this._isStuck||(this._position=this._position.add(this._direction.multiply(60*t/1e3)))}else this._position=this._goalPosition,this._isDone=!0}},t.prototype.collides=function(t,i){return t.getPosition().subtract(i).magnitude()<t.Radius+this.Radius},t}(),c=function(){function t(){}return t.RandomToRandom=function(t,i,e,n){for(var o=[],r=this.poissonDiskSample(i,e,t,50),s=this.poissonDiskSample(i,e,t,50),a=0;a<t;a++){var h=n(a,r[a],s[a],20);o.push(h)}return{agents:o}},t.RandomToLine=function(t,i,e,n){for(var o=[],r=this.poissonDiskSample(i,e,t,50),s=0;s<t;s++){var h=n(s,r[s],new a((s+1)/(t+1)*i,e/2),20);o.push(h)}return{agents:o}},t.CircleToCircle=function(t,i,e,n){for(var o=[],r=i/2,s=e/2,h=e/2-25,u=0;u<t;u++){var c=2*Math.PI*u/t,g=n(u,new a(r+h*Math.cos(c),s+h*Math.sin(c)),new a(r+h*Math.cos(c+Math.PI),s+h*Math.sin(c+Math.PI)),20);o.push(g)}return{agents:o}},t.GridToGrid=function(t,i,e,n){for(var o=[],r=Math.ceil(t/8),s=i-50-90*(r-1),h=e/2-135,u=0,c=0;c<r;c++){for(var g=0;g<4;g++){var d=new a(50+90*c,h+90*g),l=new a(s+90*c,h+90*g);if(o.push(n(u,d,l,20)),++u>=t)break;if(o.push(n(u,l,d,20)),++u>=t)break}if(u>=t)break}return{agents:o}},t.poissonDiskSample=function(t,i,e,n){for(var o=[],r=function(){for(var e,r=!0;r;)r=!1,e=new a(t*Math.random(),i*Math.random()),o.forEach((function(t){e.subtract(t).magnitudeSqrd()<Math.pow(n,2)&&(r=!0)}));o.push(e)},s=0;s<e;s++)r();return o},t}(),g=function(){function t(){}return t.prototype.init=function(t){this._agents=t,this._root=this.constructTree(this._agents,!0)},t.prototype.getAll=function(){return this._agents},t.prototype.getNeighboursInRangeRectilinear=function(t,i){var e=t.getPosition().x-i,n=t.getPosition().y-i,o=t.getPosition().x+i,r=t.getPosition().y+i;return this.rangeSearch(this._root,e,n,o,r,!0).filter((function(i){return i.Id!==t.Id}))},t.prototype.getNeighboursInRangeEuclidean=function(t,i){return this.getNeighboursInRangeRectilinear(t,i).filter((function(e){return t.getPosition().subtract(e.getPosition()).magnitudeSqrd()<=Math.pow(i,2)}))},t.prototype.forEach=function(t){this._agents.forEach(t)},t.prototype.constructTree=function(t,i){if(0===t.length)return null;var e=Math.floor(t.length/2),n=i?t.sort((function(t,i){return t.getPosition().x-i.getPosition().x})):t.sort((function(t,i){return t.getPosition().y-i.getPosition().y})),o=this.constructTree(n.slice(0,e),!i),r=this.constructTree(n.slice(e+1,t.length),!i);return{agent:t[e],left:o,right:r}},t.prototype.rangeSearch=function(t,i,e,n,o,r){if(null==t)return[];var s=[];return r?(t.agent.getPosition().x<=n&&(s=s.concat(this.rangeSearch(t.right,i,e,n,o,!r))),t.agent.getPosition().x>=i&&(s=s.concat(this.rangeSearch(t.left,i,e,n,o,!r)))):(t.agent.getPosition().y<=o&&(s=s.concat(this.rangeSearch(t.right,i,e,n,o,!r))),t.agent.getPosition().y>=e&&(s=s.concat(this.rangeSearch(t.left,i,e,n,o,!r)))),t.agent.getPosition().x>=i&&t.agent.getPosition().y>=e&&t.agent.getPosition().x<=n&&t.agent.getPosition().y<=o&&s.push(t.agent),s},t}(),d=function(){function t(t,i,e,n){this.MAX_VELOCITY=1,this.MAX_ACCELERATION=.5,this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new a(0,0),this._isDone=!1,this._isStuck=!1}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getIsDone=function(){return this._isDone},t.prototype.getIsStuck=function(){return this._isStuck},t.prototype.update=function(t,i){if(!this._isDone){this._isStuck=!1;for(var e,n,o=.5,r=this.getPreferredVelocity(o),s=!0,h=0;h<i.length;h++)if(null!=(_=this.getVelocityObstacle(i[h]))&&this.isInside(r,_)){s=!1,e=_,n=h;break}if(s)return this._direction=r,this._position=this._position.add(r),void this.checkIfDone();if(null!=e){var u=this.getClosestPointOnLine(e.vertex,e.tangent1,r);if(u.magnitude()<=o){for(s=!0,h=0;h<i.length;h++)if(h!=n&&null!=(_=this.getVelocityObstacle(i[h]))&&this.isInside(u,_)){s=!1;break}if(s)return this._direction=u,this._position=this._position.add(u),void this.checkIfDone()}var c=this.getClosestPointOnLine(e.vertex,e.tangent2,r);if(u.magnitude()<=o){for(s=!0,h=0;h<i.length;h++)if(h!=n&&null!=(_=this.getVelocityObstacle(i[h]))&&this.isInside(c,_)){s=!1;break}if(s)return this._direction=c,this._position=this._position.add(c),void this.checkIfDone()}}var g=1/0,d=new a(0,0);for(h=0;h<100;h++){for(var l=new a(0,0).sample(o),p=1/0,f=0;f<i.length;f++){var _,y=i[f];if(null==(_=this.getVelocityObstacle(y))||this.isInside(l,_)){var m=this.getFirstRayCircleIntersection(y.getPosition().add(y.getDirection()),this.Radius+y.Radius,this._position,l.subtract(y.getDirection()));if(m<p&&0==(p=m))return void this.checkIfDone()}}var v=100/p+r.subtract(l).magnitude();v<g&&(g=v,d=l)}0==d.magnitude()&&(this._isStuck=!0),this._direction=d,this._position=this._position.add(d),this.checkIfDone()}},t.prototype.getPreferredVelocity=function(t){var i=this._goalPosition.subtract(this._position),e=i.magnitude();return e>t?i.divide(e/t):i},t.prototype.getVelocityObstacle=function(t){var i=t.getDirection(),e=t.getPosition().subtract(this._position).add(i),n=t.Radius+this.Radius,o=i.subtract(e),r=o.magnitude();if(r<n)return null;var s=Math.acos(n/r),h=Math.atan2(o.y,o.x),u=h+s,c=h-s;return{vertex:i,tangent1:new a(e.x+n*Math.cos(u),e.y+n*Math.sin(u)),tangent2:new a(e.x+n*Math.cos(c),e.y+n*Math.sin(c))}},t.prototype.isInside=function(t,i){var e=(i.tangent1.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent1.y-i.vertex.y)*(t.x-i.vertex.x),n=(i.tangent2.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent2.y-i.vertex.y)*(t.x-i.vertex.x);return e>0&&n<0},t.prototype.getClosestPointOnLine=function(t,i,e){var n=i.normalise(),o=e.subtract(t).dot(n);return t.add(n.multiply(o))},t.prototype.getFirstRayCircleIntersection=function(t,i,e,n){var o=e.subtract(t),r=n.dot(n),s=2*n.dot(o),a=o.dot(o)-Math.pow(i,2),h=Math.pow(s,2)-4*r*a;if(h<0)return 1/0;var u=(-s-Math.sqrt(h))/2*r;return u<0?1/0:u},t.prototype.checkIfDone=function(){this._position.subtract(this._goalPosition).magnitudeSqrd()<1&&(this._isDone=!0,this._position=this._goalPosition,this._direction=new a(0,0))},t}(),l=function(){function t(t,i,e,n){this.MAX_VELOCITY=1,this.MAX_ACCELERATION=.5,this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new a(0,0),this._isDone=!1,this._isStuck=!1}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getIsDone=function(){return this._isDone},t.prototype.getIsStuck=function(){return this._isStuck},t.prototype.update=function(t,i){if(!this._isDone){this._isStuck=!1;for(var e,n,o=.5,r=this.getPreferredVelocity(o),s=!0,h=0;h<i.length;h++)if(null!=(_=this.getReciprocalVelocityObstacle(i[h]))&&this.isInside(r,_)){s=!1,e=_,n=h;break}if(s)return this._direction=r,this._position=this._position.add(r),void this.checkIfDone();if(null!=e){var u=this.getClosestPointOnLine(e.vertex,e.tangent1,r);if(u.magnitude()<=o){for(s=!0,h=0;h<i.length;h++)if(h!=n&&null!=(_=this.getReciprocalVelocityObstacle(i[h]))&&this.isInside(u,_)){s=!1;break}if(s)return this._direction=u,this._position=this._position.add(u),void this.checkIfDone()}var c=this.getClosestPointOnLine(e.vertex,e.tangent2,r);if(u.magnitude()<=o){for(s=!0,h=0;h<i.length;h++)if(h!=n&&null!=(_=this.getReciprocalVelocityObstacle(i[h]))&&this.isInside(c,_)){s=!1;break}if(s)return this._direction=c,this._position=this._position.add(c),void this.checkIfDone()}}var g=1/0,d=new a(0,0);for(h=0;h<100;h++){for(var l=new a(0,0).sample(o),p=1/0,f=0;f<i.length;f++){var _,y=i[f];if(null!=(_=this.getReciprocalVelocityObstacle(y))&&this.isInside(l,_)){var m=this.getFirstRayCircleIntersection(y.getPosition().add(y.getDirection()),this.Radius+y.Radius,this._position,l.multiply(2).subtract(this.getDirection()).subtract(y.getDirection()));if(m<p&&0==(p=m))return void this.checkIfDone()}}var v=100/p+r.subtract(l).magnitude();v<g&&(g=v,d=l)}0==d.magnitude()&&(this._isStuck=!0),this._direction=d,this._position=this._position.add(d),this.checkIfDone()}},t.prototype.getPreferredVelocity=function(t){var i=this._goalPosition.subtract(this._position),e=i.magnitude();return e>t?i.divide(e/t):i},t.prototype.getReciprocalVelocityObstacle=function(t){var i=this.getDirection(),e=t.getDirection(),n=i.add(e).divide(2),o=t.getPosition().subtract(this._position).add(e),r=t.Radius+this.Radius,s=e.subtract(o),h=s.magnitude();if(h<r)return null;var u=Math.acos(r/h),c=Math.atan2(s.y,s.x),g=c+u,d=c-u;return{vertex:n,tangent1:new a(o.x+r*Math.cos(g),o.y+r*Math.sin(g)),tangent2:new a(o.x+r*Math.cos(d),o.y+r*Math.sin(d))}},t.prototype.isInside=function(t,i){var e=(i.tangent1.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent1.y-i.vertex.y)*(t.x-i.vertex.x),n=(i.tangent2.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent2.y-i.vertex.y)*(t.x-i.vertex.x);return e>0&&n<0},t.prototype.getClosestPointOnLine=function(t,i,e){var n=i.normalise(),o=e.subtract(t).dot(n);return t.add(n.multiply(o))},t.prototype.getFirstRayCircleIntersection=function(t,i,e,n){var o=e.subtract(t),r=n.dot(n),s=2*n.dot(o),a=o.dot(o)-Math.pow(i,2),h=Math.pow(s,2)-4*r*a;if(h<0)return 1/0;var u=(-s-Math.sqrt(h))/2*r;return u<0?1/0:u},t.prototype.checkIfDone=function(){this._position.subtract(this._goalPosition).magnitudeSqrd()<1&&(this._isDone=!0,this._position=this._goalPosition,this._direction=new a(0,0))},t}(),p=document.getElementById("config"),f=document.getElementById("agentType"),_=document.getElementById("numberOfAgents"),y=document.getElementById("canvas"),m=document.getElementById("framerate"),v=document.getElementById("playButton"),P=document.getElementById("stepButton"),b=new n(new s(y),new g),x=!1;function I(){this.reconfigure();var t=0,i=0,e=0;window.requestAnimationFrame((function n(o){var r=o-t;t=o,x&&b.update(r),b.draw(),e++,o-i>=250&&(m.textContent="FPS: "+(1e3*e/(o-i)).toFixed(1),e=0,i=o),window.requestAnimationFrame(n)}))}function w(){(x=!x)?(v.textContent="Pause",P.disabled=!0):(v.textContent="Play",P.disabled=!1)}function R(){b.update(1e3/60)}function S(){var t;x&&this.playPause();var i,e=p.value,n=f.value,o=null!==(t=parseInt(_.value))&&void 0!==t?t:0;switch(n){case"BasicAgent":i=function(t,i,e,n){return new h(t,i,e,n)};break;case"StopAgent":i=function(t,i,e,n){return new u(t,i,e,n)};break;case"VOAgent":i=function(t,i,e,n){return new d(t,i,e,n)};break;case"RVOAgent":i=function(t,i,e,n){return new l(t,i,e,n)};break;default:throw new Error("Agent not implemented")}switch(e){case"RandomToRandom":b.init(c.RandomToRandom(o,y.width,y.height,i));break;case"RandomToLine":b.init(c.RandomToLine(o,y.width,y.height,i));break;case"CircleToCircle":b.init(c.CircleToCircle(o,y.width,y.height,i));break;case"GridToGrid":b.init(c.GridToGrid(o,y.width,y.height,i));break;default:throw new Error("Configuration not implemented")}}}},i={};function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{}};return t[n](o,o.exports,e),o.exports}return e.d=(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e(237)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9TaW11bGF0aW9uLnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL1JlbmRlcmVyM0QudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvVmVjdG9yMmYudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvQmFzaWNBZ2VudC50cyIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9TdG9wQWdlbnQudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvQ29uZmlndXJhdGlvbnMudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvQWdlbnRUcmVlLnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL1ZPQWdlbnQudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvUlZPQWdlbnQudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvZGVtbzNkLnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yL3dlYnBhY2svc3RhcnR1cCIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3Ivd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Il0sIm5hbWVzIjpbInJlbmRlcmVyIiwiYWdlbnRzIiwidGhpcyIsIl9yZW5kZXJlciIsIl9hZ2VudHMiLCJpbml0IiwiY29uZmlnIiwidXBkYXRlIiwiZGVsdGFUIiwiZm9yRWFjaCIsImFnZW50IiwiZ2V0TmVpZ2hib3Vyc0luUmFuZ2VFdWNsaWRlYW4iLCJnZXRBbGwiLCJkcmF3IiwiY2xlYXIiLCJkcmF3QWdlbnRzIiwidmVydGV4U2hhZGVyVGV4dCIsImpvaW4iLCJmcmFnbWVudFNoYWRlclRleHQiLCJjYW52YXMiLCJnbCIsImdldENvbnRleHQiLCJ2ZXJ0ZXhTaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiZnJhZ21lbnRTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJwcm9ncmFtIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwidmFsaWRhdGVQcm9ncmFtIiwiVkFMSURBVEVfU1RBVFVTIiwicG9zaXRpb25BdHRyaWJ1dGUiLCJnZXRBdHRyaWJMb2NhdGlvbiIsInJhZGl1c0F0dHJpYnV0ZSIsIndpZHRoVW5pZm9ybSIsImdldFVuaWZvcm1Mb2NhdGlvbiIsImhlaWdodFVuaWZvcm0iLCJWQk8iLCJjcmVhdGVCdWZmZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImdldFNoYWRlckluZm9Mb2ciLCJjbGVhckNvbG9yIiwiQ09MT1JfQlVGRkVSX0JJVCIsIkRFUFRIX0JVRkZFUl9CSVQiLCJ2ZXJ0ZXhEYXRhIiwicG9zIiwiZ2V0UG9zaXRpb24iLCJwdXNoIiwieCIsInkiLCJSYWRpdXMiLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwidmVydGV4QXR0cmliUG9pbnRlciIsIkZMT0FUIiwiQllURVNfUEVSX0VMRU1FTlQiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInVzZVByb2dyYW0iLCJ1bmlmb3JtMWYiLCJ3aWR0aCIsImhlaWdodCIsImRyYXdBcnJheXMiLCJQT0lOVFMiLCJsZW5ndGgiLCJjb3B5IiwidiIsIlZlY3RvcjJmIiwiYWRkIiwic3VidHJhY3QiLCJtdWx0aXBseSIsInMiLCJkaXZpZGUiLCJkb3QiLCJtYWduaXR1ZGVTcXJkIiwibWFnbml0dWRlIiwiTWF0aCIsInNxcnQiLCJub3JtYWxpc2UiLCJtIiwic2FtcGxlIiwibWF4UmFkaXVzIiwicmFkaXVzIiwicmFuZG9tIiwiYW5nbGUiLCJQSSIsImNvcyIsInNpbiIsImlkIiwic3RhcnRQb3NpdGlvbiIsImdvYWxQb3NpdGlvbiIsIklkIiwiX3Bvc2l0aW9uIiwiX2dvYWxQb3NpdGlvbiIsIl9kaXJlY3Rpb24iLCJfaXNEb25lIiwiZ2V0RGlyZWN0aW9uIiwiZ2V0SXNEb25lIiwiZ2V0SXNTdHVjayIsImdvYWxEaXJlY3Rpb24iLCJfaXNTdHVjayIsImNvbGxpZGVzIiwicG9zaXRpb24iLCJSYW5kb21Ub1JhbmRvbSIsIm4iLCJhZ2VudENvbnN0cnVjdG9yIiwic3RhcnRQb3NpdGlvbnMiLCJwb2lzc29uRGlza1NhbXBsZSIsImdvYWxQb3NpdGlvbnMiLCJpIiwiUmFuZG9tVG9MaW5lIiwiQ2lyY2xlVG9DaXJjbGUiLCJjZW50cmVYIiwiY2VudHJlWSIsIkdyaWRUb0dyaWQiLCJjb2xzIiwiY2VpbCIsInJpZ2h0IiwidG9wIiwiaiIsImEiLCJiIiwieFJhbmdlIiwieVJhbmdlIiwidGhyZXNob2xkIiwic2FtcGxlcyIsInJlc2FtcGxlIiwiX3Jvb3QiLCJjb25zdHJ1Y3RUcmVlIiwiZ2V0TmVpZ2hib3Vyc0luUmFuZ2VSZWN0aWxpbmVhciIsInJhbmdlIiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsInJhbmdlU2VhcmNoIiwiZmlsdGVyIiwib3RoZXIiLCJmdW4iLCJ4QXhpcyIsIm1pZCIsImZsb29yIiwic29ydGVkIiwic29ydCIsImxlZnQiLCJzbGljZSIsInJvb3QiLCJyZXMiLCJjb25jYXQiLCJNQVhfVkVMT0NJVFkiLCJNQVhfQUNDRUxFUkFUSU9OIiwibmVpZ2hib3VycyIsImNvbGxpc2lvbiIsInNwZWVkIiwicHJlZmVycmVkVmVsb2NpdHkiLCJnZXRQcmVmZXJyZWRWZWxvY2l0eSIsInNhZmUiLCJ2ZWxvY2l0eU9ic3RhY2xlIiwiZ2V0VmVsb2NpdHlPYnN0YWNsZSIsImlzSW5zaWRlIiwiY2hlY2tJZkRvbmUiLCJoYWxmcGxhbmUxIiwiZ2V0Q2xvc2VzdFBvaW50T25MaW5lIiwidmVydGV4IiwidGFuZ2VudDEiLCJoYWxmUGxhbmUyIiwidGFuZ2VudDIiLCJtaW5QZW5hbHR5IiwiSW5maW5pdHkiLCJiZXN0VmVsb2NpdHkiLCJtaW5UaW1lVG9Db2xsaXNpb24iLCJ0aW1lVG9Db2xsaXNpb24iLCJnZXRGaXJzdFJheUNpcmNsZUludGVyc2VjdGlvbiIsInBlbmFsdHkiLCJtYXhTcGVlZCIsImdvYWxEaXN0YW5jZSIsInZlbG9jaXR5QiIsImNlbnRyZSIsImRpZmYiLCJkaXN0IiwidGhldGEiLCJhY29zIiwicGhpIiwiYXRhbjIiLCJhbmdsZTEiLCJhbmdsZTIiLCJ2ZWxvY2l0eSIsImRldGVybWluYW50MSIsImRldGVybWluYW50MiIsImxpbmVQb2ludCIsImxpbmVEaXJlY3Rpb24iLCJwb2ludCIsImRpcmVjdGlvbiIsImRpc3RhbmNlIiwib3JpZ2luIiwiZGVsdGEiLCJjIiwiZGlzY3JpbSIsImdldFJlY2lwcm9jYWxWZWxvY2l0eU9ic3RhY2xlIiwidmVsb2NpdHlBIiwiY29uZmlnU2VsZWN0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFnZW50VHlwZVNlbGVjdCIsIm51bWJlck9mQWdlbnRzSW5wdXQiLCJmcmFtZXJhdGUiLCJwbGF5QnV0dG9uIiwic3RlcEJ1dHRvbiIsInNpbXVsYXRpb24iLCJTaW11bGF0aW9uIiwiUmVuZGVyZXIzRCIsIkFnZW50VHJlZSIsInBsYXkiLCJyZWNvbmZpZ3VyZSIsImxhc3RSZW5kZXIiLCJsYXN0RlBTIiwiZnJhbWVzIiwid2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibG9vcCIsInRpbWVzdGFtcCIsInRleHRDb250ZW50IiwidG9GaXhlZCIsInBsYXlQYXVzZSIsImRpc2FibGVkIiwic3RlcCIsInZhbHVlIiwiYWdlbnRUeXBlIiwicGFyc2VJbnQiLCJCYXNpY0FnZW50IiwiU3RvcEFnZW50IiwiVk9BZ2VudCIsIlJWT0FnZW50IiwiRXJyb3IiLCJDb25maWd1cmF0aW9ucyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJtYXBwaW5ncyI6ImtKQUlBLGlCQUlFLFdBQVlBLEVBQXFCQyxHQUMvQkMsS0FBS0MsVUFBWUgsRUFDakJFLEtBQUtFLFFBQVVILEVBdUJuQixPQXBCRSxZQUFBSSxLQUFBLFNBQUtDLEdBQ0hKLEtBQUtFLFFBQVFDLEtBQUtDLEVBQU9MLFNBRzNCLFlBQUFNLE9BQUEsU0FBT0MsR0FBUCxXQUVFTixLQUFLRSxRQUFRSyxTQUFRLFNBQUNDLEdBQ3BCQSxFQUFNSCxPQUNKQyxFQUNBLEVBQUtKLFFBQVFPLDhCQUE4QkQsRUFKbkMsU0FRWlIsS0FBS0UsUUFBUUMsS0FBS0gsS0FBS0UsUUFBUVEsV0FHakMsWUFBQUMsS0FBQSxXQUNFWCxLQUFLQyxVQUFVVyxRQUNmWixLQUFLQyxVQUFVWSxXQUFXYixLQUFLRSxVQUVuQyxFQTdCQSxHQ0RNWSxFQUFtQixDQUN2QiwyQkFDQSwyQkFDQSwwQkFDQSx1QkFDQSx3QkFDQSxjQUNBLElBQ0EsdURBQ0Esd0RBQ0Esa0NBQ0EsaUNBQ0EsS0FDQUMsS0FBSyxNQUVEQyxFQUFxQixDQUN6QiwyQkFDQSxjQUNBLElBQ0EsdURBQ0EsNkJBQ0EscUNBQ0Es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UCxFQUFlM0gsZUFDYlAsRUFDQWpHLEVBQU9xRCxNQUNQckQsRUFBT3NELE9BQ1A0QyxJQUdKLE1BRUYsSUFBSyxhQUNIdUcsRUFBV3ZOLEtBQ1RpUCxFQUFleEgsV0FDYlYsRUFDQWpHLEVBQU9xRCxNQUNQckQsRUFBT3NELE9BQ1A0QyxJQUdKLE1BRUYsUUFDRSxNQUFNLElBQUlnSSxNQUFNLHFDQ2xMbEJFLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixHQUFHRixFQUF5QkUsR0FDM0IsT0FBT0YsRUFBeUJFLEdBQVVDLFFBRzNDLElBQUlDLEVBQVNKLEVBQXlCRSxHQUFZLENBR2pEQyxRQUFTLElBT1YsT0FIQUUsRUFBb0JILEdBQVVFLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9DRyxFQUFPRCxRQ2pCZixPQ0ZBRixFQUFvQkssRUFBSSxDQUFDSCxFQUFTSSxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hOLEVBQW9CUSxFQUFFRixFQUFZQyxLQUFTUCxFQUFvQlEsRUFBRU4sRUFBU0ssSUFDNUVFLE9BQU9DLGVBQWVSLEVBQVNLLEVBQUssQ0FBRUksWUFBWSxFQUFNQyxJQUFLTixFQUFXQyxNQ0ozRVAsRUFBb0JRLEVBQUksQ0FBQ0ssRUFBS0MsSUFBU0wsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsR0NDakZkLEVBQW9Ca0IsRUFBS2hCLElBQ0gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNYLE9BQU9DLGVBQWVSLEVBQVNpQixPQUFPQyxZQUFhLENBQUU5QixNQUFPLFdBRTdEbUIsT0FBT0MsZUFBZVIsRUFBUyxhQUFjLENBQUVaLE9BQU8sS0hGaERVLEVBQW9CLE0iLCJmaWxlIjoiZGVtbzNkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUFnZW50Q29sbGVjdGlvbiB9IGZyb20gXCIuL0lBZ2VudENvbGxlY3Rpb25cIjtcclxuaW1wb3J0IHsgSVJlbmRlcmVyIH0gZnJvbSBcIi4vSVJlbmRlcmVyXCI7XHJcbmltcG9ydCB7IElDb25maWd1cmF0aW9uIH0gZnJvbSBcIi4vQ29uZmlndXJhdGlvbnNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTaW11bGF0aW9uIHtcclxuICBfcmVuZGVyZXI6IElSZW5kZXJlcjtcclxuICBfYWdlbnRzOiBJQWdlbnRDb2xsZWN0aW9uO1xyXG5cclxuICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogSVJlbmRlcmVyLCBhZ2VudHM6IElBZ2VudENvbGxlY3Rpb24pIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9hZ2VudHMgPSBhZ2VudHM7XHJcbiAgfVxyXG5cclxuICBpbml0KGNvbmZpZzogSUNvbmZpZ3VyYXRpb24pIHtcclxuICAgIHRoaXMuX2FnZW50cy5pbml0KGNvbmZpZy5hZ2VudHMpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKGRlbHRhVDogbnVtYmVyKSB7XHJcbiAgICBsZXQgcmFuZ2UgPSAzMDA7XHJcbiAgICB0aGlzLl9hZ2VudHMuZm9yRWFjaCgoYWdlbnQpID0+IHtcclxuICAgICAgYWdlbnQudXBkYXRlKFxyXG4gICAgICAgIGRlbHRhVCxcclxuICAgICAgICB0aGlzLl9hZ2VudHMuZ2V0TmVpZ2hib3Vyc0luUmFuZ2VFdWNsaWRlYW4oYWdlbnQsIHJhbmdlKVxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fYWdlbnRzLmluaXQodGhpcy5fYWdlbnRzLmdldEFsbCgpKTtcclxuICB9XHJcblxyXG4gIGRyYXcoKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlci5jbGVhcigpO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIuZHJhd0FnZW50cyh0aGlzLl9hZ2VudHMpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJQWdlbnRDb2xsZWN0aW9uIH0gZnJvbSBcIi4vSUFnZW50Q29sbGVjdGlvblwiO1xyXG5pbXBvcnQgeyBJUmVuZGVyZXIgfSBmcm9tIFwiLi9JUmVuZGVyZXJcIjtcclxuXHJcbmNvbnN0IHZlcnRleFNoYWRlclRleHQgPSBbXHJcbiAgXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcIixcclxuICBcImF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uO1wiLFxyXG4gIFwiYXR0cmlidXRlIGZsb2F0IHJhZGl1cztcIixcclxuICBcInVuaWZvcm0gZmxvYXQgd2lkdGg7XCIsXHJcbiAgXCJ1bmlmb3JtIGZsb2F0IGhlaWdodDtcIixcclxuICBcInZvaWQgbWFpbigpXCIsXHJcbiAgXCJ7XCIsXHJcbiAgXCIgIGdsX1Bvc2l0aW9uID0gdmVjNCgyLjAgKiBwb3NpdGlvbi54IC8gd2lkdGggLSAxLjAsXCIsXHJcbiAgXCIgICAgICAgICAgICAgICAgICAgICAyLjAgKiBwb3NpdGlvbi55IC8gaGVpZ2h0IC0gMS4wLFwiLFxyXG4gIFwiICAgICAgICAgICAgICAgICAgICAgMC4wLCAxLjApO1wiLFxyXG4gIFwiICBnbF9Qb2ludFNpemUgPSAyLjAgKiByYWRpdXM7XCIsXHJcbiAgXCJ9XCIsXHJcbl0uam9pbihcIlxcblwiKTtcclxuXHJcbmNvbnN0IGZyYWdtZW50U2hhZGVyVGV4dCA9IFtcclxuICBcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFxyXG4gIFwidm9pZCBtYWluKClcIixcclxuICBcIntcIixcclxuICBcIiAgZmxvYXQgZGlzdCA9IGRpc3RhbmNlKCBnbF9Qb2ludENvb3JkLCB2ZWMyKDAuNSkgKTtcIixcclxuICBcIiAgaWYgKGRpc3QgPiAwLjUpIGRpc2NhcmQ7XCIsXHJcbiAgXCIgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMSwgMCwgMCwgMSk7XCIsXHJcbiAgXCJ9XCIsXHJcbl0uam9pbihcIlxcblwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBSZW5kZXJlcjNEIGltcGxlbWVudHMgSVJlbmRlcmVyIHtcclxuICBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbTtcclxuICBwb3NpdGlvbkF0dHJpYnV0ZTogbnVtYmVyO1xyXG4gIHJhZGl1c0F0dHJpYnV0ZTogbnVtYmVyO1xyXG4gIHdpZHRoVW5pZm9ybTogV2ViR0xVbmlmb3JtTG9jYXRpb247XHJcbiAgaGVpZ2h0VW5pZm9ybTogV2ViR0xVbmlmb3JtTG9jYXRpb247XHJcbiAgVkJPOiBXZWJHTEJ1ZmZlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgdGhpcy5nbCA9IGNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIik7XHJcblxyXG4gICAgaWYgKCF0aGlzLmdsKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJXZWJHTCBub3Qgc3VwcG9ydGVkXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdmVydGV4U2hhZGVyID0gdGhpcy5nbC5jcmVhdGVTaGFkZXIodGhpcy5nbC5WRVJURVhfU0hBREVSKTtcclxuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gdGhpcy5nbC5jcmVhdGVTaGFkZXIodGhpcy5nbC5GUkFHTUVOVF9TSEFERVIpO1xyXG5cclxuICAgIHRoaXMuZ2wuc2hhZGVyU291cmNlKHZlcnRleFNoYWRlciwgdmVydGV4U2hhZGVyVGV4dCk7XHJcbiAgICB0aGlzLmdsLnNoYWRlclNvdXJjZShmcmFnbWVudFNoYWRlciwgZnJhZ21lbnRTaGFkZXJUZXh0KTtcclxuXHJcbiAgICB0aGlzLmdsLmNvbXBpbGVTaGFkZXIodmVydGV4U2hhZGVyKTtcclxuICAgIGlmICghdGhpcy5nbC5nZXRTaGFkZXJQYXJhbWV0ZXIodmVydGV4U2hhZGVyLCB0aGlzLmdsLkNPTVBJTEVfU1RBVFVTKSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIFwiRVJST1IgY29tcGlsaW5nIHZlcnRleCBzaGFkZXJcIixcclxuICAgICAgICB0aGlzLmdsLmdldFNoYWRlckluZm9Mb2codmVydGV4U2hhZGVyKVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5nbC5jb21waWxlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcclxuICAgIGlmICghdGhpcy5nbC5nZXRTaGFkZXJQYXJhbWV0ZXIoZnJhZ21lbnRTaGFkZXIsIHRoaXMuZ2wuQ09NUElMRV9TVEFUVVMpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgXCJFUlJPUiBjb21waWxpbmcgZnJhZ21lbnQgc2hhZGVyXCIsXHJcbiAgICAgICAgdGhpcy5nbC5nZXRTaGFkZXJJbmZvTG9nKGZyYWdtZW50U2hhZGVyKVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wcm9ncmFtID0gdGhpcy5nbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICB0aGlzLmdsLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sIHZlcnRleFNoYWRlcik7XHJcbiAgICB0aGlzLmdsLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcclxuICAgIHRoaXMuZ2wubGlua1Byb2dyYW0odGhpcy5wcm9ncmFtKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sIHRoaXMuZ2wuTElOS19TVEFUVVMpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgXCJFUlJPUiBsaW5raW5nIHByb2dyYW1cIixcclxuICAgICAgICB0aGlzLmdsLmdldFByb2dyYW1JbmZvTG9nKHRoaXMucHJvZ3JhbSlcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZ2wudmFsaWRhdGVQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XHJcbiAgICBpZiAoIXRoaXMuZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sIHRoaXMuZ2wuVkFMSURBVEVfU1RBVFVTKSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIFwiRVJST1IgdmFsaWRhdGluZyBwcm9ncmFtXCIsXHJcbiAgICAgICAgdGhpcy5nbC5nZXRQcm9ncmFtSW5mb0xvZyh0aGlzLnByb2dyYW0pXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnBvc2l0aW9uQXR0cmlidXRlID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihcclxuICAgICAgdGhpcy5wcm9ncmFtLFxyXG4gICAgICBcInBvc2l0aW9uXCJcclxuICAgICk7XHJcbiAgICB0aGlzLnJhZGl1c0F0dHJpYnV0ZSA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInJhZGl1c1wiKTtcclxuXHJcbiAgICB0aGlzLndpZHRoVW5pZm9ybSA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJ3aWR0aFwiKTtcclxuICAgIHRoaXMuaGVpZ2h0VW5pZm9ybSA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJoZWlnaHRcIik7XHJcblxyXG4gICAgdGhpcy5WQk8gPSB0aGlzLmdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKTogdm9pZCB7XHJcbiAgICB0aGlzLmdsLmNsZWFyQ29sb3IoMSwgMSwgMSwgMSk7XHJcbiAgICB0aGlzLmdsLmNsZWFyKHRoaXMuZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IHRoaXMuZ2wuREVQVEhfQlVGRkVSX0JJVCk7XHJcbiAgfVxyXG5cclxuICBkcmF3QWdlbnRzKGFnZW50czogSUFnZW50Q29sbGVjdGlvbik6IHZvaWQge1xyXG4gICAgbGV0IHZlcnRleERhdGE6IG51bWJlcltdID0gW107XHJcblxyXG4gICAgYWdlbnRzLmZvckVhY2goKGFnZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IHBvcyA9IGFnZW50LmdldFBvc2l0aW9uKCk7XHJcbiAgICAgIHZlcnRleERhdGEucHVzaChwb3MueCk7XHJcbiAgICAgIHZlcnRleERhdGEucHVzaChwb3MueSk7XHJcbiAgICAgIHZlcnRleERhdGEucHVzaChhZ2VudC5SYWRpdXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLlZCTyk7XHJcbiAgICB0aGlzLmdsLmJ1ZmZlckRhdGEoXHJcbiAgICAgIHRoaXMuZ2wuQVJSQVlfQlVGRkVSLFxyXG4gICAgICBuZXcgRmxvYXQzMkFycmF5KHZlcnRleERhdGEpLFxyXG4gICAgICB0aGlzLmdsLlNUQVRJQ19EUkFXXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcihcclxuICAgICAgdGhpcy5wb3NpdGlvbkF0dHJpYnV0ZSxcclxuICAgICAgMixcclxuICAgICAgdGhpcy5nbC5GTE9BVCxcclxuICAgICAgZmFsc2UsXHJcbiAgICAgIDMgKiBGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsXHJcbiAgICAgIDBcclxuICAgICk7XHJcbiAgICB0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMucG9zaXRpb25BdHRyaWJ1dGUpO1xyXG5cclxuICAgIHRoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcihcclxuICAgICAgdGhpcy5yYWRpdXNBdHRyaWJ1dGUsXHJcbiAgICAgIDEsXHJcbiAgICAgIHRoaXMuZ2wuRkxPQVQsXHJcbiAgICAgIGZhbHNlLFxyXG4gICAgICAzICogRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULFxyXG4gICAgICAyICogRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UXHJcbiAgICApO1xyXG4gICAgdGhpcy5nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLnJhZGl1c0F0dHJpYnV0ZSk7XHJcblxyXG4gICAgdGhpcy5nbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XHJcbiAgICB0aGlzLmdsLnVuaWZvcm0xZih0aGlzLndpZHRoVW5pZm9ybSwgdGhpcy5nbC5jYW52YXMud2lkdGgpO1xyXG4gICAgdGhpcy5nbC51bmlmb3JtMWYodGhpcy5oZWlnaHRVbmlmb3JtLCB0aGlzLmdsLmNhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAgIHRoaXMuZ2wuZHJhd0FycmF5cyh0aGlzLmdsLlBPSU5UUywgMCwgdmVydGV4RGF0YS5sZW5ndGggLyAzKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFZlY3RvcjJmIHtcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbiAgfVxyXG5cclxuICBjb3B5KHY6IFZlY3RvcjJmKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyZih2LngsIHYueSk7XHJcbiAgfVxyXG5cclxuICBhZGQodjogVmVjdG9yMmYpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJmKHRoaXMueCArIHYueCwgdGhpcy55ICsgdi55KTtcclxuICB9XHJcblxyXG4gIHN1YnRyYWN0KHY6IFZlY3RvcjJmKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyZih0aGlzLnggLSB2LngsIHRoaXMueSAtIHYueSk7XHJcbiAgfVxyXG5cclxuICBtdWx0aXBseShzOiBudW1iZXIpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJmKHRoaXMueCAqIHMsIHRoaXMueSAqIHMpO1xyXG4gIH1cclxuXHJcbiAgZGl2aWRlKHM6IG51bWJlcik6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMmYodGhpcy54IC8gcywgdGhpcy55IC8gcyk7XHJcbiAgfVxyXG5cclxuICBkb3QodjogVmVjdG9yMmYpIHtcclxuICAgIHJldHVybiB0aGlzLnggKiB2LnggKyB0aGlzLnkgKiB2Lnk7XHJcbiAgfVxyXG5cclxuICBtYWduaXR1ZGVTcXJkKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy54ICoqIDIgKyB0aGlzLnkgKiogMjtcclxuICB9XHJcblxyXG4gIG1hZ25pdHVkZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLm1hZ25pdHVkZVNxcmQoKSk7XHJcbiAgfVxyXG5cclxuICBub3JtYWxpc2UoKTogVmVjdG9yMmYge1xyXG4gICAgbGV0IG0gPSB0aGlzLm1hZ25pdHVkZSgpO1xyXG4gICAgcmV0dXJuIG0gPT0gMCA/IG5ldyBWZWN0b3IyZigwLCAwKSA6IHRoaXMuZGl2aWRlKG0pO1xyXG4gIH1cclxuXHJcbiAgc2FtcGxlKG1heFJhZGl1czogbnVtYmVyKSB7XHJcbiAgICAvLyBVbmlmb3JtbHkgc2FtcGxlIHRoZSBjaXJjbGUgY2VudHJlZCBhdCB0aGlzIHBvaW50IHdpdGggcmFkaXVzIG1heFJhZGl1c1xyXG4gICAgbGV0IHJhZGl1cyA9IE1hdGguc3FydChNYXRoLnJhbmRvbSgpKSAqIG1heFJhZGl1cztcclxuICAgIGxldCBhbmdsZSA9IDIgKiBNYXRoLlBJICogTWF0aC5yYW5kb20oKTtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMmYoXHJcbiAgICAgIHRoaXMueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSxcclxuICAgICAgdGhpcy55ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJQWdlbnQgfSBmcm9tIFwiLi9JQWdlbnRcIjtcclxuaW1wb3J0IHsgVmVjdG9yMmYgfSBmcm9tIFwiLi9WZWN0b3IyZlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2ljQWdlbnQgaW1wbGVtZW50cyBJQWdlbnQge1xyXG4gIHB1YmxpYyByZWFkb25seSBJZDogbnVtYmVyO1xyXG4gIHB1YmxpYyByZWFkb25seSBSYWRpdXM6IG51bWJlcjtcclxuXHJcbiAgcHJpdmF0ZSBfcG9zaXRpb246IFZlY3RvcjJmO1xyXG4gIHByaXZhdGUgX2dvYWxQb3NpdGlvbjogVmVjdG9yMmY7XHJcbiAgcHJpdmF0ZSBfZGlyZWN0aW9uOiBWZWN0b3IyZjtcclxuXHJcbiAgcHJpdmF0ZSBfaXNEb25lOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICBzdGFydFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICByYWRpdXM6IG51bWJlclxyXG4gICkge1xyXG4gICAgdGhpcy5JZCA9IGlkO1xyXG4gICAgdGhpcy5fcG9zaXRpb24gPSBzdGFydFBvc2l0aW9uO1xyXG4gICAgdGhpcy5fZ29hbFBvc2l0aW9uID0gZ29hbFBvc2l0aW9uO1xyXG4gICAgdGhpcy5SYWRpdXMgPSByYWRpdXM7XHJcbiAgICB0aGlzLl9kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcblxyXG4gICAgdGhpcy5faXNEb25lID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbigpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBnZXREaXJlY3Rpb24oKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RpcmVjdGlvbjtcclxuICB9XHJcblxyXG4gIGdldElzRG9uZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc0RvbmU7XHJcbiAgfVxyXG5cclxuICBnZXRJc1N0dWNrKCk6IGJvb2xlYW4ge1xyXG4gICAgLy8gVGhpcyBhZ2VudCBjYW5ub3QgZ2V0IHN0dWNrXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoZGVsdGFUOiBudW1iZXIsIF9hZ2VudHM6IElBZ2VudFtdKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5faXNEb25lKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZ29hbERpcmVjdGlvbiA9IHRoaXMuX2dvYWxQb3NpdGlvbi5zdWJ0cmFjdCh0aGlzLl9wb3NpdGlvbik7XHJcbiAgICBsZXQgZ29hbERpc3RhbmNlID0gZ29hbERpcmVjdGlvbi5tYWduaXR1ZGUoKTtcclxuXHJcbiAgICBpZiAoZ29hbERpc3RhbmNlID4gKGRlbHRhVCAqIDYwKSAvIDEwMDApIHtcclxuICAgICAgdGhpcy5fZGlyZWN0aW9uID0gZ29hbERpcmVjdGlvbi5ub3JtYWxpc2UoKTtcclxuICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQoXHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uLm11bHRpcGx5KChkZWx0YVQgKiA2MCkgLyAxMDAwKVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9nb2FsUG9zaXRpb247XHJcbiAgICAgIHRoaXMuX2lzRG9uZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IElBZ2VudCB9IGZyb20gXCIuL0lBZ2VudFwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyZiB9IGZyb20gXCIuL1ZlY3RvcjJmXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RvcEFnZW50IGltcGxlbWVudHMgSUFnZW50IHtcclxuICBwdWJsaWMgcmVhZG9ubHkgSWQ6IG51bWJlcjtcclxuICBwdWJsaWMgcmVhZG9ubHkgUmFkaXVzOiBudW1iZXI7XHJcblxyXG4gIHByaXZhdGUgX3Bvc2l0aW9uOiBWZWN0b3IyZjtcclxuICBwcml2YXRlIF9nb2FsUG9zaXRpb246IFZlY3RvcjJmO1xyXG4gIHByaXZhdGUgX2RpcmVjdGlvbjogVmVjdG9yMmY7XHJcblxyXG4gIHByaXZhdGUgX2lzRG9uZTogYm9vbGVhbjtcclxuICBwcml2YXRlIF9pc1N0dWNrOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICBzdGFydFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICByYWRpdXM6IG51bWJlclxyXG4gICkge1xyXG4gICAgdGhpcy5JZCA9IGlkO1xyXG4gICAgdGhpcy5fcG9zaXRpb24gPSBzdGFydFBvc2l0aW9uO1xyXG4gICAgdGhpcy5fZ29hbFBvc2l0aW9uID0gZ29hbFBvc2l0aW9uO1xyXG4gICAgdGhpcy5SYWRpdXMgPSByYWRpdXM7XHJcbiAgICB0aGlzLl9kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcblxyXG4gICAgdGhpcy5faXNEb25lID0gZmFsc2U7XHJcbiAgICB0aGlzLl9pc1N0dWNrID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbigpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBnZXREaXJlY3Rpb24oKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RpcmVjdGlvbjtcclxuICB9XHJcblxyXG4gIGdldElzRG9uZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc0RvbmU7XHJcbiAgfVxyXG5cclxuICBnZXRJc1N0dWNrKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzU3R1Y2s7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoZGVsdGFUOiBudW1iZXIsIGFnZW50czogSUFnZW50W10pOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9pc0RvbmUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBnb2FsRGlyZWN0aW9uID0gdGhpcy5fZ29hbFBvc2l0aW9uLnN1YnRyYWN0KHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgIGxldCBnb2FsRGlzdGFuY2UgPSBnb2FsRGlyZWN0aW9uLm1hZ25pdHVkZSgpO1xyXG5cclxuICAgIGlmIChnb2FsRGlzdGFuY2UgPiAoZGVsdGFUICogNjApIC8gMTAwMCkge1xyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24gPSBnb2FsRGlyZWN0aW9uLm5vcm1hbGlzZSgpO1xyXG4gICAgICBsZXQgaGVhZGluZyA9IHRoaXMuX3Bvc2l0aW9uLmFkZCh0aGlzLl9kaXJlY3Rpb24ubXVsdGlwbHkoMjApKTtcclxuXHJcbiAgICAgIHRoaXMuX2lzU3R1Y2sgPSBmYWxzZTtcclxuICAgICAgYWdlbnRzLmZvckVhY2goKGFnZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGFnZW50LklkICE9IHRoaXMuSWQgJiYgdGhpcy5jb2xsaWRlcyhhZ2VudCwgaGVhZGluZykpIHtcclxuICAgICAgICAgIHRoaXMuX2lzU3R1Y2sgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXRoaXMuX2lzU3R1Y2spIHtcclxuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChcclxuICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbi5tdWx0aXBseSgoZGVsdGFUICogNjApIC8gMTAwMClcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX2dvYWxQb3NpdGlvbjtcclxuICAgICAgdGhpcy5faXNEb25lID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbGxpZGVzKGFnZW50OiBJQWdlbnQsIHBvc2l0aW9uOiBWZWN0b3IyZik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgYWdlbnQuZ2V0UG9zaXRpb24oKS5zdWJ0cmFjdChwb3NpdGlvbikubWFnbml0dWRlKCkgPFxyXG4gICAgICBhZ2VudC5SYWRpdXMgKyB0aGlzLlJhZGl1c1xyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSUFnZW50IH0gZnJvbSBcIi4vSUFnZW50XCI7XHJcbmltcG9ydCB7IFZlY3RvcjJmIH0gZnJvbSBcIi4vVmVjdG9yMmZcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNvbmZpZ3VyYXRpb24ge1xyXG4gIGFnZW50czogSUFnZW50W107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9ucyB7XHJcbiAgc3RhdGljIFJhbmRvbVRvUmFuZG9tKFxyXG4gICAgbjogbnVtYmVyLFxyXG4gICAgd2lkdGg6IG51bWJlcixcclxuICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgYWdlbnRDb25zdHJ1Y3RvcjogKFxyXG4gICAgICBpZDogbnVtYmVyLFxyXG4gICAgICBzdGFydFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgZ29hbFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgcmFkaXVzOiBudW1iZXJcclxuICAgICkgPT4gSUFnZW50XHJcbiAgKSB7XHJcbiAgICAvLyBSYW5kb20gc3RhcnQgcG9zaXRpb24gdG8gcmFuZG9tIGdvYWwgcG9zaXRpb25cclxuICAgIGxldCBhZ2VudHM6IElBZ2VudFtdID0gW107XHJcbiAgICBsZXQgc3RhcnRQb3NpdGlvbnMgPSB0aGlzLnBvaXNzb25EaXNrU2FtcGxlKHdpZHRoLCBoZWlnaHQsIG4sIDUwKTtcclxuICAgIGxldCBnb2FsUG9zaXRpb25zID0gdGhpcy5wb2lzc29uRGlza1NhbXBsZSh3aWR0aCwgaGVpZ2h0LCBuLCA1MCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuICAgICAgY29uc3QgYWdlbnQgPSBhZ2VudENvbnN0cnVjdG9yKFxyXG4gICAgICAgIGksXHJcbiAgICAgICAgc3RhcnRQb3NpdGlvbnNbaV0sXHJcbiAgICAgICAgZ29hbFBvc2l0aW9uc1tpXSxcclxuICAgICAgICAyMFxyXG4gICAgICApO1xyXG4gICAgICBhZ2VudHMucHVzaChhZ2VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgYWdlbnRzOiBhZ2VudHMgfSBhcyBJQ29uZmlndXJhdGlvbjtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBSYW5kb21Ub0xpbmUoXHJcbiAgICBuOiBudW1iZXIsXHJcbiAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICBhZ2VudENvbnN0cnVjdG9yOiAoXHJcbiAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgIHN0YXJ0UG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICByYWRpdXM6IG51bWJlclxyXG4gICAgKSA9PiBJQWdlbnRcclxuICApIHtcclxuICAgIC8vIFJhbmRvbSBzdGFydCBwb3NpdGlvbiB0byBmaXhlZCBwb3NpdGlvbiBvbiBsaW5lXHJcbiAgICBsZXQgYWdlbnRzOiBJQWdlbnRbXSA9IFtdO1xyXG4gICAgbGV0IHN0YXJ0UG9zaXRpb25zID0gdGhpcy5wb2lzc29uRGlza1NhbXBsZSh3aWR0aCwgaGVpZ2h0LCBuLCA1MCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuICAgICAgY29uc3QgYWdlbnQgPSBhZ2VudENvbnN0cnVjdG9yKFxyXG4gICAgICAgIGksXHJcbiAgICAgICAgc3RhcnRQb3NpdGlvbnNbaV0sXHJcbiAgICAgICAgbmV3IFZlY3RvcjJmKCgoaSArIDEpIC8gKG4gKyAxKSkgKiB3aWR0aCwgaGVpZ2h0IC8gMiksXHJcbiAgICAgICAgMjBcclxuICAgICAgKTtcclxuICAgICAgYWdlbnRzLnB1c2goYWdlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGFnZW50czogYWdlbnRzIH0gYXMgSUNvbmZpZ3VyYXRpb247XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgQ2lyY2xlVG9DaXJjbGUoXHJcbiAgICBuOiBudW1iZXIsXHJcbiAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICBhZ2VudENvbnN0cnVjdG9yOiAoXHJcbiAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgIHN0YXJ0UG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICByYWRpdXM6IG51bWJlclxyXG4gICAgKSA9PiBJQWdlbnRcclxuICApIHtcclxuICAgIC8vIFBvc2l0aW9uIG9uIHJhZGl1cyBvZiBjaXJjbGUgdG8gb3Bwb3NpdGUgcG9pbnRcclxuICAgIGxldCBhZ2VudHM6IElBZ2VudFtdID0gW107XHJcbiAgICBjb25zdCBjZW50cmVYID0gd2lkdGggLyAyO1xyXG4gICAgY29uc3QgY2VudHJlWSA9IGhlaWdodCAvIDI7XHJcbiAgICBjb25zdCByYWRpdXMgPSBoZWlnaHQgLyAyIC0gMjU7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuICAgICAgY29uc3QgYW5nbGUgPSAoMiAqIE1hdGguUEkgKiBpKSAvIG47XHJcbiAgICAgIGNvbnN0IGFnZW50ID0gYWdlbnRDb25zdHJ1Y3RvcihcclxuICAgICAgICBpLFxyXG4gICAgICAgIG5ldyBWZWN0b3IyZihcclxuICAgICAgICAgIGNlbnRyZVggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSksXHJcbiAgICAgICAgICBjZW50cmVZICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpXHJcbiAgICAgICAgKSxcclxuICAgICAgICBuZXcgVmVjdG9yMmYoXHJcbiAgICAgICAgICBjZW50cmVYICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGUgKyBNYXRoLlBJKSxcclxuICAgICAgICAgIGNlbnRyZVkgKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSArIE1hdGguUEkpXHJcbiAgICAgICAgKSxcclxuICAgICAgICAyMFxyXG4gICAgICApO1xyXG4gICAgICBhZ2VudHMucHVzaChhZ2VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgYWdlbnRzOiBhZ2VudHMgfSBhcyBJQ29uZmlndXJhdGlvbjtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBHcmlkVG9HcmlkKFxyXG4gICAgbjogbnVtYmVyLFxyXG4gICAgd2lkdGg6IG51bWJlcixcclxuICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgYWdlbnRDb25zdHJ1Y3RvcjogKFxyXG4gICAgICBpZDogbnVtYmVyLFxyXG4gICAgICBzdGFydFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgZ29hbFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgcmFkaXVzOiBudW1iZXJcclxuICAgICkgPT4gSUFnZW50XHJcbiAgKSB7XHJcbiAgICAvLyBUd28gb3Bwb3NpbmcgZ3JpZHMgb2YgYWdlbnRzIHBhc3NpbmcgdGhyb3VnaCBlYWNob3RoZXJcclxuICAgIGxldCBhZ2VudHM6IElBZ2VudFtdID0gW107XHJcbiAgICBsZXQgcm93cyA9IDQ7XHJcbiAgICBsZXQgY29scyA9IE1hdGguY2VpbChuIC8gKDIgKiByb3dzKSk7XHJcbiAgICBsZXQgc3BhY2luZyA9IDkwO1xyXG4gICAgbGV0IGxlZnQgPSA1MDtcclxuICAgIGxldCByaWdodCA9IHdpZHRoIC0gbGVmdCAtIHNwYWNpbmcgKiAoY29scyAtIDEpO1xyXG4gICAgbGV0IHRvcCA9IGhlaWdodCAvIDIgLSAoc3BhY2luZyAvIDIpICogKHJvd3MgLSAxKTtcclxuXHJcbiAgICBsZXQgaWQgPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2xzOyBpKyspIHtcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByb3dzOyBqKyspIHtcclxuICAgICAgICBsZXQgYSA9IG5ldyBWZWN0b3IyZihsZWZ0ICsgc3BhY2luZyAqIGksIHRvcCArIHNwYWNpbmcgKiBqKTtcclxuICAgICAgICBsZXQgYiA9IG5ldyBWZWN0b3IyZihyaWdodCArIHNwYWNpbmcgKiBpLCB0b3AgKyBzcGFjaW5nICogaik7XHJcblxyXG4gICAgICAgIC8vIExlZnQgZ3JpZFxyXG4gICAgICAgIGFnZW50cy5wdXNoKGFnZW50Q29uc3RydWN0b3IoaWQsIGEsIGIsIDIwKSk7XHJcbiAgICAgICAgaWQrKztcclxuICAgICAgICBpZiAoaWQgPj0gbikge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSaWdodCBncmlkXHJcbiAgICAgICAgYWdlbnRzLnB1c2goYWdlbnRDb25zdHJ1Y3RvcihpZCwgYiwgYSwgMjApKTtcclxuICAgICAgICBpZCsrO1xyXG5cclxuICAgICAgICBpZiAoaWQgPj0gbikge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChpZCA+PSBuKSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBhZ2VudHM6IGFnZW50cyB9IGFzIElDb25maWd1cmF0aW9uO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzdGF0aWMgcG9pc3NvbkRpc2tTYW1wbGUoXHJcbiAgICB4UmFuZ2U6IG51bWJlcixcclxuICAgIHlSYW5nZTogbnVtYmVyLFxyXG4gICAgbjogbnVtYmVyLFxyXG4gICAgdGhyZXNob2xkOiBudW1iZXJcclxuICApOiBWZWN0b3IyZltdIHtcclxuICAgIGxldCBzYW1wbGVzOiBWZWN0b3IyZltdID0gW107XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuICAgICAgbGV0IHJlc2FtcGxlID0gdHJ1ZTtcclxuICAgICAgbGV0IHBvczogVmVjdG9yMmY7XHJcblxyXG4gICAgICB3aGlsZSAocmVzYW1wbGUpIHtcclxuICAgICAgICByZXNhbXBsZSA9IGZhbHNlO1xyXG4gICAgICAgIHBvcyA9IG5ldyBWZWN0b3IyZih4UmFuZ2UgKiBNYXRoLnJhbmRvbSgpLCB5UmFuZ2UgKiBNYXRoLnJhbmRvbSgpKTtcclxuXHJcbiAgICAgICAgc2FtcGxlcy5mb3JFYWNoKChzYW1wbGUpID0+IHtcclxuICAgICAgICAgIGlmIChwb3Muc3VidHJhY3Qoc2FtcGxlKS5tYWduaXR1ZGVTcXJkKCkgPCB0aHJlc2hvbGQgKiogMikge1xyXG4gICAgICAgICAgICByZXNhbXBsZSA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNhbXBsZXMucHVzaChwb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzYW1wbGVzO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJQWdlbnRDb2xsZWN0aW9uIH0gZnJvbSBcIi4vSUFnZW50Q29sbGVjdGlvblwiO1xyXG5pbXBvcnQgeyBJQWdlbnQgfSBmcm9tIFwiLi9JQWdlbnRcIjtcclxuXHJcbmludGVyZmFjZSBOb2RlIHtcclxuICBhZ2VudDogSUFnZW50O1xyXG4gIGxlZnQ6IE5vZGU7XHJcbiAgcmlnaHQ6IE5vZGU7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBZ2VudFRyZWUgaW1wbGVtZW50cyBJQWdlbnRDb2xsZWN0aW9uIHtcclxuICBwcml2YXRlIF9hZ2VudHM6IElBZ2VudFtdO1xyXG4gIHByaXZhdGUgX3Jvb3Q6IE5vZGU7XHJcblxyXG4gIGluaXQoYWdlbnRzOiBJQWdlbnRbXSk6IHZvaWQge1xyXG4gICAgdGhpcy5fYWdlbnRzID0gYWdlbnRzO1xyXG4gICAgdGhpcy5fcm9vdCA9IHRoaXMuY29uc3RydWN0VHJlZSh0aGlzLl9hZ2VudHMsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgZ2V0QWxsKCk6IElBZ2VudFtdIHtcclxuICAgIHJldHVybiB0aGlzLl9hZ2VudHM7XHJcbiAgfVxyXG5cclxuICBnZXROZWlnaGJvdXJzSW5SYW5nZVJlY3RpbGluZWFyKGFnZW50OiBJQWdlbnQsIHJhbmdlOiBudW1iZXIpOiBJQWdlbnRbXSB7XHJcbiAgICBsZXQgbWluWCA9IGFnZW50LmdldFBvc2l0aW9uKCkueCAtIHJhbmdlO1xyXG4gICAgbGV0IG1pblkgPSBhZ2VudC5nZXRQb3NpdGlvbigpLnkgLSByYW5nZTtcclxuICAgIGxldCBtYXhYID0gYWdlbnQuZ2V0UG9zaXRpb24oKS54ICsgcmFuZ2U7XHJcbiAgICBsZXQgbWF4WSA9IGFnZW50LmdldFBvc2l0aW9uKCkueSArIHJhbmdlO1xyXG5cclxuICAgIGxldCBjYW5kaWRhdGVzID0gdGhpcy5yYW5nZVNlYXJjaCh0aGlzLl9yb290LCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB0cnVlKTtcclxuICAgIHJldHVybiBjYW5kaWRhdGVzLmZpbHRlcigob3RoZXIpID0+IG90aGVyLklkICE9PSBhZ2VudC5JZCk7XHJcbiAgfVxyXG5cclxuICBnZXROZWlnaGJvdXJzSW5SYW5nZUV1Y2xpZGVhbihhZ2VudDogSUFnZW50LCByYW5nZTogbnVtYmVyKTogSUFnZW50W10ge1xyXG4gICAgbGV0IGNhbmRpZGF0ZXMgPSB0aGlzLmdldE5laWdoYm91cnNJblJhbmdlUmVjdGlsaW5lYXIoYWdlbnQsIHJhbmdlKTtcclxuICAgIHJldHVybiBjYW5kaWRhdGVzLmZpbHRlcihcclxuICAgICAgKG90aGVyKSA9PlxyXG4gICAgICAgIGFnZW50LmdldFBvc2l0aW9uKCkuc3VidHJhY3Qob3RoZXIuZ2V0UG9zaXRpb24oKSkubWFnbml0dWRlU3FyZCgpIDw9XHJcbiAgICAgICAgcmFuZ2UgKiogMlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGZvckVhY2goZnVuOiAoYWdlbnQ6IElBZ2VudCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgdGhpcy5fYWdlbnRzLmZvckVhY2goZnVuKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY29uc3RydWN0VHJlZShhZ2VudHM6IElBZ2VudFtdLCB4QXhpczogYm9vbGVhbik6IE5vZGUge1xyXG4gICAgaWYgKGFnZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG1pZCA9IE1hdGguZmxvb3IoYWdlbnRzLmxlbmd0aCAvIDIpO1xyXG5cclxuICAgIGxldCBzb3J0ZWQgPSB4QXhpc1xyXG4gICAgICA/IGFnZW50cy5zb3J0KChhLCBiKSA9PiBhLmdldFBvc2l0aW9uKCkueCAtIGIuZ2V0UG9zaXRpb24oKS54KVxyXG4gICAgICA6IGFnZW50cy5zb3J0KChhLCBiKSA9PiBhLmdldFBvc2l0aW9uKCkueSAtIGIuZ2V0UG9zaXRpb24oKS55KTtcclxuXHJcbiAgICBsZXQgbGVmdCA9IHRoaXMuY29uc3RydWN0VHJlZShzb3J0ZWQuc2xpY2UoMCwgbWlkKSwgIXhBeGlzKTtcclxuICAgIGxldCByaWdodCA9IHRoaXMuY29uc3RydWN0VHJlZShcclxuICAgICAgc29ydGVkLnNsaWNlKG1pZCArIDEsIGFnZW50cy5sZW5ndGgpLFxyXG4gICAgICAheEF4aXNcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIHsgYWdlbnQ6IGFnZW50c1ttaWRdLCBsZWZ0OiBsZWZ0LCByaWdodDogcmlnaHQgfTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmFuZ2VTZWFyY2goXHJcbiAgICByb290OiBOb2RlLFxyXG4gICAgbWluWDogbnVtYmVyLFxyXG4gICAgbWluWTogbnVtYmVyLFxyXG4gICAgbWF4WDogbnVtYmVyLFxyXG4gICAgbWF4WTogbnVtYmVyLFxyXG4gICAgeEF4aXM6IGJvb2xlYW5cclxuICApOiBJQWdlbnRbXSB7XHJcbiAgICBpZiAocm9vdCA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcmVzOiBJQWdlbnRbXSA9IFtdO1xyXG4gICAgaWYgKHhBeGlzKSB7XHJcbiAgICAgIC8vIElmIHggPD0gbWF4WCBuZWVkIHRvIGNoZWNrIHJpZ2h0IHN1YnRyZWVcclxuICAgICAgaWYgKHJvb3QuYWdlbnQuZ2V0UG9zaXRpb24oKS54IDw9IG1heFgpIHtcclxuICAgICAgICByZXMgPSByZXMuY29uY2F0KFxyXG4gICAgICAgICAgdGhpcy5yYW5nZVNlYXJjaChyb290LnJpZ2h0LCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCAheEF4aXMpXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgeCA+PSBtaW5YIG5lZWQgdG8gY2hlY2sgbGVmdCBzdWJ0cmVlXHJcbiAgICAgIGlmIChyb290LmFnZW50LmdldFBvc2l0aW9uKCkueCA+PSBtaW5YKSB7XHJcbiAgICAgICAgcmVzID0gcmVzLmNvbmNhdChcclxuICAgICAgICAgIHRoaXMucmFuZ2VTZWFyY2gocm9vdC5sZWZ0LCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCAheEF4aXMpXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gSWYgeSA8PSBtYXhZIG5lZWQgdG8gY2hlY2sgcmlnaHQgc3VidHJlZVxyXG4gICAgICBpZiAocm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnkgPD0gbWF4WSkge1xyXG4gICAgICAgIHJlcyA9IHJlcy5jb25jYXQoXHJcbiAgICAgICAgICB0aGlzLnJhbmdlU2VhcmNoKHJvb3QucmlnaHQsIG1pblgsIG1pblksIG1heFgsIG1heFksICF4QXhpcylcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiB5ID49IG1pblkgbmVlZCB0byBjaGVjayBsZWZ0IHN1YnRyZWVcclxuICAgICAgaWYgKHJvb3QuYWdlbnQuZ2V0UG9zaXRpb24oKS55ID49IG1pblkpIHtcclxuICAgICAgICByZXMgPSByZXMuY29uY2F0KFxyXG4gICAgICAgICAgdGhpcy5yYW5nZVNlYXJjaChyb290LmxlZnQsIG1pblgsIG1pblksIG1heFgsIG1heFksICF4QXhpcylcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdGhlIGFnZW50IGlzIGluIHJhbmdlIHJhbmdlIGFkZCB0byB0aGUgcmVzdWx0XHJcbiAgICBpZiAoXHJcbiAgICAgIHJvb3QuYWdlbnQuZ2V0UG9zaXRpb24oKS54ID49IG1pblggJiZcclxuICAgICAgcm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnkgPj0gbWluWSAmJlxyXG4gICAgICByb290LmFnZW50LmdldFBvc2l0aW9uKCkueCA8PSBtYXhYICYmXHJcbiAgICAgIHJvb3QuYWdlbnQuZ2V0UG9zaXRpb24oKS55IDw9IG1heFlcclxuICAgICkge1xyXG4gICAgICByZXMucHVzaChyb290LmFnZW50KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJQWdlbnQgfSBmcm9tIFwiLi9JQWdlbnRcIjtcclxuaW1wb3J0IHsgVmVjdG9yMmYgfSBmcm9tIFwiLi9WZWN0b3IyZlwiO1xyXG5cclxuaW50ZXJmYWNlIFZlbG9jaXR5T2JzdGFjbGUge1xyXG4gIC8vIFZlbG9jaXR5IG9iamVjdCBkZWZpbmVkIGJ5IGEgcG9pbnQgYW5kIHR3byBkaXJlY3Rpb24gdmVjdG9yc1xyXG4gIHZlcnRleDogVmVjdG9yMmY7XHJcbiAgdGFuZ2VudDE6IFZlY3RvcjJmO1xyXG4gIHRhbmdlbnQyOiBWZWN0b3IyZjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFZPQWdlbnQgaW1wbGVtZW50cyBJQWdlbnQge1xyXG4gIFJhZGl1czogbnVtYmVyO1xyXG4gIElkOiBudW1iZXI7XHJcblxyXG4gIE1BWF9WRUxPQ0lUWSA9IDEuMDtcclxuICBNQVhfQUNDRUxFUkFUSU9OID0gMC41O1xyXG5cclxuICBwcml2YXRlIF9wb3NpdGlvbjogVmVjdG9yMmY7XHJcbiAgcHJpdmF0ZSBfZ29hbFBvc2l0aW9uOiBWZWN0b3IyZjtcclxuICBwcml2YXRlIF9kaXJlY3Rpb246IFZlY3RvcjJmO1xyXG5cclxuICBwcml2YXRlIF9pc0RvbmU6IGJvb2xlYW47XHJcbiAgcHJpdmF0ZSBfaXNTdHVjazogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBpZDogbnVtYmVyLFxyXG4gICAgc3RhcnRQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgcmFkaXVzOiBudW1iZXJcclxuICApIHtcclxuICAgIHRoaXMuSWQgPSBpZDtcclxuICAgIHRoaXMuX3Bvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcclxuICAgIHRoaXMuX2dvYWxQb3NpdGlvbiA9IGdvYWxQb3NpdGlvbjtcclxuICAgIHRoaXMuUmFkaXVzID0gcmFkaXVzO1xyXG4gICAgdGhpcy5fZGlyZWN0aW9uID0gbmV3IFZlY3RvcjJmKDAsIDApO1xyXG5cclxuICAgIHRoaXMuX2lzRG9uZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5faXNTdHVjayA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24oKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGlyZWN0aW9uKCk6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiB0aGlzLl9kaXJlY3Rpb247XHJcbiAgfVxyXG5cclxuICBnZXRJc0RvbmUoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNEb25lO1xyXG4gIH1cclxuXHJcbiAgZ2V0SXNTdHVjaygpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc1N0dWNrO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKGRlbHRhVDogbnVtYmVyLCBuZWlnaGJvdXJzOiBJQWdlbnRbXSk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuX2lzRG9uZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5faXNTdHVjayA9IGZhbHNlO1xyXG4gICAgbGV0IHNwZWVkID0gMC41O1xyXG4gICAgbGV0IHByZWZlcnJlZFZlbG9jaXR5ID0gdGhpcy5nZXRQcmVmZXJyZWRWZWxvY2l0eShzcGVlZCk7XHJcblxyXG4gICAgbGV0IHNhZmUgPSB0cnVlO1xyXG4gICAgbGV0IGNvbGxpc2lvbjtcclxuICAgIGxldCBhZ2VudDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgdmVsb2NpdHlPYnN0YWNsZSA9IHRoaXMuZ2V0VmVsb2NpdHlPYnN0YWNsZShuZWlnaGJvdXJzW2ldKTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHZlbG9jaXR5T2JzdGFjbGUgIT0gbnVsbCAmJlxyXG4gICAgICAgIHRoaXMuaXNJbnNpZGUocHJlZmVycmVkVmVsb2NpdHksIHZlbG9jaXR5T2JzdGFjbGUpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHNhZmUgPSBmYWxzZTtcclxuICAgICAgICBjb2xsaXNpb24gPSB2ZWxvY2l0eU9ic3RhY2xlO1xyXG4gICAgICAgIGFnZW50ID0gaTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHByZWZlcnJlZCB2ZWxvY2l0eSBpcyBzYWZlLCBnbyBpbiB0aGF0IGRpcmVjdGlvblxyXG4gICAgaWYgKHNhZmUpIHtcclxuICAgICAgdGhpcy5fZGlyZWN0aW9uID0gcHJlZmVycmVkVmVsb2NpdHk7XHJcbiAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKHByZWZlcnJlZFZlbG9jaXR5KTtcclxuICAgICAgdGhpcy5jaGVja0lmRG9uZSgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNvbGxpc2lvbiAhPSBudWxsKSB7XHJcbiAgICAgIC8vIEVsc2UsIGNvbnNpZGVyIGNsb3Nlc3QgcG9pbnQgb24gZmlyc3QgaGFsZi1wbGFuZVxyXG4gICAgICBsZXQgaGFsZnBsYW5lMSA9IHRoaXMuZ2V0Q2xvc2VzdFBvaW50T25MaW5lKFxyXG4gICAgICAgIGNvbGxpc2lvbi52ZXJ0ZXgsXHJcbiAgICAgICAgY29sbGlzaW9uLnRhbmdlbnQxLFxyXG4gICAgICAgIHByZWZlcnJlZFZlbG9jaXR5XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoaGFsZnBsYW5lMS5tYWduaXR1ZGUoKSA8PSBzcGVlZCkge1xyXG4gICAgICAgIHNhZmUgPSB0cnVlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGkgIT0gYWdlbnQpIHtcclxuICAgICAgICAgICAgbGV0IHZlbG9jaXR5T2JzdGFjbGUgPSB0aGlzLmdldFZlbG9jaXR5T2JzdGFjbGUobmVpZ2hib3Vyc1tpXSk7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICB2ZWxvY2l0eU9ic3RhY2xlICE9IG51bGwgJiZcclxuICAgICAgICAgICAgICB0aGlzLmlzSW5zaWRlKGhhbGZwbGFuZTEsIHZlbG9jaXR5T2JzdGFjbGUpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIHNhZmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNhZmUpIHtcclxuICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGhhbGZwbGFuZTE7XHJcbiAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChoYWxmcGxhbmUxKTtcclxuICAgICAgICAgIHRoaXMuY2hlY2tJZkRvbmUoKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEVsc2UsIGNvbnNpZGVyIGNsb3Nlc3QgcG9pbnQgb24gc2Vjb25kIGhhbGYtcGxhbmVcclxuICAgICAgbGV0IGhhbGZQbGFuZTIgPSB0aGlzLmdldENsb3Nlc3RQb2ludE9uTGluZShcclxuICAgICAgICBjb2xsaXNpb24udmVydGV4LFxyXG4gICAgICAgIGNvbGxpc2lvbi50YW5nZW50MixcclxuICAgICAgICBwcmVmZXJyZWRWZWxvY2l0eVxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKGhhbGZwbGFuZTEubWFnbml0dWRlKCkgPD0gc3BlZWQpIHtcclxuICAgICAgICBzYWZlID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChpICE9IGFnZW50KSB7XHJcbiAgICAgICAgICAgIGxldCB2ZWxvY2l0eU9ic3RhY2xlID0gdGhpcy5nZXRWZWxvY2l0eU9ic3RhY2xlKG5laWdoYm91cnNbaV0pO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgdmVsb2NpdHlPYnN0YWNsZSAhPSBudWxsICYmXHJcbiAgICAgICAgICAgICAgdGhpcy5pc0luc2lkZShoYWxmUGxhbmUyLCB2ZWxvY2l0eU9ic3RhY2xlKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICBzYWZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzYWZlKSB7XHJcbiAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBoYWxmUGxhbmUyO1xyXG4gICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQoaGFsZlBsYW5lMik7XHJcbiAgICAgICAgICB0aGlzLmNoZWNrSWZEb25lKCk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRWxzZSwgc2FtcGxlIHJhbmRvbSB2ZWxvY2l0aWVzIGFuZCBzZWxlY3QgdGhlIG9uZSB3aXRoIHRoZSBsZWFzdCBwZW5hbHR5XHJcbiAgICBsZXQgc2FtcGxlcyA9IDEwMDsgLy8gbnVtYmVyIG9mIHZlbG9jaXRpZXMgdG8gdHJ5XHJcbiAgICBsZXQgdyA9IDEwMDsgLy8gcGFyYW1ldGVyIGZvciBwZW5hbHR5XHJcbiAgICBsZXQgbWluUGVuYWx0eSA9IEluZmluaXR5O1xyXG4gICAgbGV0IGJlc3RWZWxvY2l0eSA9IG5ldyBWZWN0b3IyZigwLCAwKTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNhbXBsZXM7IGkrKykge1xyXG4gICAgICAvLyBTYW1wbGUgdmVsb2NpdHkgZnJvbSBlbnRpcmUgYWxsb3dlZCB2ZWxvY2l0eSBzcGFjZVxyXG4gICAgICBsZXQgc2FtcGxlID0gbmV3IFZlY3RvcjJmKDAsIDApLnNhbXBsZShzcGVlZCk7XHJcbiAgICAgIGxldCBtaW5UaW1lVG9Db2xsaXNpb24gPSBJbmZpbml0eTtcclxuXHJcbiAgICAgIC8vIEZpbmQgdGltZSB0byBmaXJzdCBjb2xsaXNpb25cclxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuZWlnaGJvdXJzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgbGV0IGIgPSBuZWlnaGJvdXJzW2pdO1xyXG4gICAgICAgIGxldCB2ZWxvY2l0eU9ic3RhY2xlID0gdGhpcy5nZXRWZWxvY2l0eU9ic3RhY2xlKGIpO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHZlbG9jaXR5T2JzdGFjbGUgPT0gbnVsbCB8fFxyXG4gICAgICAgICAgdGhpcy5pc0luc2lkZShzYW1wbGUsIHZlbG9jaXR5T2JzdGFjbGUpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBsZXQgdGltZVRvQ29sbGlzaW9uID0gdGhpcy5nZXRGaXJzdFJheUNpcmNsZUludGVyc2VjdGlvbihcclxuICAgICAgICAgICAgYi5nZXRQb3NpdGlvbigpLmFkZChiLmdldERpcmVjdGlvbigpKSxcclxuICAgICAgICAgICAgdGhpcy5SYWRpdXMgKyBiLlJhZGl1cyxcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24sXHJcbiAgICAgICAgICAgIHNhbXBsZS5zdWJ0cmFjdChiLmdldERpcmVjdGlvbigpKVxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBpZiAodGltZVRvQ29sbGlzaW9uIDwgbWluVGltZVRvQ29sbGlzaW9uKSB7XHJcbiAgICAgICAgICAgIG1pblRpbWVUb0NvbGxpc2lvbiA9IHRpbWVUb0NvbGxpc2lvbjtcclxuICAgICAgICAgICAgaWYgKG1pblRpbWVUb0NvbGxpc2lvbiA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5jaGVja0lmRG9uZSgpO1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2FsY3VsYXRlIHBlbmFsdHlcclxuICAgICAgbGV0IHBlbmFsdHkgPVxyXG4gICAgICAgIHcgLyBtaW5UaW1lVG9Db2xsaXNpb24gKyBwcmVmZXJyZWRWZWxvY2l0eS5zdWJ0cmFjdChzYW1wbGUpLm1hZ25pdHVkZSgpOyAvLyBUUyBjb3JyZWN0bHkgaGFuZGxlcyBkaXZpZGUgYnkgemVybyBvciBpbmZpbml0eVxyXG4gICAgICBpZiAocGVuYWx0eSA8IG1pblBlbmFsdHkpIHtcclxuICAgICAgICBtaW5QZW5hbHR5ID0gcGVuYWx0eTtcclxuICAgICAgICBiZXN0VmVsb2NpdHkgPSBzYW1wbGU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoYmVzdFZlbG9jaXR5Lm1hZ25pdHVkZSgpID09IDApIHtcclxuICAgICAgdGhpcy5faXNTdHVjayA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZGlyZWN0aW9uID0gYmVzdFZlbG9jaXR5O1xyXG4gICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQoYmVzdFZlbG9jaXR5KTtcclxuICAgIHRoaXMuY2hlY2tJZkRvbmUoKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0UHJlZmVycmVkVmVsb2NpdHkobWF4U3BlZWQ6IG51bWJlcik6IFZlY3RvcjJmIHtcclxuICAgIGxldCBnb2FsRGlyZWN0aW9uID0gdGhpcy5fZ29hbFBvc2l0aW9uLnN1YnRyYWN0KHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgIGxldCBnb2FsRGlzdGFuY2UgPSBnb2FsRGlyZWN0aW9uLm1hZ25pdHVkZSgpO1xyXG5cclxuICAgIGlmIChnb2FsRGlzdGFuY2UgPiBtYXhTcGVlZCkge1xyXG4gICAgICByZXR1cm4gZ29hbERpcmVjdGlvbi5kaXZpZGUoZ29hbERpc3RhbmNlIC8gbWF4U3BlZWQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdvYWxEaXJlY3Rpb247XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFZlbG9jaXR5T2JzdGFjbGUoYjogSUFnZW50KTogVmVsb2NpdHlPYnN0YWNsZSB8IG51bGwge1xyXG4gICAgbGV0IHZlbG9jaXR5QiA9IGIuZ2V0RGlyZWN0aW9uKCk7XHJcblxyXG4gICAgLy8gVHJhbnNsYXRlIG9yaWdpbiB0byB0aGlzIGFnZW50J3MgcG9zaXRpb25cclxuICAgIGxldCBwb3NpdGlvbkIgPSBiLmdldFBvc2l0aW9uKCkuc3VidHJhY3QodGhpcy5fcG9zaXRpb24pO1xyXG5cclxuICAgIC8vIEZpbmQgTWlua293c2tpIHN1bSBvZiBhZ2VudHNcclxuICAgIGxldCBjZW50cmUgPSBwb3NpdGlvbkIuYWRkKHZlbG9jaXR5Qik7XHJcbiAgICBsZXQgcmFkaXVzID0gYi5SYWRpdXMgKyB0aGlzLlJhZGl1cztcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgYW5nbGVzXHJcbiAgICBsZXQgZGlmZiA9IHZlbG9jaXR5Qi5zdWJ0cmFjdChjZW50cmUpO1xyXG4gICAgbGV0IGRpc3QgPSBkaWZmLm1hZ25pdHVkZSgpO1xyXG4gICAgaWYgKGRpc3QgPCByYWRpdXMpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHRoZXRhID0gTWF0aC5hY29zKHJhZGl1cyAvIGRpc3QpO1xyXG4gICAgbGV0IHBoaSA9IE1hdGguYXRhbjIoZGlmZi55LCBkaWZmLngpO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSB0YW5nZW50IHZlY3RvcnNcclxuICAgIGxldCBhbmdsZTEgPSBwaGkgKyB0aGV0YTtcclxuICAgIGxldCB0YW5nZW50MSA9IG5ldyBWZWN0b3IyZihcclxuICAgICAgY2VudHJlLnggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZTEpLFxyXG4gICAgICBjZW50cmUueSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlMSlcclxuICAgICk7XHJcblxyXG4gICAgbGV0IGFuZ2xlMiA9IHBoaSAtIHRoZXRhO1xyXG4gICAgbGV0IHRhbmdlbnQyID0gbmV3IFZlY3RvcjJmKFxyXG4gICAgICBjZW50cmUueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlMiksXHJcbiAgICAgIGNlbnRyZS55ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUyKVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBSZXR1cm4gdmVsb2NpdHkgb2JzdGFjbGVcclxuICAgIHJldHVybiB7IHZlcnRleDogdmVsb2NpdHlCLCB0YW5nZW50MTogdGFuZ2VudDEsIHRhbmdlbnQyOiB0YW5nZW50MiB9O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpc0luc2lkZShcclxuICAgIHZlbG9jaXR5OiBWZWN0b3IyZixcclxuICAgIHZlbG9jaXR5T2JzdGFjbGU6IFZlbG9jaXR5T2JzdGFjbGVcclxuICApOiBib29sZWFuIHtcclxuICAgIC8vIEZpcnN0IGhhbGYtcGxhbmVcclxuICAgIGxldCBkZXRlcm1pbmFudDEgPVxyXG4gICAgICAodmVsb2NpdHlPYnN0YWNsZS50YW5nZW50MS54IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueCkgKlxyXG4gICAgICAgICh2ZWxvY2l0eS55IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueSkgLVxyXG4gICAgICAodmVsb2NpdHlPYnN0YWNsZS50YW5nZW50MS55IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueSkgKlxyXG4gICAgICAgICh2ZWxvY2l0eS54IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueCk7XHJcblxyXG4gICAgLy8gU2Vjb25kIGhhbGYtcGxhbmVcclxuICAgIGxldCBkZXRlcm1pbmFudDIgPVxyXG4gICAgICAodmVsb2NpdHlPYnN0YWNsZS50YW5nZW50Mi54IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueCkgKlxyXG4gICAgICAgICh2ZWxvY2l0eS55IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueSkgLVxyXG4gICAgICAodmVsb2NpdHlPYnN0YWNsZS50YW5nZW50Mi55IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueSkgKlxyXG4gICAgICAgICh2ZWxvY2l0eS54IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueCk7XHJcblxyXG4gICAgcmV0dXJuIGRldGVybWluYW50MSA+IDAgJiYgZGV0ZXJtaW5hbnQyIDwgMDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0Q2xvc2VzdFBvaW50T25MaW5lKFxyXG4gICAgbGluZVBvaW50OiBWZWN0b3IyZixcclxuICAgIGxpbmVEaXJlY3Rpb246IFZlY3RvcjJmLFxyXG4gICAgcG9pbnQ6IFZlY3RvcjJmXHJcbiAgKTogVmVjdG9yMmYge1xyXG4gICAgbGV0IGRpcmVjdGlvbiA9IGxpbmVEaXJlY3Rpb24ubm9ybWFsaXNlKCk7XHJcbiAgICBsZXQgdmVjdG9yID0gcG9pbnQuc3VidHJhY3QobGluZVBvaW50KTtcclxuICAgIGxldCBkaXN0YW5jZSA9IHZlY3Rvci5kb3QoZGlyZWN0aW9uKTtcclxuICAgIHJldHVybiBsaW5lUG9pbnQuYWRkKGRpcmVjdGlvbi5tdWx0aXBseShkaXN0YW5jZSkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRGaXJzdFJheUNpcmNsZUludGVyc2VjdGlvbihcclxuICAgIGNlbnRyZTogVmVjdG9yMmYsXHJcbiAgICByYWRpdXM6IG51bWJlcixcclxuICAgIG9yaWdpbjogVmVjdG9yMmYsXHJcbiAgICBkaXJlY3Rpb246IFZlY3RvcjJmXHJcbiAgKTogbnVtYmVyIHtcclxuICAgIGxldCBkZWx0YSA9IG9yaWdpbi5zdWJ0cmFjdChjZW50cmUpO1xyXG5cclxuICAgIGxldCBhID0gZGlyZWN0aW9uLmRvdChkaXJlY3Rpb24pO1xyXG4gICAgbGV0IGIgPSAyICogZGlyZWN0aW9uLmRvdChkZWx0YSk7XHJcbiAgICBsZXQgYyA9IGRlbHRhLmRvdChkZWx0YSkgLSByYWRpdXMgKiogMjtcclxuXHJcbiAgICBsZXQgZGlzY3JpbSA9IGIgKiogMiAtIDQgKiBhICogYztcclxuXHJcbiAgICBpZiAoZGlzY3JpbSA8IDApIHtcclxuICAgICAgLy8gTm8gaW50ZXJzZWN0aW9uXHJcbiAgICAgIHJldHVybiBJbmZpbml0eTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZGlzdGFuY2UgPSAoKC1iIC0gTWF0aC5zcXJ0KGRpc2NyaW0pKSAvIDIpICogYTtcclxuXHJcbiAgICBpZiAoZGlzdGFuY2UgPCAwKSB7XHJcbiAgICAgIC8vIEludGVyc2VjdGlvbiBiZWhpbmRcclxuICAgICAgcmV0dXJuIEluZmluaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkaXN0YW5jZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tJZkRvbmUoKSB7XHJcbiAgICBsZXQgZmluaXNoVGhyZXNob2xkID0gMS4wO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgdGhpcy5fcG9zaXRpb24uc3VidHJhY3QodGhpcy5fZ29hbFBvc2l0aW9uKS5tYWduaXR1ZGVTcXJkKCkgPFxyXG4gICAgICBmaW5pc2hUaHJlc2hvbGRcclxuICAgICkge1xyXG4gICAgICB0aGlzLl9pc0RvbmUgPSB0cnVlO1xyXG4gICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX2dvYWxQb3NpdGlvbjtcclxuICAgICAgdGhpcy5fZGlyZWN0aW9uID0gbmV3IFZlY3RvcjJmKDAsIDApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJQWdlbnQgfSBmcm9tIFwiLi9JQWdlbnRcIjtcclxuaW1wb3J0IHsgVmVjdG9yMmYgfSBmcm9tIFwiLi9WZWN0b3IyZlwiO1xyXG5cclxuaW50ZXJmYWNlIFZlbG9jaXR5T2JzdGFjbGUge1xyXG4gIC8vIFZlbG9jaXR5IG9iamVjdCBkZWZpbmVkIGJ5IGEgcG9pbnQgYW5kIHR3byBkaXJlY3Rpb24gdmVjdG9yc1xyXG4gIHZlcnRleDogVmVjdG9yMmY7XHJcbiAgdGFuZ2VudDE6IFZlY3RvcjJmO1xyXG4gIHRhbmdlbnQyOiBWZWN0b3IyZjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJWT0FnZW50IGltcGxlbWVudHMgSUFnZW50IHtcclxuICBSYWRpdXM6IG51bWJlcjtcclxuICBJZDogbnVtYmVyO1xyXG5cclxuICBNQVhfVkVMT0NJVFkgPSAxLjA7XHJcbiAgTUFYX0FDQ0VMRVJBVElPTiA9IDAuNTtcclxuXHJcbiAgcHJpdmF0ZSBfcG9zaXRpb246IFZlY3RvcjJmO1xyXG4gIHByaXZhdGUgX2dvYWxQb3NpdGlvbjogVmVjdG9yMmY7XHJcbiAgcHJpdmF0ZSBfZGlyZWN0aW9uOiBWZWN0b3IyZjtcclxuXHJcbiAgcHJpdmF0ZSBfaXNEb25lOiBib29sZWFuO1xyXG4gIHByaXZhdGUgX2lzU3R1Y2s6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaWQ6IG51bWJlcixcclxuICAgIHN0YXJ0UG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgZ29hbFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgIHJhZGl1czogbnVtYmVyXHJcbiAgKSB7XHJcbiAgICB0aGlzLklkID0gaWQ7XHJcbiAgICB0aGlzLl9wb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XHJcbiAgICB0aGlzLl9nb2FsUG9zaXRpb24gPSBnb2FsUG9zaXRpb247XHJcbiAgICB0aGlzLlJhZGl1cyA9IHJhZGl1cztcclxuICAgIHRoaXMuX2RpcmVjdGlvbiA9IG5ldyBWZWN0b3IyZigwLCAwKTtcclxuXHJcbiAgICB0aGlzLl9pc0RvbmUgPSBmYWxzZTtcclxuICAgIHRoaXMuX2lzU3R1Y2sgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uKCk6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIGdldERpcmVjdGlvbigpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGlyZWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgZ2V0SXNEb25lKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzRG9uZTtcclxuICB9XHJcblxyXG4gIGdldElzU3R1Y2soKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNTdHVjaztcclxuICB9XHJcblxyXG4gIHVwZGF0ZShkZWx0YVQ6IG51bWJlciwgbmVpZ2hib3VyczogSUFnZW50W10pOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9pc0RvbmUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2lzU3R1Y2sgPSBmYWxzZTtcclxuICAgIGxldCBzcGVlZCA9IDAuNTtcclxuICAgIGxldCBwcmVmZXJyZWRWZWxvY2l0eSA9IHRoaXMuZ2V0UHJlZmVycmVkVmVsb2NpdHkoc3BlZWQpO1xyXG5cclxuICAgIGxldCBzYWZlID0gdHJ1ZTtcclxuICAgIGxldCBjb2xsaXNpb247XHJcbiAgICBsZXQgYWdlbnQ7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IHZlbG9jaXR5T2JzdGFjbGUgPSB0aGlzLmdldFJlY2lwcm9jYWxWZWxvY2l0eU9ic3RhY2xlKG5laWdoYm91cnNbaV0pO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdmVsb2NpdHlPYnN0YWNsZSAhPSBudWxsICYmXHJcbiAgICAgICAgdGhpcy5pc0luc2lkZShwcmVmZXJyZWRWZWxvY2l0eSwgdmVsb2NpdHlPYnN0YWNsZSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgc2FmZSA9IGZhbHNlO1xyXG4gICAgICAgIGNvbGxpc2lvbiA9IHZlbG9jaXR5T2JzdGFjbGU7XHJcbiAgICAgICAgYWdlbnQgPSBpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgcHJlZmVycmVkIHZlbG9jaXR5IGlzIHNhZmUsIGdvIGluIHRoYXQgZGlyZWN0aW9uXHJcbiAgICBpZiAoc2FmZSkge1xyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24gPSBwcmVmZXJyZWRWZWxvY2l0eTtcclxuICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQocHJlZmVycmVkVmVsb2NpdHkpO1xyXG4gICAgICB0aGlzLmNoZWNrSWZEb25lKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY29sbGlzaW9uICE9IG51bGwpIHtcclxuICAgICAgLy8gRWxzZSwgY29uc2lkZXIgY2xvc2VzdCBwb2ludCBvbiBmaXJzdCBoYWxmLXBsYW5lXHJcbiAgICAgIGxldCBoYWxmcGxhbmUxID0gdGhpcy5nZXRDbG9zZXN0UG9pbnRPbkxpbmUoXHJcbiAgICAgICAgY29sbGlzaW9uLnZlcnRleCxcclxuICAgICAgICBjb2xsaXNpb24udGFuZ2VudDEsXHJcbiAgICAgICAgcHJlZmVycmVkVmVsb2NpdHlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChoYWxmcGxhbmUxLm1hZ25pdHVkZSgpIDw9IHNwZWVkKSB7XHJcbiAgICAgICAgc2FmZSA9IHRydWU7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoaSAhPSBhZ2VudCkge1xyXG4gICAgICAgICAgICBsZXQgdmVsb2NpdHlPYnN0YWNsZSA9IHRoaXMuZ2V0UmVjaXByb2NhbFZlbG9jaXR5T2JzdGFjbGUoXHJcbiAgICAgICAgICAgICAgbmVpZ2hib3Vyc1tpXVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgdmVsb2NpdHlPYnN0YWNsZSAhPSBudWxsICYmXHJcbiAgICAgICAgICAgICAgdGhpcy5pc0luc2lkZShoYWxmcGxhbmUxLCB2ZWxvY2l0eU9ic3RhY2xlKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICBzYWZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzYWZlKSB7XHJcbiAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBoYWxmcGxhbmUxO1xyXG4gICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQoaGFsZnBsYW5lMSk7XHJcbiAgICAgICAgICB0aGlzLmNoZWNrSWZEb25lKCk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBFbHNlLCBjb25zaWRlciBjbG9zZXN0IHBvaW50IG9uIHNlY29uZCBoYWxmLXBsYW5lXHJcbiAgICAgIGxldCBoYWxmUGxhbmUyID0gdGhpcy5nZXRDbG9zZXN0UG9pbnRPbkxpbmUoXHJcbiAgICAgICAgY29sbGlzaW9uLnZlcnRleCxcclxuICAgICAgICBjb2xsaXNpb24udGFuZ2VudDIsXHJcbiAgICAgICAgcHJlZmVycmVkVmVsb2NpdHlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChoYWxmcGxhbmUxLm1hZ25pdHVkZSgpIDw9IHNwZWVkKSB7XHJcbiAgICAgICAgc2FmZSA9IHRydWU7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoaSAhPSBhZ2VudCkge1xyXG4gICAgICAgICAgICBsZXQgdmVsb2NpdHlPYnN0YWNsZSA9IHRoaXMuZ2V0UmVjaXByb2NhbFZlbG9jaXR5T2JzdGFjbGUoXHJcbiAgICAgICAgICAgICAgbmVpZ2hib3Vyc1tpXVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgdmVsb2NpdHlPYnN0YWNsZSAhPSBudWxsICYmXHJcbiAgICAgICAgICAgICAgdGhpcy5pc0luc2lkZShoYWxmUGxhbmUyLCB2ZWxvY2l0eU9ic3RhY2xlKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICBzYWZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzYWZlKSB7XHJcbiAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBoYWxmUGxhbmUyO1xyXG4gICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQoaGFsZlBsYW5lMik7XHJcbiAgICAgICAgICB0aGlzLmNoZWNrSWZEb25lKCk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRWxzZSwgc2FtcGxlIHJhbmRvbSB2ZWxvY2l0aWVzIGFuZCBzZWxlY3QgdGhlIG9uZSB3aXRoIHRoZSBsZWFzdCBwZW5hbHR5XHJcbiAgICBsZXQgc2FtcGxlcyA9IDEwMDsgLy8gbnVtYmVyIG9mIHZlbG9jaXRpZXMgdG8gdHJ5XHJcbiAgICBsZXQgdyA9IDEwMDsgLy8gcGFyYW1ldGVyIGZvciBwZW5hbHR5XHJcbiAgICBsZXQgbWluUGVuYWx0eSA9IEluZmluaXR5O1xyXG4gICAgbGV0IGJlc3RWZWxvY2l0eSA9IG5ldyBWZWN0b3IyZigwLCAwKTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNhbXBsZXM7IGkrKykge1xyXG4gICAgICAvLyBTYW1wbGUgdmVsb2NpdHkgZnJvbSBlbnRpcmUgYWxsb3dlZCB2ZWxvY2l0eSBzcGFjZVxyXG4gICAgICBsZXQgc2FtcGxlID0gbmV3IFZlY3RvcjJmKDAsIDApLnNhbXBsZShzcGVlZCk7XHJcbiAgICAgIGxldCBtaW5UaW1lVG9Db2xsaXNpb24gPSBJbmZpbml0eTtcclxuXHJcbiAgICAgIC8vIEZpbmQgdGltZSB0byBmaXJzdCBjb2xsaXNpb25cclxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuZWlnaGJvdXJzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgbGV0IGIgPSBuZWlnaGJvdXJzW2pdO1xyXG4gICAgICAgIGxldCB2ZWxvY2l0eU9ic3RhY2xlID0gdGhpcy5nZXRSZWNpcHJvY2FsVmVsb2NpdHlPYnN0YWNsZShiKTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICB2ZWxvY2l0eU9ic3RhY2xlICE9IG51bGwgJiZcclxuICAgICAgICAgIHRoaXMuaXNJbnNpZGUoc2FtcGxlLCB2ZWxvY2l0eU9ic3RhY2xlKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgbGV0IHRpbWVUb0NvbGxpc2lvbiA9IHRoaXMuZ2V0Rmlyc3RSYXlDaXJjbGVJbnRlcnNlY3Rpb24oXHJcbiAgICAgICAgICAgIGIuZ2V0UG9zaXRpb24oKS5hZGQoYi5nZXREaXJlY3Rpb24oKSksXHJcbiAgICAgICAgICAgIHRoaXMuUmFkaXVzICsgYi5SYWRpdXMsXHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uLFxyXG4gICAgICAgICAgICBzYW1wbGVcclxuICAgICAgICAgICAgICAubXVsdGlwbHkoMilcclxuICAgICAgICAgICAgICAuc3VidHJhY3QodGhpcy5nZXREaXJlY3Rpb24oKSlcclxuICAgICAgICAgICAgICAuc3VidHJhY3QoYi5nZXREaXJlY3Rpb24oKSlcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgaWYgKHRpbWVUb0NvbGxpc2lvbiA8IG1pblRpbWVUb0NvbGxpc2lvbikge1xyXG4gICAgICAgICAgICBtaW5UaW1lVG9Db2xsaXNpb24gPSB0aW1lVG9Db2xsaXNpb247XHJcbiAgICAgICAgICAgIGlmIChtaW5UaW1lVG9Db2xsaXNpb24gPT0gMCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuY2hlY2tJZkRvbmUoKTtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENhbGN1bGF0ZSBwZW5hbHR5XHJcbiAgICAgIGxldCBwZW5hbHR5ID1cclxuICAgICAgICB3IC8gbWluVGltZVRvQ29sbGlzaW9uICsgcHJlZmVycmVkVmVsb2NpdHkuc3VidHJhY3Qoc2FtcGxlKS5tYWduaXR1ZGUoKTsgLy8gVFMgY29ycmVjdGx5IGhhbmRsZXMgZGl2aWRlIGJ5IHplcm8gb3IgaW5maW5pdHlcclxuICAgICAgaWYgKHBlbmFsdHkgPCBtaW5QZW5hbHR5KSB7XHJcbiAgICAgICAgbWluUGVuYWx0eSA9IHBlbmFsdHk7XHJcbiAgICAgICAgYmVzdFZlbG9jaXR5ID0gc2FtcGxlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGJlc3RWZWxvY2l0eS5tYWduaXR1ZGUoKSA9PSAwKSB7XHJcbiAgICAgIHRoaXMuX2lzU3R1Y2sgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2RpcmVjdGlvbiA9IGJlc3RWZWxvY2l0eTtcclxuICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKGJlc3RWZWxvY2l0eSk7XHJcbiAgICB0aGlzLmNoZWNrSWZEb25lKCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFByZWZlcnJlZFZlbG9jaXR5KG1heFNwZWVkOiBudW1iZXIpOiBWZWN0b3IyZiB7XHJcbiAgICBsZXQgZ29hbERpcmVjdGlvbiA9IHRoaXMuX2dvYWxQb3NpdGlvbi5zdWJ0cmFjdCh0aGlzLl9wb3NpdGlvbik7XHJcbiAgICBsZXQgZ29hbERpc3RhbmNlID0gZ29hbERpcmVjdGlvbi5tYWduaXR1ZGUoKTtcclxuXHJcbiAgICBpZiAoZ29hbERpc3RhbmNlID4gbWF4U3BlZWQpIHtcclxuICAgICAgcmV0dXJuIGdvYWxEaXJlY3Rpb24uZGl2aWRlKGdvYWxEaXN0YW5jZSAvIG1heFNwZWVkKTtcclxuICAgIH1cclxuICAgIHJldHVybiBnb2FsRGlyZWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRSZWNpcHJvY2FsVmVsb2NpdHlPYnN0YWNsZShiOiBJQWdlbnQpOiBWZWxvY2l0eU9ic3RhY2xlIHwgbnVsbCB7XHJcbiAgICBsZXQgdmVsb2NpdHlBID0gdGhpcy5nZXREaXJlY3Rpb24oKTtcclxuICAgIGxldCB2ZWxvY2l0eUIgPSBiLmdldERpcmVjdGlvbigpO1xyXG4gICAgbGV0IHZlcnRleCA9IHZlbG9jaXR5QS5hZGQodmVsb2NpdHlCKS5kaXZpZGUoMik7XHJcblxyXG4gICAgLy8gVHJhbnNsYXRlIG9yaWdpbiB0byB0aGlzIGFnZW50J3MgcG9zaXRpb25cclxuICAgIGxldCBwb3NpdGlvbkIgPSBiLmdldFBvc2l0aW9uKCkuc3VidHJhY3QodGhpcy5fcG9zaXRpb24pO1xyXG5cclxuICAgIC8vIEZpbmQgTWlua293c2tpIHN1bSBvZiBhZ2VudHNcclxuICAgIGxldCBjZW50cmUgPSBwb3NpdGlvbkIuYWRkKHZlbG9jaXR5Qik7XHJcbiAgICBsZXQgcmFkaXVzID0gYi5SYWRpdXMgKyB0aGlzLlJhZGl1cztcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgYW5nbGVzXHJcbiAgICBsZXQgZGlmZiA9IHZlbG9jaXR5Qi5zdWJ0cmFjdChjZW50cmUpO1xyXG4gICAgbGV0IGRpc3QgPSBkaWZmLm1hZ25pdHVkZSgpO1xyXG4gICAgaWYgKGRpc3QgPCByYWRpdXMpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHRoZXRhID0gTWF0aC5hY29zKHJhZGl1cyAvIGRpc3QpO1xyXG4gICAgbGV0IHBoaSA9IE1hdGguYXRhbjIoZGlmZi55LCBkaWZmLngpO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSB0YW5nZW50IHZlY3RvcnNcclxuICAgIGxldCBhbmdsZTEgPSBwaGkgKyB0aGV0YTtcclxuICAgIGxldCB0YW5nZW50MSA9IG5ldyBWZWN0b3IyZihcclxuICAgICAgY2VudHJlLnggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZTEpLFxyXG4gICAgICBjZW50cmUueSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlMSlcclxuICAgICk7XHJcblxyXG4gICAgbGV0IGFuZ2xlMiA9IHBoaSAtIHRoZXRhO1xyXG4gICAgbGV0IHRhbmdlbnQyID0gbmV3IFZlY3RvcjJmKFxyXG4gICAgICBjZW50cmUueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlMiksXHJcbiAgICAgIGNlbnRyZS55ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUyKVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBSZXR1cm4gdmVsb2NpdHkgb2JzdGFjbGVcclxuICAgIHJldHVybiB7IHZlcnRleDogdmVydGV4LCB0YW5nZW50MTogdGFuZ2VudDEsIHRhbmdlbnQyOiB0YW5nZW50MiB9O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpc0luc2lkZShcclxuICAgIHZlbG9jaXR5OiBWZWN0b3IyZixcclxuICAgIHZlbG9jaXR5T2JzdGFjbGU6IFZlbG9jaXR5T2JzdGFjbGVcclxuICApOiBib29sZWFuIHtcclxuICAgIC8vIEZpcnN0IGhhbGYtcGxhbmVcclxuICAgIGxldCBkZXRlcm1pbmFudDEgPVxyXG4gICAgICAodmVsb2NpdHlPYnN0YWNsZS50YW5nZW50MS54IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueCkgKlxyXG4gICAgICAgICh2ZWxvY2l0eS55IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueSkgLVxyXG4gICAgICAodmVsb2NpdHlPYnN0YWNsZS50YW5nZW50MS55IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueSkgKlxyXG4gICAgICAgICh2ZWxvY2l0eS54IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueCk7XHJcblxyXG4gICAgLy8gU2Vjb25kIGhhbGYtcGxhbmVcclxuICAgIGxldCBkZXRlcm1pbmFudDIgPVxyXG4gICAgICAodmVsb2NpdHlPYnN0YWNsZS50YW5nZW50Mi54IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueCkgKlxyXG4gICAgICAgICh2ZWxvY2l0eS55IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueSkgLVxyXG4gICAgICAodmVsb2NpdHlPYnN0YWNsZS50YW5nZW50Mi55IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueSkgKlxyXG4gICAgICAgICh2ZWxvY2l0eS54IC0gdmVsb2NpdHlPYnN0YWNsZS52ZXJ0ZXgueCk7XHJcblxyXG4gICAgcmV0dXJuIGRldGVybWluYW50MSA+IDAgJiYgZGV0ZXJtaW5hbnQyIDwgMDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0Q2xvc2VzdFBvaW50T25MaW5lKFxyXG4gICAgbGluZVBvaW50OiBWZWN0b3IyZixcclxuICAgIGxpbmVEaXJlY3Rpb246IFZlY3RvcjJmLFxyXG4gICAgcG9pbnQ6IFZlY3RvcjJmXHJcbiAgKTogVmVjdG9yMmYge1xyXG4gICAgbGV0IGRpcmVjdGlvbiA9IGxpbmVEaXJlY3Rpb24ubm9ybWFsaXNlKCk7XHJcbiAgICBsZXQgdmVjdG9yID0gcG9pbnQuc3VidHJhY3QobGluZVBvaW50KTtcclxuICAgIGxldCBkaXN0YW5jZSA9IHZlY3Rvci5kb3QoZGlyZWN0aW9uKTtcclxuICAgIHJldHVybiBsaW5lUG9pbnQuYWRkKGRpcmVjdGlvbi5tdWx0aXBseShkaXN0YW5jZSkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRGaXJzdFJheUNpcmNsZUludGVyc2VjdGlvbihcclxuICAgIGNlbnRyZTogVmVjdG9yMmYsXHJcbiAgICByYWRpdXM6IG51bWJlcixcclxuICAgIG9yaWdpbjogVmVjdG9yMmYsXHJcbiAgICBkaXJlY3Rpb246IFZlY3RvcjJmXHJcbiAgKTogbnVtYmVyIHtcclxuICAgIGxldCBkZWx0YSA9IG9yaWdpbi5zdWJ0cmFjdChjZW50cmUpO1xyXG5cclxuICAgIGxldCBhID0gZGlyZWN0aW9uLmRvdChkaXJlY3Rpb24pO1xyXG4gICAgbGV0IGIgPSAyICogZGlyZWN0aW9uLmRvdChkZWx0YSk7XHJcbiAgICBsZXQgYyA9IGRlbHRhLmRvdChkZWx0YSkgLSByYWRpdXMgKiogMjtcclxuXHJcbiAgICBsZXQgZGlzY3JpbSA9IGIgKiogMiAtIDQgKiBhICogYztcclxuXHJcbiAgICBpZiAoZGlzY3JpbSA8IDApIHtcclxuICAgICAgLy8gTm8gaW50ZXJzZWN0aW9uXHJcbiAgICAgIHJldHVybiBJbmZpbml0eTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZGlzdGFuY2UgPSAoKC1iIC0gTWF0aC5zcXJ0KGRpc2NyaW0pKSAvIDIpICogYTtcclxuXHJcbiAgICBpZiAoZGlzdGFuY2UgPCAwKSB7XHJcbiAgICAgIC8vIEludGVyc2VjdGlvbiBiZWhpbmRcclxuICAgICAgcmV0dXJuIEluZmluaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkaXN0YW5jZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tJZkRvbmUoKSB7XHJcbiAgICBsZXQgZmluaXNoVGhyZXNob2xkID0gMS4wO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgdGhpcy5fcG9zaXRpb24uc3VidHJhY3QodGhpcy5fZ29hbFBvc2l0aW9uKS5tYWduaXR1ZGVTcXJkKCkgPFxyXG4gICAgICBmaW5pc2hUaHJlc2hvbGRcclxuICAgICkge1xyXG4gICAgICB0aGlzLl9pc0RvbmUgPSB0cnVlO1xyXG4gICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX2dvYWxQb3NpdGlvbjtcclxuICAgICAgdGhpcy5fZGlyZWN0aW9uID0gbmV3IFZlY3RvcjJmKDAsIDApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBTaW11bGF0aW9uIH0gZnJvbSBcIi4vU2ltdWxhdGlvblwiO1xyXG5pbXBvcnQgeyBSZW5kZXJlcjNEIH0gZnJvbSBcIi4vUmVuZGVyZXIzRFwiO1xyXG5pbXBvcnQgeyBCYXNpY0FnZW50IH0gZnJvbSBcIi4vQmFzaWNBZ2VudFwiO1xyXG5pbXBvcnQgeyBTdG9wQWdlbnQgfSBmcm9tIFwiLi9TdG9wQWdlbnRcIjtcclxuaW1wb3J0IHsgQ29uZmlndXJhdGlvbnMgfSBmcm9tIFwiLi9Db25maWd1cmF0aW9uc1wiO1xyXG5pbXBvcnQgeyBBZ2VudFRyZWUgfSBmcm9tIFwiLi9BZ2VudFRyZWVcIjtcclxuaW1wb3J0IHsgVmVjdG9yMmYgfSBmcm9tIFwiLi9WZWN0b3IyZlwiO1xyXG5pbXBvcnQgeyBWT0FnZW50IH0gZnJvbSBcIi4vVk9BZ2VudFwiO1xyXG5pbXBvcnQgeyBSVk9BZ2VudCB9IGZyb20gXCIuL1JWT0FnZW50XCI7XHJcblxyXG5jb25zdCBjb25maWdTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmZpZ1wiKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuY29uc3QgYWdlbnRUeXBlU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgXCJhZ2VudFR5cGVcIlxyXG4pIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xyXG5jb25zdCBudW1iZXJPZkFnZW50c0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgXCJudW1iZXJPZkFnZW50c1wiXHJcbikgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5jb25zdCBmcmFtZXJhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZyYW1lcmF0ZVwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuY29uc3QgcGxheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheUJ1dHRvblwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuY29uc3Qgc3RlcEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RlcEJ1dHRvblwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHJcbmNvbnN0IHJlbmRlcmVyID0gbmV3IFJlbmRlcmVyM0QoY2FudmFzKTtcclxuY29uc3Qgc2ltdWxhdGlvbiA9IG5ldyBTaW11bGF0aW9uKHJlbmRlcmVyLCBuZXcgQWdlbnRUcmVlKCkpO1xyXG52YXIgcGxheSA9IGZhbHNlO1xyXG5cclxuLy8gaW5pdGlhbGlzZSBzaW11bGF0aW9uIGFuZCBiZWdpbiB1cGRhdGUvcmVuZGVyIGxvb3BcclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgdGhpcy5yZWNvbmZpZ3VyZSgpO1xyXG5cclxuICBsZXQgbGFzdFJlbmRlciA9IDA7XHJcbiAgbGV0IGxhc3RGUFMgPSAwO1xyXG4gIGxldCBmcmFtZXMgPSAwO1xyXG5cclxuICBmdW5jdGlvbiBsb29wKHRpbWVzdGFtcDogbnVtYmVyKSB7XHJcbiAgICBsZXQgZGVsdGFUID0gdGltZXN0YW1wIC0gbGFzdFJlbmRlcjtcclxuICAgIGxhc3RSZW5kZXIgPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgLy8gdXBkYXRlXHJcbiAgICBpZiAocGxheSkge1xyXG4gICAgICBzaW11bGF0aW9uLnVwZGF0ZShkZWx0YVQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJlbmRlclxyXG4gICAgc2ltdWxhdGlvbi5kcmF3KCk7XHJcbiAgICBmcmFtZXMrKztcclxuXHJcbiAgICAvLyByZWNhbGN1bGF0ZSBmcmFtZXJhdGUgZXZlcnkgMjUwbXNcclxuICAgIGlmICh0aW1lc3RhbXAgLSBsYXN0RlBTID49IDI1MCkge1xyXG4gICAgICBmcmFtZXJhdGUudGV4dENvbnRlbnQgPSBgRlBTOiAkeyhcclxuICAgICAgICAoMTAwMCAqIGZyYW1lcykgL1xyXG4gICAgICAgICh0aW1lc3RhbXAgLSBsYXN0RlBTKVxyXG4gICAgICApLnRvRml4ZWQoMSl9YDtcclxuXHJcbiAgICAgIGZyYW1lcyA9IDA7XHJcbiAgICAgIGxhc3RGUFMgPSB0aW1lc3RhbXA7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcclxuICB9XHJcblxyXG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbn1cclxuXHJcbi8vIHRvZ2dsZSBwbGF5L3BhdXNlXHJcbmV4cG9ydCBmdW5jdGlvbiBwbGF5UGF1c2UoKSB7XHJcbiAgcGxheSA9ICFwbGF5O1xyXG5cclxuICBpZiAocGxheSkge1xyXG4gICAgcGxheUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiUGF1c2VcIjtcclxuICAgIHN0ZXBCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBwbGF5QnV0dG9uLnRleHRDb250ZW50ID0gXCJQbGF5XCI7XHJcbiAgICBzdGVwQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBzdGVwIHNpbXVsYXRpb24gYnkgMSBmcmFtZVxyXG5leHBvcnQgZnVuY3Rpb24gc3RlcCgpIHtcclxuICBzaW11bGF0aW9uLnVwZGF0ZSgxMDAwIC8gNjApOyAvLyBBc3N1bWVzIDYwRlBTXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWNvbmZpZ3VyZSgpIHtcclxuICBpZiAocGxheSkge1xyXG4gICAgdGhpcy5wbGF5UGF1c2UoKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNvbmZpZyA9IGNvbmZpZ1NlbGVjdC52YWx1ZTtcclxuICBjb25zdCBhZ2VudFR5cGUgPSBhZ2VudFR5cGVTZWxlY3QudmFsdWU7XHJcbiAgY29uc3QgbiA9IHBhcnNlSW50KG51bWJlck9mQWdlbnRzSW5wdXQudmFsdWUpID8/IDA7XHJcblxyXG4gIC8vIFNlbGVjdCBhZ2VudCBjb25zdHJ1Y3RvclxyXG4gIGxldCBhZ2VudENvbnN0cnVjdG9yO1xyXG4gIHN3aXRjaCAoYWdlbnRUeXBlKSB7XHJcbiAgICBjYXNlIFwiQmFzaWNBZ2VudFwiOlxyXG4gICAgICBhZ2VudENvbnN0cnVjdG9yID0gKFxyXG4gICAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgICAgcmFkaXVzOiBudW1iZXJcclxuICAgICAgKSA9PiBuZXcgQmFzaWNBZ2VudChpZCwgcG9zaXRpb24sIGdvYWxQb3NpdGlvbiwgcmFkaXVzKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFwiU3RvcEFnZW50XCI6XHJcbiAgICAgIGFnZW50Q29uc3RydWN0b3IgPSAoXHJcbiAgICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgICAgZ29hbFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgICByYWRpdXM6IG51bWJlclxyXG4gICAgICApID0+IG5ldyBTdG9wQWdlbnQoaWQsIHBvc2l0aW9uLCBnb2FsUG9zaXRpb24sIHJhZGl1cyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBcIlZPQWdlbnRcIjpcclxuICAgICAgYWdlbnRDb25zdHJ1Y3RvciA9IChcclxuICAgICAgICBpZDogbnVtYmVyLFxyXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICAgIHJhZGl1czogbnVtYmVyXHJcbiAgICAgICkgPT4gbmV3IFZPQWdlbnQoaWQsIHBvc2l0aW9uLCBnb2FsUG9zaXRpb24sIHJhZGl1cyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBcIlJWT0FnZW50XCI6XHJcbiAgICAgIGFnZW50Q29uc3RydWN0b3IgPSAoXHJcbiAgICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgICAgZ29hbFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgICByYWRpdXM6IG51bWJlclxyXG4gICAgICApID0+IG5ldyBSVk9BZ2VudChpZCwgcG9zaXRpb24sIGdvYWxQb3NpdGlvbiwgcmFkaXVzKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OiB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkFnZW50IG5vdCBpbXBsZW1lbnRlZFwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFNlbGVjdCBjb25maWd1cmF0aW9uXHJcbiAgc3dpdGNoIChjb25maWcpIHtcclxuICAgIGNhc2UgXCJSYW5kb21Ub1JhbmRvbVwiOiB7XHJcbiAgICAgIHNpbXVsYXRpb24uaW5pdChcclxuICAgICAgICBDb25maWd1cmF0aW9ucy5SYW5kb21Ub1JhbmRvbShcclxuICAgICAgICAgIG4sXHJcbiAgICAgICAgICBjYW52YXMud2lkdGgsXHJcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0LFxyXG4gICAgICAgICAgYWdlbnRDb25zdHJ1Y3RvclxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBjYXNlIFwiUmFuZG9tVG9MaW5lXCI6IHtcclxuICAgICAgc2ltdWxhdGlvbi5pbml0KFxyXG4gICAgICAgIENvbmZpZ3VyYXRpb25zLlJhbmRvbVRvTGluZShcclxuICAgICAgICAgIG4sXHJcbiAgICAgICAgICBjYW52YXMud2lkdGgsXHJcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0LFxyXG4gICAgICAgICAgYWdlbnRDb25zdHJ1Y3RvclxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBjYXNlIFwiQ2lyY2xlVG9DaXJjbGVcIjoge1xyXG4gICAgICBzaW11bGF0aW9uLmluaXQoXHJcbiAgICAgICAgQ29uZmlndXJhdGlvbnMuQ2lyY2xlVG9DaXJjbGUoXHJcbiAgICAgICAgICBuLFxyXG4gICAgICAgICAgY2FudmFzLndpZHRoLFxyXG4gICAgICAgICAgY2FudmFzLmhlaWdodCxcclxuICAgICAgICAgIGFnZW50Q29uc3RydWN0b3JcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgY2FzZSBcIkdyaWRUb0dyaWRcIjoge1xyXG4gICAgICBzaW11bGF0aW9uLmluaXQoXHJcbiAgICAgICAgQ29uZmlndXJhdGlvbnMuR3JpZFRvR3JpZChcclxuICAgICAgICAgIG4sXHJcbiAgICAgICAgICBjYW52YXMud2lkdGgsXHJcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0LFxyXG4gICAgICAgICAgYWdlbnRDb25zdHJ1Y3RvclxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBkZWZhdWx0OiB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbmZpZ3VyYXRpb24gbm90IGltcGxlbWVudGVkXCIpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIG1vZHVsZSBleHBvcnRzIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBydW50aW1lIHNvIGVudHJ5IGlubGluaW5nIGlzIGRpc2FibGVkXG4vLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbnJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzNyk7XG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyJdLCJzb3VyY2VSb290IjoiIn0=