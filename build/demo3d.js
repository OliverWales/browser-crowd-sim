var CrowdSimulator;CrowdSimulator=(()=>{"use strict";var t={384:(t,i,e)=>{e.r(i),e.d(i,{init:()=>w,playPause:()=>R,reconfigure:()=>I,step:()=>b});var n=function(){function t(t,i){this._renderer=t,this._agents=i}return t.prototype.init=function(t){this._agents.init(t.agents)},t.prototype.update=function(t){var i=this;this._agents.forEach((function(e){e.update(t,i._agents.getNeighboursInRangeEuclidean(e,300))})),this._agents.init(this._agents.getAll())},t.prototype.draw=function(){this._renderer.clear(),this._renderer.drawAgents(this._agents)},t}(),o=function(){function t(){}return t.vertices=[-1,1,-1,0,1,0,-1,1,1,0,1,0,1,1,1,0,1,0,1,1,-1,0,1,0,-1,1,1,-1,0,0,-1,-1,1,-1,0,0,-1,-1,-1,-1,0,0,-1,1,-1,-1,0,0,1,1,1,1,0,0,1,-1,1,1,0,0,1,-1,-1,1,0,0,1,1,-1,1,0,0,1,1,1,0,0,1,1,-1,1,0,0,1,-1,-1,1,0,0,1,-1,1,1,0,0,1,1,1,-1,0,0,-1,1,-1,-1,0,0,-1,-1,-1,-1,0,0,-1,-1,1,-1,0,0,-1,-1,-1,-1,0,-1,0,-1,-1,1,0,-1,0,1,-1,1,0,-1,0,1,-1,-1,0,-1,0],t.indices=[0,1,2,0,2,3,5,4,6,6,4,7,8,9,10,8,10,11,13,12,14,15,14,12,16,17,18,16,18,19,21,20,22,22,20,23],t}(),r=function(){function t(){}return t.getIdentityMatrix=function(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},t.getXRotationMatrix=function(t){var i=Math.sin(t),e=Math.cos(t);return new Float32Array([1,0,0,0,0,e,i,0,0,-i,e,0,0,0,0,1])},t.getYRotationMatrix=function(t){var i=Math.sin(t),e=Math.cos(t);return new Float32Array([e,0,-i,0,0,1,0,0,i,0,e,0,0,0,0,1])},t.getZRotationMatrix=function(t){var i=Math.sin(t),e=Math.cos(t);return new Float32Array([e,i,0,0,-i,e,0,0,0,0,1,0,0,0,0,1])},t.getTranslationMatrix=function(t,i,e){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,t,i,e,1])},t.getPerspectiveProjectionMatrix=function(t,i,e,n){var o=1/Math.tan(t/2),r=1/(e-n);return new Float32Array([o/i,0,0,0,0,o,0,0,0,0,(e+n)*r,-1,0,0,e*n*r*2,0])},t.multiplyMatrices=function(t,i){for(var e=new Float32Array(16),n=0;n<4;n++)for(var o=0;o<4;o++){for(var r=0,s=0;s<4;s++)r+=t[4*n+s]*i[4*s+o];e[4*n+o]=r}return e},t}(),s=function(){function t(t,i){this.x=t,this.y=i}return t.prototype.copy=function(i){return new t(i.x,i.y)},t.prototype.add=function(i){return new t(this.x+i.x,this.y+i.y)},t.prototype.subtract=function(i){return new t(this.x-i.x,this.y-i.y)},t.prototype.multiply=function(i){return new t(this.x*i,this.y*i)},t.prototype.divide=function(i){return new t(this.x/i,this.y/i)},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.magnitudeSqrd=function(){return Math.pow(this.x,2)+Math.pow(this.y,2)},t.prototype.magnitude=function(){return Math.sqrt(this.magnitudeSqrd())},t.prototype.normalise=function(){var i=this.magnitude();return 0==i?new t(0,0):this.divide(i)},t.prototype.sample=function(i){var e=Math.sqrt(Math.random())*i,n=2*Math.PI*Math.random();return new t(this.x+e*Math.cos(n),this.y+e*Math.sin(n))},t}(),a=function(){function t(t){var i=this;if(this.xRot=0,this.yRot=0,this.cameraDist=800,this.mouseDown=function(t){return i.drag=!0,i.oldX=t.pageX,i.oldY=t.pageY,t.preventDefault(),!1},this.mouseUp=function(t){return i.drag=!1,t.preventDefault(),!1},this.mouseMove=function(t){if(!i.drag)return!1;i.dX=2*(t.pageX-i.oldX)*Math.PI/i.canvas.width,i.dY=2*(t.pageY-i.oldY)*Math.PI/i.canvas.height,i.xRot+=i.dX,i.yRot+=i.dY,i.oldX=t.pageX,i.oldY=t.pageY,i.yRot>0&&(i.yRot=0),i.yRot<-Math.PI&&(i.yRot=-Math.PI);var e=r.getZRotationMatrix(i.xRot),n=r.getXRotationMatrix(i.yRot),o=r.multiplyMatrices(e,n);return i.gl.uniformMatrix4fv(i.worldMatLoc,!1,o),t.preventDefault(),!1},this.mouseScroll=function(t){i.cameraDist+=t.deltaY,i.cameraDist<0&&(i.cameraDist=0);var e=r.getTranslationMatrix(0,0,-i.cameraDist);i.gl.uniformMatrix4fv(i.viewMatLoc,!1,e);var n=r.getPerspectiveProjectionMatrix(Math.PI/180*45,i.canvas.width/i.canvas.height,.1,i.cameraDist+2e3);return i.gl.uniformMatrix4fv(i.projMatLoc,!1,n),t.preventDefault(),!1},this.canvas=t,this.gl=this.canvas.getContext("webgl"),this.gl){var e=this.gl.createShader(this.gl.VERTEX_SHADER),n=this.gl.createShader(this.gl.FRAGMENT_SHADER);if(this.gl.shaderSource(e,"\n  precision mediump float;\n  attribute vec3 vertPosition;\n  attribute vec3 vertNormal;\n  varying vec3 fragColor;\n\n  uniform mat4 projMat;\n  uniform mat4 viewMat;\n  uniform mat4 worldMat;\n\n  uniform vec2 position;\n  uniform vec2 direction;\n  uniform float radius;\n\n  void main()\n  {\n    mediump vec3 rotatedVert = vec3(vertPosition.x * direction.x - vertPosition.y * direction.y,\n                                    vertPosition.x * direction.y + vertPosition.y * direction.x,\n                                    vertPosition.z);\n    gl_Position = projMat * viewMat * worldMat * vec4(rotatedVert.x * radius + position.x, rotatedVert.y * radius + position.y, rotatedVert.z * radius, 1.0);\n    \n    fragColor = 0.5 * vertNormal + 0.5;\n  }\n"),this.gl.shaderSource(n,"\n  precision mediump float;\n  varying vec3 fragColor;\n\n  void main()\n  {\n    gl_FragColor = vec4(fragColor, 1);\n  }\n"),this.gl.compileShader(e),this.gl.getShaderParameter(e,this.gl.COMPILE_STATUS))if(this.gl.compileShader(n),this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS))if(this.program=this.gl.createProgram(),this.gl.attachShader(this.program,e),this.gl.attachShader(this.program,n),this.gl.linkProgram(this.program),this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))if(this.gl.validateProgram(this.program),this.gl.getProgramParameter(this.program,this.gl.VALIDATE_STATUS)){this.gl.useProgram(this.program),this.gl.enable(this.gl.DEPTH_TEST),this.gl.enable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW),this.gl.cullFace(this.gl.BACK),this.gl.clearColor(1,1,1,1),this.canvas.addEventListener("mousedown",this.mouseDown,!1),this.canvas.addEventListener("mouseup",this.mouseUp,!1),this.canvas.addEventListener("mouseout",this.mouseUp,!1),this.canvas.addEventListener("mousemove",this.mouseMove,!1),this.canvas.addEventListener("wheel",this.mouseScroll,!1),this.VertexBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.VertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(o.vertices),this.gl.STATIC_DRAW),this.IndexBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.IndexBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(o.indices),this.gl.STATIC_DRAW),this.positionAttribute=this.gl.getAttribLocation(this.program,"vertPosition"),this.gl.vertexAttribPointer(this.positionAttribute,3,this.gl.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,0),this.gl.enableVertexAttribArray(this.positionAttribute),this.normalAttribute=this.gl.getAttribLocation(this.program,"vertNormal"),this.gl.vertexAttribPointer(this.normalAttribute,3,this.gl.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(this.normalAttribute),this.projMatLoc=this.gl.getUniformLocation(this.program,"projMat"),this.viewMatLoc=this.gl.getUniformLocation(this.program,"viewMat"),this.worldMatLoc=this.gl.getUniformLocation(this.program,"worldMat"),this.posVecLoc=this.gl.getUniformLocation(this.program,"position"),this.dirVecLoc=this.gl.getUniformLocation(this.program,"direction"),this.radiusLoc=this.gl.getUniformLocation(this.program,"radius");var s=r.getPerspectiveProjectionMatrix(Math.PI/180*45,this.canvas.width/this.canvas.height,.1,this.cameraDist+2e3),a=r.getTranslationMatrix(0,0,-this.cameraDist),h=r.getIdentityMatrix();this.gl.uniformMatrix4fv(this.projMatLoc,!1,s),this.gl.uniformMatrix4fv(this.viewMatLoc,!1,a),this.gl.uniformMatrix4fv(this.worldMatLoc,!1,h)}else console.error("ERROR validating program",this.gl.getProgramInfoLog(this.program));else console.error("ERROR linking program",this.gl.getProgramInfoLog(this.program));else console.error("ERROR compiling fragment shader",this.gl.getShaderInfoLog(n));else console.error("ERROR compiling vertex shader",this.gl.getShaderInfoLog(e))}else console.error("WebGL not supported")}return t.prototype.clear=function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)},t.prototype.drawAgents=function(t){var i=this;t.forEach((function(t){var e=t.getPosition();i.gl.uniform2f(i.posVecLoc,e.x-i.canvas.width/2,e.y-i.canvas.height/2);var n=t.getDirection().normalise();0==n.x&&0==n.y&&(n=new s(1,0)),i.gl.uniform2f(i.dirVecLoc,n.x,n.y),i.gl.uniform1f(i.radiusLoc,t.Radius),i.gl.drawElements(i.gl.TRIANGLES,o.indices.length,i.gl.UNSIGNED_SHORT,0)}))},t}(),h=function(){function t(t,i,e,n){this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new s(0,0),this._isDone=!1}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getIsDone=function(){return this._isDone},t.prototype.getIsStuck=function(){return!1},t.prototype.update=function(t,i){if(!this._isDone){var e=this._goalPosition.subtract(this._position);e.magnitude()>60*t/1e3?(this._direction=e.normalise(),this._position=this._position.add(this._direction.multiply(60*t/1e3))):(this._position=this._goalPosition,this._isDone=!0)}},t}(),c=function(){function t(t,i,e,n){this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new s(0,0),this._isDone=!1,this._isStuck=!1}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getIsDone=function(){return this._isDone},t.prototype.getIsStuck=function(){return this._isStuck},t.prototype.update=function(t,i){var e=this;if(!this._isDone){var n=this._goalPosition.subtract(this._position);if(n.magnitude()>60*t/1e3){this._direction=n.normalise();var o=this._position.add(this._direction.multiply(20));this._isStuck=!1,i.forEach((function(t){t.Id!=e.Id&&e.collides(t,o)&&(e._isStuck=!0)})),this._isStuck||(this._position=this._position.add(this._direction.multiply(60*t/1e3)))}else this._position=this._goalPosition,this._isDone=!0}},t.prototype.collides=function(t,i){return t.getPosition().subtract(i).magnitude()<t.Radius+this.Radius},t}(),u=function(){function t(){}return t.RandomToRandom=function(t,i,e,n){for(var o=[],r=this.poissonDiskSample(i,e,t,50),s=this.poissonDiskSample(i,e,t,50),a=0;a<t;a++){var h=n(a,r[a],s[a],20);o.push(h)}return{agents:o}},t.RandomToLine=function(t,i,e,n){for(var o=[],r=this.poissonDiskSample(i,e,t,50),a=0;a<t;a++){var h=n(a,r[a],new s((a+1)/(t+1)*i,e/2),20);o.push(h)}return{agents:o}},t.CircleToCircle=function(t,i,e,n){for(var o=[],r=i/2,a=e/2,h=e/2-25,c=0;c<t;c++){var u=2*Math.PI*c/t,g=n(c,new s(r+h*Math.cos(u),a+h*Math.sin(u)),new s(r+h*Math.cos(u+Math.PI),a+h*Math.sin(u+Math.PI)),20);o.push(g)}return{agents:o}},t.GridToGrid=function(t,i,e,n){for(var o=[],r=Math.ceil(t/8),a=i-50-90*(r-1),h=e/2-135,c=0,u=0;u<r;u++){for(var g=0;g<4;g++){var l=new s(50+90*u,h+90*g),d=new s(a+90*u,h+90*g);if(o.push(n(c,l,d,20)),++c>=t)break;if(o.push(n(c,d,l,20)),++c>=t)break}if(c>=t)break}return{agents:o}},t.poissonDiskSample=function(t,i,e,n){for(var o=[],r=function(){for(var e,r=!0;r;)r=!1,e=new s(t*Math.random(),i*Math.random()),o.forEach((function(t){e.subtract(t).magnitudeSqrd()<Math.pow(n,2)&&(r=!0)}));o.push(e)},a=0;a<e;a++)r();return o},t}(),g=function(){function t(){}return t.prototype.init=function(t){this._agents=t,this._root=this.constructTree(this._agents,!0)},t.prototype.getAll=function(){return this._agents},t.prototype.getNeighboursInRangeRectilinear=function(t,i){var e=t.getPosition().x-i,n=t.getPosition().y-i,o=t.getPosition().x+i,r=t.getPosition().y+i;return this.rangeSearch(this._root,e,n,o,r,!0).filter((function(i){return i.Id!==t.Id}))},t.prototype.getNeighboursInRangeEuclidean=function(t,i){return this.getNeighboursInRangeRectilinear(t,i).filter((function(e){return t.getPosition().subtract(e.getPosition()).magnitudeSqrd()<=Math.pow(i,2)}))},t.prototype.forEach=function(t){this._agents.forEach(t)},t.prototype.constructTree=function(t,i){if(0===t.length)return null;var e=Math.floor(t.length/2),n=i?t.sort((function(t,i){return t.getPosition().x-i.getPosition().x})):t.sort((function(t,i){return t.getPosition().y-i.getPosition().y})),o=this.constructTree(n.slice(0,e),!i),r=this.constructTree(n.slice(e+1,t.length),!i);return{agent:t[e],left:o,right:r}},t.prototype.rangeSearch=function(t,i,e,n,o,r){if(null==t)return[];var s=[];return r?(t.agent.getPosition().x<=n&&(s=s.concat(this.rangeSearch(t.right,i,e,n,o,!r))),t.agent.getPosition().x>=i&&(s=s.concat(this.rangeSearch(t.left,i,e,n,o,!r)))):(t.agent.getPosition().y<=o&&(s=s.concat(this.rangeSearch(t.right,i,e,n,o,!r))),t.agent.getPosition().y>=e&&(s=s.concat(this.rangeSearch(t.left,i,e,n,o,!r)))),t.agent.getPosition().x>=i&&t.agent.getPosition().y>=e&&t.agent.getPosition().x<=n&&t.agent.getPosition().y<=o&&s.push(t.agent),s},t}(),l=function(){function t(t,i,e,n){this.MAX_VELOCITY=1,this.MAX_ACCELERATION=.5,this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new s(0,0),this._isDone=!1,this._isStuck=!1}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getIsDone=function(){return this._isDone},t.prototype.getIsStuck=function(){return this._isStuck},t.prototype.update=function(t,i){if(!this._isDone){this._isStuck=!1;for(var e,n,o=.5,r=this.getPreferredVelocity(o),a=!0,h=0;h<i.length;h++)if(null!=(v=this.getVelocityObstacle(i[h]))&&this.isInside(r,v)){a=!1,e=v,n=h;break}if(a)return this._direction=r,this._position=this._position.add(r),void this.checkIfDone();if(null!=e){var c=this.getClosestPointOnLine(e.vertex,e.tangent1,r);if(c.magnitude()<=o){for(a=!0,h=0;h<i.length;h++)if(h!=n&&null!=(v=this.getVelocityObstacle(i[h]))&&this.isInside(c,v)){a=!1;break}if(a)return this._direction=c,this._position=this._position.add(c),void this.checkIfDone()}var u=this.getClosestPointOnLine(e.vertex,e.tangent2,r);if(c.magnitude()<=o){for(a=!0,h=0;h<i.length;h++)if(h!=n&&null!=(v=this.getVelocityObstacle(i[h]))&&this.isInside(u,v)){a=!1;break}if(a)return this._direction=u,this._position=this._position.add(u),void this.checkIfDone()}}var g=1/0,l=new s(0,0);for(h=0;h<100;h++){for(var d=new s(0,0).sample(o),p=1/0,f=0;f<i.length;f++){var v,m=i[f];if(null==(v=this.getVelocityObstacle(m))||this.isInside(d,v)){var y=this.getFirstRayCircleIntersection(m.getPosition().add(m.getDirection()),this.Radius+m.Radius,this._position,d.subtract(m.getDirection()));if(y<p&&0==(p=y))return void this.checkIfDone()}}var _=100/p+r.subtract(d).magnitude();_<g&&(g=_,l=d)}0==l.magnitude()&&(this._isStuck=!0),this._direction=l,this._position=this._position.add(l),this.checkIfDone()}},t.prototype.getPreferredVelocity=function(t){var i=this._goalPosition.subtract(this._position),e=i.magnitude();return e>t?i.divide(e/t):i},t.prototype.getVelocityObstacle=function(t){var i=t.getDirection(),e=t.getPosition().subtract(this._position).add(i),n=t.Radius+this.Radius,o=i.subtract(e),r=o.magnitude();if(r<n)return null;var a=Math.acos(n/r),h=Math.atan2(o.y,o.x),c=h+a,u=h-a;return{vertex:i,tangent1:new s(e.x+n*Math.cos(c),e.y+n*Math.sin(c)),tangent2:new s(e.x+n*Math.cos(u),e.y+n*Math.sin(u))}},t.prototype.isInside=function(t,i){var e=(i.tangent1.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent1.y-i.vertex.y)*(t.x-i.vertex.x),n=(i.tangent2.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent2.y-i.vertex.y)*(t.x-i.vertex.x);return e>0&&n<0},t.prototype.getClosestPointOnLine=function(t,i,e){var n=i.normalise(),o=e.subtract(t).dot(n);return t.add(n.multiply(o))},t.prototype.getFirstRayCircleIntersection=function(t,i,e,n){var o=e.subtract(t),r=n.dot(n),s=2*n.dot(o),a=o.dot(o)-Math.pow(i,2),h=Math.pow(s,2)-4*r*a;if(h<0)return 1/0;var c=(-s-Math.sqrt(h))/2*r;return c<0?1/0:c},t.prototype.checkIfDone=function(){this._position.subtract(this._goalPosition).magnitudeSqrd()<1&&(this._isDone=!0,this._position=this._goalPosition,this._direction=new s(0,0))},t}(),d=function(){function t(t,i,e,n){this.MAX_VELOCITY=1,this.MAX_ACCELERATION=.5,this.Id=t,this._position=i,this._goalPosition=e,this.Radius=n,this._direction=new s(0,0),this._isDone=!1,this._isStuck=!1}return t.prototype.getPosition=function(){return this._position},t.prototype.getDirection=function(){return this._direction},t.prototype.getIsDone=function(){return this._isDone},t.prototype.getIsStuck=function(){return this._isStuck},t.prototype.update=function(t,i){if(!this._isDone){this._isStuck=!1;for(var e,n,o=.5,r=this.getPreferredVelocity(o),a=!0,h=0;h<i.length;h++)if(null!=(v=this.getReciprocalVelocityObstacle(i[h]))&&this.isInside(r,v)){a=!1,e=v,n=h;break}if(a)return this._direction=r,this._position=this._position.add(r),void this.checkIfDone();if(null!=e){var c=this.getClosestPointOnLine(e.vertex,e.tangent1,r);if(c.magnitude()<=o){for(a=!0,h=0;h<i.length;h++)if(h!=n&&null!=(v=this.getReciprocalVelocityObstacle(i[h]))&&this.isInside(c,v)){a=!1;break}if(a)return this._direction=c,this._position=this._position.add(c),void this.checkIfDone()}var u=this.getClosestPointOnLine(e.vertex,e.tangent2,r);if(c.magnitude()<=o){for(a=!0,h=0;h<i.length;h++)if(h!=n&&null!=(v=this.getReciprocalVelocityObstacle(i[h]))&&this.isInside(u,v)){a=!1;break}if(a)return this._direction=u,this._position=this._position.add(u),void this.checkIfDone()}}var g=1/0,l=new s(0,0);for(h=0;h<100;h++){for(var d=new s(0,0).sample(o),p=1/0,f=0;f<i.length;f++){var v,m=i[f];if(null!=(v=this.getReciprocalVelocityObstacle(m))&&this.isInside(d,v)){var y=this.getFirstRayCircleIntersection(m.getPosition().add(m.getDirection()),this.Radius+m.Radius,this._position,d.multiply(2).subtract(this.getDirection()).subtract(m.getDirection()));if(y<p&&0==(p=y))return void this.checkIfDone()}}var _=100/p+r.subtract(d).magnitude();_<g&&(g=_,l=d)}0==l.magnitude()&&(this._isStuck=!0),this._direction=l,this._position=this._position.add(l),this.checkIfDone()}},t.prototype.getPreferredVelocity=function(t){var i=this._goalPosition.subtract(this._position),e=i.magnitude();return e>t?i.divide(e/t):i},t.prototype.getReciprocalVelocityObstacle=function(t){var i=this.getDirection(),e=t.getDirection(),n=i.add(e).divide(2),o=t.getPosition().subtract(this._position).add(e),r=t.Radius+this.Radius,a=e.subtract(o),h=a.magnitude();if(h<r)return null;var c=Math.acos(r/h),u=Math.atan2(a.y,a.x),g=u+c,l=u-c;return{vertex:n,tangent1:new s(o.x+r*Math.cos(g),o.y+r*Math.sin(g)),tangent2:new s(o.x+r*Math.cos(l),o.y+r*Math.sin(l))}},t.prototype.isInside=function(t,i){var e=(i.tangent1.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent1.y-i.vertex.y)*(t.x-i.vertex.x),n=(i.tangent2.x-i.vertex.x)*(t.y-i.vertex.y)-(i.tangent2.y-i.vertex.y)*(t.x-i.vertex.x);return e>0&&n<0},t.prototype.getClosestPointOnLine=function(t,i,e){var n=i.normalise(),o=e.subtract(t).dot(n);return t.add(n.multiply(o))},t.prototype.getFirstRayCircleIntersection=function(t,i,e,n){var o=e.subtract(t),r=n.dot(n),s=2*n.dot(o),a=o.dot(o)-Math.pow(i,2),h=Math.pow(s,2)-4*r*a;if(h<0)return 1/0;var c=(-s-Math.sqrt(h))/2*r;return c<0?1/0:c},t.prototype.checkIfDone=function(){this._position.subtract(this._goalPosition).magnitudeSqrd()<1&&(this._isDone=!0,this._position=this._goalPosition,this._direction=new s(0,0))},t}(),p=document.getElementById("config"),f=document.getElementById("agentType"),v=document.getElementById("numberOfAgents"),m=document.getElementById("canvas"),y=document.getElementById("framerate"),_=document.getElementById("playButton"),x=document.getElementById("stepButton"),M=new n(new a(m),new g),P=!1;function w(){this.reconfigure();var t=0,i=0,e=0;window.requestAnimationFrame((function n(o){var r=o-t;t=o,P&&M.update(r),M.draw(),e++,o-i>=250&&(y.textContent="FPS: "+(1e3*e/(o-i)).toFixed(1),e=0,i=o),window.requestAnimationFrame(n)}))}function R(){(P=!P)?(_.textContent="Pause",x.disabled=!0):(_.textContent="Play",x.disabled=!1)}function b(){M.update(1e3/60)}function I(){var t;P&&this.playPause();var i,e=p.value,n=f.value,o=null!==(t=parseInt(v.value))&&void 0!==t?t:0;switch(n){case"BasicAgent":i=function(t,i,e,n){return new h(t,i,e,n)};break;case"StopAgent":i=function(t,i,e,n){return new c(t,i,e,n)};break;case"VOAgent":i=function(t,i,e,n){return new l(t,i,e,n)};break;case"RVOAgent":i=function(t,i,e,n){return new d(t,i,e,n)};break;default:throw new Error("Agent not implemented")}switch(e){case"RandomToRandom":M.init(u.RandomToRandom(o,m.width,m.height,i));break;case"RandomToLine":M.init(u.RandomToLine(o,m.width,m.height,i));break;case"CircleToCircle":M.init(u.CircleToCircle(o,m.width,m.height,i));break;case"GridToGrid":M.init(u.GridToGrid(o,m.width,m.height,i));break;default:throw new Error("Configuration not implemented")}}}},i={};function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{}};return t[n](o,o.exports,e),o.exports}return e.d=(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e(384)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9TaW11bGF0aW9uLnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL0FnZW50TWVzaC50cyIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9NYXRyaXgudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvVmVjdG9yMmYudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvUmVuZGVyZXIzRC50cyIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9CYXNpY0FnZW50LnRzIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yLy4vc3JjL1N0b3BBZ2VudC50cyIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9Db25maWd1cmF0aW9ucy50cyIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9BZ2VudFRyZWUudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3IvLi9zcmMvVk9BZ2VudC50cyIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9SVk9BZ2VudC50cyIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci8uL3NyYy9kZW1vM2QudHMiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3Ivd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQ3Jvd2RTaW11bGF0b3Ivd2VicGFjay9zdGFydHVwIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9Dcm93ZFNpbXVsYXRvci93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL0Nyb3dkU2ltdWxhdG9yL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiXSwibmFtZXMiOlsicmVuZGVyZXIiLCJhZ2VudHMiLCJ0aGlzIiwiX3JlbmRlcmVyIiwiX2FnZW50cyIsImluaXQiLCJjb25maWciLCJ1cGRhdGUiLCJkZWx0YVQiLCJmb3JFYWNoIiwiYWdlbnQiLCJnZXROZWlnaGJvdXJzSW5SYW5nZUV1Y2xpZGVhbiIsImdldEFsbCIsImRyYXciLCJjbGVhciIsImRyYXdBZ2VudHMiLCJ2ZXJ0aWNlcyIsImluZGljZXMiLCJnZXRJZGVudGl0eU1hdHJpeCIsIkZsb2F0MzJBcnJheSIsImdldFhSb3RhdGlvbk1hdHJpeCIsImFuZ2xlIiwicyIsIk1hdGgiLCJzaW4iLCJjIiwiY29zIiwiZ2V0WVJvdGF0aW9uTWF0cml4IiwiZ2V0WlJvdGF0aW9uTWF0cml4IiwiZ2V0VHJhbnNsYXRpb25NYXRyaXgiLCJ4IiwieSIsInoiLCJnZXRQZXJzcGVjdGl2ZVByb2plY3Rpb25NYXRyaXgiLCJmb3YiLCJhc3BlY3RSYXRpbyIsIm5lYXIiLCJmYXIiLCJmIiwidGFuIiwiaSIsIm11bHRpcGx5TWF0cmljZXMiLCJhIiwiYiIsInJlc3VsdCIsImoiLCJudW0iLCJrIiwiY29weSIsInYiLCJWZWN0b3IyZiIsImFkZCIsInN1YnRyYWN0IiwibXVsdGlwbHkiLCJkaXZpZGUiLCJkb3QiLCJtYWduaXR1ZGVTcXJkIiwibWFnbml0dWRlIiwic3FydCIsIm5vcm1hbGlzZSIsIm0iLCJzYW1wbGUiLCJtYXhSYWRpdXMiLCJyYWRpdXMiLCJyYW5kb20iLCJQSSIsImNhbnZhcyIsInhSb3QiLCJ5Um90IiwiY2FtZXJhRGlzdCIsIm1vdXNlRG93biIsImV2ZW50IiwiZHJhZyIsIm9sZFgiLCJwYWdlWCIsIm9sZFkiLCJwYWdlWSIsInByZXZlbnREZWZhdWx0IiwibW91c2VVcCIsIm1vdXNlTW92ZSIsImRYIiwid2lkdGgiLCJkWSIsImhlaWdodCIsInhSb3RNYXQiLCJNYXRyaXgiLCJ5Um90TWF0Iiwid29ybGRNYXRyaXgiLCJnbCIsInVuaWZvcm1NYXRyaXg0ZnYiLCJ3b3JsZE1hdExvYyIsIm1vdXNlU2Nyb2xsIiwiZGVsdGFZIiwidmlld01hdHJpeCIsInZpZXdNYXRMb2MiLCJwcm9qZWN0aW9uTWF0cml4IiwicHJvak1hdExvYyIsImdldENvbnRleHQiLCJ2ZXJ0ZXhTaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiZnJhZ21lbnRTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJwcm9ncmFtIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwidmFsaWRhdGVQcm9ncmFtIiwiVkFMSURBVEVfU1RBVFVTIiwidXNlUHJvZ3JhbSIsImVuYWJsZSIsIkRFUFRIX1RFU1QiLCJDVUxMX0ZBQ0UiLCJmcm9udEZhY2UiLCJDQ1ciLCJjdWxsRmFjZSIsIkJBQ0siLCJjbGVhckNvbG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlZlcnRleEJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJidWZmZXJEYXRhIiwiQWdlbnRNZXNoIiwiU1RBVElDX0RSQVciLCJJbmRleEJ1ZmZlciIsIkVMRU1FTlRfQVJSQVlfQlVGRkVSIiwiVWludDE2QXJyYXkiLCJwb3NpdGlvbkF0dHJpYnV0ZSIsImdldEF0dHJpYkxvY2F0aW9uIiwidmVydGV4QXR0cmliUG9pbnRlciIsIkZMT0FUIiwiQllURVNfUEVSX0VMRU1FTlQiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsIm5vcm1hbEF0dHJpYnV0ZSIsImdldFVuaWZvcm1Mb2NhdGlvbiIsInBvc1ZlY0xvYyIsImRpclZlY0xvYyIsInJhZGl1c0xvYyIsImNvbnNvbGUiLCJlcnJvciIsImdldFByb2dyYW1JbmZvTG9nIiwiZ2V0U2hhZGVySW5mb0xvZyIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwicG9zIiwiZ2V0UG9zaXRpb24iLCJ1bmlmb3JtMmYiLCJkaXIiLCJnZXREaXJlY3Rpb24iLCJ1bmlmb3JtMWYiLCJSYWRpdXMiLCJkcmF3RWxlbWVudHMiLCJUUklBTkdMRVMiLCJsZW5ndGgiLCJVTlNJR05FRF9TSE9SVCIsImlkIiwic3RhcnRQb3NpdGlvbiIsImdvYWxQb3NpdGlvbiIsIklkIiwiX3Bvc2l0aW9uIiwiX2dvYWxQb3NpdGlvbiIsIl9kaXJlY3Rpb24iLCJfaXNEb25lIiwiZ2V0SXNEb25lIiwiZ2V0SXNTdHVjayIsImdvYWxEaXJlY3Rpb24iLCJfaXNTdHVjayIsImNvbGxpZGVzIiwicG9zaXRpb24iLCJSYW5kb21Ub1JhbmRvbSIsIm4iLCJhZ2VudENvbnN0cnVjdG9yIiwic3RhcnRQb3NpdGlvbnMiLCJwb2lzc29uRGlza1NhbXBsZSIsImdvYWxQb3NpdGlvbnMiLCJwdXNoIiwiUmFuZG9tVG9MaW5lIiwiQ2lyY2xlVG9DaXJjbGUiLCJjZW50cmVYIiwiY2VudHJlWSIsIkdyaWRUb0dyaWQiLCJjb2xzIiwiY2VpbCIsInJpZ2h0IiwidG9wIiwieFJhbmdlIiwieVJhbmdlIiwidGhyZXNob2xkIiwic2FtcGxlcyIsInJlc2FtcGxlIiwiX3Jvb3QiLCJjb25zdHJ1Y3RUcmVlIiwiZ2V0TmVpZ2hib3Vyc0luUmFuZ2VSZWN0aWxpbmVhciIsInJhbmdlIiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsInJhbmdlU2VhcmNoIiwiZmlsdGVyIiwib3RoZXIiLCJmdW4iLCJ4QXhpcyIsIm1pZCIsImZsb29yIiwic29ydGVkIiwic29ydCIsImxlZnQiLCJzbGljZSIsInJvb3QiLCJyZXMiLCJjb25jYXQiLCJNQVhfVkVMT0NJVFkiLCJNQVhfQUNDRUxFUkFUSU9OIiwibmVpZ2hib3VycyIsImNvbGxpc2lvbiIsInNwZWVkIiwicHJlZmVycmVkVmVsb2NpdHkiLCJnZXRQcmVmZXJyZWRWZWxvY2l0eSIsInNhZmUiLCJ2ZWxvY2l0eU9ic3RhY2xlIiwiZ2V0VmVsb2NpdHlPYnN0YWNsZSIsImlzSW5zaWRlIiwiY2hlY2tJZkRvbmUiLCJoYWxmcGxhbmUxIiwiZ2V0Q2xvc2VzdFBvaW50T25MaW5lIiwidmVydGV4IiwidGFuZ2VudDEiLCJoYWxmUGxhbmUyIiwidGFuZ2VudDIiLCJtaW5QZW5hbHR5IiwiSW5maW5pdHkiLCJiZXN0VmVsb2NpdHkiLCJtaW5UaW1lVG9Db2xsaXNpb24iLCJ0aW1lVG9Db2xsaXNpb24iLCJnZXRGaXJzdFJheUNpcmNsZUludGVyc2VjdGlvbiIsInBlbmFsdHkiLCJtYXhTcGVlZCIsImdvYWxEaXN0YW5jZSIsInZlbG9jaXR5QiIsImNlbnRyZSIsImRpZmYiLCJkaXN0IiwidGhldGEiLCJhY29zIiwicGhpIiwiYXRhbjIiLCJhbmdsZTEiLCJhbmdsZTIiLCJ2ZWxvY2l0eSIsImRldGVybWluYW50MSIsImRldGVybWluYW50MiIsImxpbmVQb2ludCIsImxpbmVEaXJlY3Rpb24iLCJwb2ludCIsImRpcmVjdGlvbiIsImRpc3RhbmNlIiwib3JpZ2luIiwiZGVsdGEiLCJkaXNjcmltIiwiZ2V0UmVjaXByb2NhbFZlbG9jaXR5T2JzdGFjbGUiLCJ2ZWxvY2l0eUEiLCJjb25maWdTZWxlY3QiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYWdlbnRUeXBlU2VsZWN0IiwibnVtYmVyT2ZBZ2VudHNJbnB1dCIsImZyYW1lcmF0ZSIsInBsYXlCdXR0b24iLCJzdGVwQnV0dG9uIiwic2ltdWxhdGlvbiIsIlNpbXVsYXRpb24iLCJSZW5kZXJlcjNEIiwiQWdlbnRUcmVlIiwicGxheSIsInJlY29uZmlndXJlIiwibGFzdFJlbmRlciIsImxhc3RGUFMiLCJmcmFtZXMiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJsb29wIiwidGltZXN0YW1wIiwidGV4dENvbnRlbnQiLCJ0b0ZpeGVkIiwicGxheVBhdXNlIiwiZGlzYWJsZWQiLCJzdGVwIiwidmFsdWUiLCJhZ2VudFR5cGUiLCJwYXJzZUludCIsIkJhc2ljQWdlbnQiLCJTdG9wQWdlbnQiLCJWT0FnZW50IiwiUlZPQWdlbnQiLCJFcnJvciIsIkNvbmZpZ3VyYXRpb25zIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIl0sIm1hcHBpbmdzIjoia0pBSUEsaUJBSUUsV0FBWUEsRUFBcUJDLEdBQy9CQyxLQUFLQyxVQUFZSCxFQUNqQkUsS0FBS0UsUUFBVUgsRUF1Qm5CLE9BcEJFLFlBQUFJLEtBQUEsU0FBS0MsR0FDSEosS0FBS0UsUUFBUUMsS0FBS0MsRUFBT0wsU0FHM0IsWUFBQU0sT0FBQSxTQUFPQyxHQUFQLFdBRUVOLEtBQUtFLFFBQVFLLFNBQVEsU0FBQ0MsR0FDcEJBLEVBQU1ILE9BQ0pDLEVBQ0EsRUFBS0osUUFBUU8sOEJBQThCRCxFQUpuQyxTQVFaUixLQUFLRSxRQUFRQyxLQUFLSCxLQUFLRSxRQUFRUSxXQUdqQyxZQUFBQyxLQUFBLFdBQ0VYLEtBQUtDLFVBQVVXLFFBQ2ZaLEtBQUtDLFVBQVVZLFdBQVdiLEtBQUtFLFVBRW5DLEVBN0JBLEdDSkEsMkJBa0VBLE9BaEVTLEVBQUFZLFNBQVcsRUFFakIsRUFBSyxHQUFNLEVBQVEsRUFBTSxFQUFNLEdBQy9CLEVBQUssRUFBSyxFQUFTLEVBQU0sRUFBTSxFQUNoQyxFQUFLLEVBQUssRUFBVSxFQUFNLEVBQU0sRUFDaEMsRUFBSyxHQUFNLEVBQVMsRUFBTSxFQUFNLEdBRy9CLEVBQUssRUFBSyxHQUFVLEVBQU0sRUFBTSxHQUNoQyxHQUFNLEVBQUssR0FBUyxFQUFNLEVBQU0sR0FDaEMsR0FBTSxHQUFNLEdBQVEsRUFBTSxFQUFNLEdBQ2hDLEVBQUssR0FBTSxHQUFTLEVBQU0sRUFBTSxFQUdqQyxFQUFLLEVBQUssRUFBVSxFQUFNLEVBQU0sRUFDaEMsR0FBTSxFQUFLLEVBQVMsRUFBTSxFQUFNLEVBQ2hDLEdBQU0sR0FBTSxFQUFRLEVBQU0sRUFBTSxFQUNoQyxFQUFLLEdBQU0sRUFBUyxFQUFNLEVBQU0sRUFHaEMsRUFBSyxFQUFLLEVBQVUsRUFBTSxFQUFNLEVBQ2hDLEdBQU0sRUFBSyxFQUFTLEVBQU0sRUFBTSxHQUMvQixHQUFNLEVBQUssRUFBUSxFQUFNLEVBQU0sR0FDL0IsRUFBSyxFQUFLLEVBQVMsRUFBTSxFQUFNLEVBR2hDLEVBQUssR0FBTSxFQUFTLEVBQU0sR0FBTSxFQUNoQyxHQUFNLEdBQU0sRUFBUSxFQUFNLEdBQU0sR0FDL0IsR0FBTSxHQUFNLEVBQU8sRUFBTSxHQUFNLEdBQy9CLEVBQUssR0FBTSxFQUFRLEVBQU0sR0FBTSxHQUcvQixHQUFNLEdBQU0sRUFBTyxHQUFNLEVBQU0sR0FDL0IsR0FBTSxFQUFLLEVBQVEsR0FBTSxFQUFNLEVBQ2hDLEdBQU0sRUFBSyxFQUFTLEdBQU0sRUFBTSxFQUNoQyxHQUFNLEdBQU0sRUFBUSxHQUFNLEVBQU0sR0FJekIsRUFBQUMsUUFBVSxDQUVqQixFQUFHLEVBQUcsRUFDTixFQUFHLEVBQUcsRUFHTixFQUFHLEVBQUcsRUFDTixFQUFHLEVBQUcsRUFHTixFQUFHLEVBQUcsR0FDTixFQUFHLEdBQUksR0FHUCxHQUFJLEdBQUksR0FDUixHQUFJLEdBQUksR0FHUixHQUFJLEdBQUksR0FDUixHQUFJLEdBQUksR0FHUixHQUFJLEdBQUksR0FDUixHQUFJLEdBQUksSUFFVixFQWxFQSxHQ0FBLDJCQTZGQSxPQTVGUyxFQUFBQyxrQkFBUCxXQUVFLE9BQU8sSUFBSUMsYUFBYSxDQUN0QixFQUFHLEVBQUcsRUFBRyxFQUNULEVBQUcsRUFBRyxFQUFHLEVBQ1QsRUFBRyxFQUFHLEVBQUcsRUFDVCxFQUFHLEVBQUcsRUFBRyxLQUlOLEVBQUFDLG1CQUFQLFNBQTBCQyxHQUN4QixJQUFNQyxFQUFJQyxLQUFLQyxJQUFJSCxHQUNiSSxFQUFJRixLQUFLRyxJQUFJTCxHQUduQixPQUFPLElBQUlGLGFBQWEsQ0FDdEIsRUFBRyxFQUFHLEVBQUcsRUFDVCxFQUFHTSxFQUFHSCxFQUFHLEVBQ1QsR0FBR0EsRUFBR0csRUFBRyxFQUNULEVBQUcsRUFBRyxFQUFHLEtBSU4sRUFBQUUsbUJBQVAsU0FBMEJOLEdBQ3hCLElBQU1DLEVBQUlDLEtBQUtDLElBQUlILEdBQ2JJLEVBQUlGLEtBQUtHLElBQUlMLEdBR25CLE9BQU8sSUFBSUYsYUFBYSxDQUN0Qk0sRUFBRyxHQUFHSCxFQUFHLEVBQ1QsRUFBRyxFQUFHLEVBQUcsRUFDVEEsRUFBRyxFQUFHRyxFQUFHLEVBQ1QsRUFBRyxFQUFHLEVBQUcsS0FJTixFQUFBRyxtQkFBUCxTQUEwQlAsR0FDeEIsSUFBTUMsRUFBSUMsS0FBS0MsSUFBSUgsR0FDYkksRUFBSUYsS0FBS0csSUFBSUwsR0FHbkIsT0FBTyxJQUFJRixhQUFhLENBQ3RCTSxFQUFHSCxFQUFHLEVBQUcsR0FDVEEsRUFBR0csRUFBRyxFQUFHLEVBQ1QsRUFBRyxFQUFHLEVBQUcsRUFDVCxFQUFHLEVBQUcsRUFBRyxLQUlOLEVBQUFJLHFCQUFQLFNBQTRCQyxFQUFXQyxFQUFXQyxHQUVoRCxPQUFPLElBQUliLGFBQWEsQ0FDdEIsRUFBRyxFQUFHLEVBQUcsRUFDVCxFQUFHLEVBQUcsRUFBRyxFQUNULEVBQUcsRUFBRyxFQUFHLEVBQ1RXLEVBQUdDLEVBQUdDLEVBQUcsS0FJTixFQUFBQywrQkFBUCxTQUNFQyxFQUNBQyxFQUNBQyxFQUNBQyxHQUVBLElBQU1DLEVBQUksRUFBTWYsS0FBS2dCLElBQUlMLEVBQU0sR0FDekJNLEVBQUksR0FBT0osRUFBT0MsR0FHeEIsT0FBTyxJQUFJbEIsYUFBYSxDQUN0Qm1CLEVBQUlILEVBQWEsRUFBb0IsRUFBSSxFQUMzQixFQUFHRyxFQUFvQixFQUFJLEVBQzNCLEVBQUcsR0FBTUYsRUFBT0MsR0FBT0csR0FBSSxFQUMzQixFQUFHLEVBQUdKLEVBQU9DLEVBQU1HLEVBQUksRUFBSSxLQUl0QyxFQUFBQyxpQkFBUCxTQUF3QkMsRUFBaUJDLEdBR3ZDLElBRkEsSUFBSUMsRUFBUyxJQUFJekIsYUFBYSxJQUVyQnFCLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUNyQixJQUFLLElBQUlLLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUFLLENBRTFCLElBREEsSUFBSUMsRUFBTSxFQUNEQyxFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFDckJELEdBQU9KLEVBQU0sRUFBSkYsRUFBUU8sR0FBS0osRUFBTSxFQUFKSSxFQUFRRixHQUVsQ0QsRUFBVyxFQUFKSixFQUFRSyxHQUFLQyxFQUl4QixPQUFPRixHQUVYLEVBN0ZBLEdDQUEsYUFJRSxXQUFZZCxFQUFXQyxHQUNyQjdCLEtBQUs0QixFQUFJQSxFQUNUNUIsS0FBSzZCLEVBQUlBLEVBaURiLE9BOUNFLFlBQUFpQixLQUFBLFNBQUtDLEdBQ0gsT0FBTyxJQUFJQyxFQUFTRCxFQUFFbkIsRUFBR21CLEVBQUVsQixJQUc3QixZQUFBb0IsSUFBQSxTQUFJRixHQUNGLE9BQU8sSUFBSUMsRUFBU2hELEtBQUs0QixFQUFJbUIsRUFBRW5CLEVBQUc1QixLQUFLNkIsRUFBSWtCLEVBQUVsQixJQUcvQyxZQUFBcUIsU0FBQSxTQUFTSCxHQUNQLE9BQU8sSUFBSUMsRUFBU2hELEtBQUs0QixFQUFJbUIsRUFBRW5CLEVBQUc1QixLQUFLNkIsRUFBSWtCLEVBQUVsQixJQUcvQyxZQUFBc0IsU0FBQSxTQUFTL0IsR0FDUCxPQUFPLElBQUk0QixFQUFTaEQsS0FBSzRCLEVBQUlSLEVBQUdwQixLQUFLNkIsRUFBSVQsSUFHM0MsWUFBQWdDLE9BQUEsU0FBT2hDLEdBQ0wsT0FBTyxJQUFJNEIsRUFBU2hELEtBQUs0QixFQUFJUixFQUFHcEIsS0FBSzZCLEVBQUlULElBRzNDLFlBQUFpQyxJQUFBLFNBQUlOLEdBQ0YsT0FBTy9DLEtBQUs0QixFQUFJbUIsRUFBRW5CLEVBQUk1QixLQUFLNkIsRUFBSWtCLEVBQUVsQixHQUduQyxZQUFBeUIsY0FBQSxXQUNFLE9BQU8sU0FBQXRELEtBQUs0QixFQUFLLEdBQUksU0FBQTVCLEtBQUs2QixFQUFLLElBR2pDLFlBQUEwQixVQUFBLFdBQ0UsT0FBT2xDLEtBQUttQyxLQUFLeEQsS0FBS3NELGtCQUd4QixZQUFBRyxVQUFBLFdBQ0UsSUFBSUMsRUFBSTFELEtBQUt1RCxZQUNiLE9BQVksR0FBTEcsRUFBUyxJQUFJVixFQUFTLEVBQUcsR0FBS2hELEtBQUtvRCxPQUFPTSxJQUduRCxZQUFBQyxPQUFBLFNBQU9DLEdBRUwsSUFBSUMsRUFBU3hDLEtBQUttQyxLQUFLbkMsS0FBS3lDLFVBQVlGLEVBQ3BDekMsRUFBUSxFQUFJRSxLQUFLMEMsR0FBSzFDLEtBQUt5QyxTQUMvQixPQUFPLElBQUlkLEVBQ1RoRCxLQUFLNEIsRUFBSWlDLEVBQVN4QyxLQUFLRyxJQUFJTCxHQUMzQm5CLEtBQUs2QixFQUFJZ0MsRUFBU3hDLEtBQUtDLElBQUlILEtBR2pDLEVBdkRBLEdDeUNBLGFBMEJFLFdBQVk2QyxHQUFaLFdBTUUsR0FWTSxLQUFBQyxLQUFPLEVBQ1AsS0FBQUMsS0FBTyxFQUNQLEtBQUFDLFdBQWEsSUF3TGIsS0FBQUMsVUFBWSxTQUFDQyxHQUtuQixPQUpBLEVBQUtDLE1BQU8sRUFDWixFQUFLQyxLQUFPRixFQUFNRyxNQUNsQixFQUFLQyxLQUFPSixFQUFNSyxNQUNsQkwsRUFBTU0sa0JBQ0MsR0FHRCxLQUFBQyxRQUFVLFNBQUNQLEdBR2pCLE9BRkEsRUFBS0MsTUFBTyxFQUNaRCxFQUFNTSxrQkFDQyxHQUdELEtBQUFFLFVBQVksU0FBQ1IsR0FDbkIsSUFBSyxFQUFLQyxLQUFNLE9BQU8sRUFDdkIsRUFBS1EsR0FBa0MsR0FBM0JULEVBQU1HLE1BQVEsRUFBS0QsTUFBWWxELEtBQUswQyxHQUFNLEVBQUtDLE9BQU9lLE1BQ2xFLEVBQUtDLEdBQWtDLEdBQTNCWCxFQUFNSyxNQUFRLEVBQUtELE1BQVlwRCxLQUFLMEMsR0FBTSxFQUFLQyxPQUFPaUIsT0FDbEUsRUFBS2hCLE1BQVEsRUFBS2EsR0FDbEIsRUFBS1osTUFBUSxFQUFLYyxHQUNsQixFQUFLVCxLQUFPRixFQUFNRyxNQUNsQixFQUFLQyxLQUFPSixFQUFNSyxNQUdkLEVBQUtSLEtBQU8sSUFDZCxFQUFLQSxLQUFPLEdBR1YsRUFBS0EsTUFBUTdDLEtBQUswQyxLQUNwQixFQUFLRyxNQUFRN0MsS0FBSzBDLElBR3BCLElBQUltQixFQUFVQyxFQUFPekQsbUJBQW1CLEVBQUt1QyxNQUN6Q21CLEVBQVVELEVBQU9qRSxtQkFBbUIsRUFBS2dELE1BQ3pDbUIsRUFBY0YsRUFBTzVDLGlCQUFpQjJDLEVBQVNFLEdBSW5ELE9BSEEsRUFBS0UsR0FBR0MsaUJBQWlCLEVBQUtDLGFBQWEsRUFBT0gsR0FFbERoQixFQUFNTSxrQkFDQyxHQUdELEtBQUFjLFlBQWMsU0FBQ3BCLEdBQ3JCLEVBQUtGLFlBQWNFLEVBQU1xQixPQUNyQixFQUFLdkIsV0FBYSxJQUNwQixFQUFLQSxXQUFhLEdBR3BCLElBQU13QixFQUFhUixFQUFPeEQscUJBQXFCLEVBQUcsR0FBSSxFQUFLd0MsWUFDM0QsRUFBS21CLEdBQUdDLGlCQUFpQixFQUFLSyxZQUFZLEVBQU9ELEdBRWpELElBQU1FLEVBQW1CVixFQUFPcEQsK0JBQ3hCVixLQUFLMEMsR0FBSyxJQUFoQixHQUNBLEVBQUtDLE9BQU9lLE1BQVEsRUFBS2YsT0FBT2lCLE9BQ2hDLEdBQ0EsRUFBS2QsV0FBYSxLQUtwQixPQUhBLEVBQUttQixHQUFHQyxpQkFBaUIsRUFBS08sWUFBWSxFQUFPRCxHQUVqRHhCLEVBQU1NLGtCQUNDLEdBaFBQM0UsS0FBS2dFLE9BQVNBLEVBR2RoRSxLQUFLc0YsR0FBS3RGLEtBQUtnRSxPQUFPK0IsV0FBVyxTQUU1Qi9GLEtBQUtzRixHQUFWLENBTUEsSUFBTVUsRUFBZWhHLEtBQUtzRixHQUFHVyxhQUFhakcsS0FBS3NGLEdBQUdZLGVBQzVDQyxFQUFpQm5HLEtBQUtzRixHQUFHVyxhQUFhakcsS0FBS3NGLEdBQUdjLGlCQU1wRCxHQUpBcEcsS0FBS3NGLEdBQUdlLGFBQWFMLEVBNUVBLDR2QkE2RXJCaEcsS0FBS3NGLEdBQUdlLGFBQWFGLEVBcERFLGdJQXNEdkJuRyxLQUFLc0YsR0FBR2dCLGNBQWNOLEdBQ2pCaEcsS0FBS3NGLEdBQUdpQixtQkFBbUJQLEVBQWNoRyxLQUFLc0YsR0FBR2tCLGdCQVN0RCxHQURBeEcsS0FBS3NGLEdBQUdnQixjQUFjSCxHQUNqQm5HLEtBQUtzRixHQUFHaUIsbUJBQW1CSixFQUFnQm5HLEtBQUtzRixHQUFHa0IsZ0JBY3hELEdBTEF4RyxLQUFLeUcsUUFBVXpHLEtBQUtzRixHQUFHb0IsZ0JBQ3ZCMUcsS0FBS3NGLEdBQUdxQixhQUFhM0csS0FBS3lHLFFBQVNULEdBQ25DaEcsS0FBS3NGLEdBQUdxQixhQUFhM0csS0FBS3lHLFFBQVNOLEdBQ25DbkcsS0FBS3NGLEdBQUdzQixZQUFZNUcsS0FBS3lHLFNBRXBCekcsS0FBS3NGLEdBQUd1QixvQkFBb0I3RyxLQUFLeUcsUUFBU3pHLEtBQUtzRixHQUFHd0IsYUFTdkQsR0FEQTlHLEtBQUtzRixHQUFHeUIsZ0JBQWdCL0csS0FBS3lHLFNBQ3hCekcsS0FBS3NGLEdBQUd1QixvQkFBb0I3RyxLQUFLeUcsUUFBU3pHLEtBQUtzRixHQUFHMEIsaUJBQXZELENBU0FoSCxLQUFLc0YsR0FBRzJCLFdBQVdqSCxLQUFLeUcsU0FDeEJ6RyxLQUFLc0YsR0FBRzRCLE9BQU9sSCxLQUFLc0YsR0FBRzZCLFlBQ3ZCbkgsS0FBS3NGLEdBQUc0QixPQUFPbEgsS0FBS3NGLEdBQUc4QixXQUN2QnBILEtBQUtzRixHQUFHK0IsVUFBVXJILEtBQUtzRixHQUFHZ0MsS0FDMUJ0SCxLQUFLc0YsR0FBR2lDLFNBQVN2SCxLQUFLc0YsR0FBR2tDLE1BQ3pCeEgsS0FBS3NGLEdBQUdtQyxXQUFXLEVBQUcsRUFBRyxFQUFHLEdBRzVCekgsS0FBS2dFLE9BQU8wRCxpQkFBaUIsWUFBYTFILEtBQUtvRSxXQUFXLEdBQzFEcEUsS0FBS2dFLE9BQU8wRCxpQkFBaUIsVUFBVzFILEtBQUs0RSxTQUFTLEdBQ3RENUUsS0FBS2dFLE9BQU8wRCxpQkFBaUIsV0FBWTFILEtBQUs0RSxTQUFTLEdBQ3ZENUUsS0FBS2dFLE9BQU8wRCxpQkFBaUIsWUFBYTFILEtBQUs2RSxXQUFXLEdBQzFEN0UsS0FBS2dFLE9BQU8wRCxpQkFBaUIsUUFBUzFILEtBQUt5RixhQUFhLEdBR3hEekYsS0FBSzJILGFBQWUzSCxLQUFLc0YsR0FBR3NDLGVBQzVCNUgsS0FBS3NGLEdBQUd1QyxXQUFXN0gsS0FBS3NGLEdBQUd3QyxhQUFjOUgsS0FBSzJILGNBQzlDM0gsS0FBS3NGLEdBQUd5QyxXQUNOL0gsS0FBS3NGLEdBQUd3QyxhQUNSLElBQUk3RyxhQUFhK0csRUFBVWxILFVBQzNCZCxLQUFLc0YsR0FBRzJDLGFBR1ZqSSxLQUFLa0ksWUFBY2xJLEtBQUtzRixHQUFHc0MsZUFDM0I1SCxLQUFLc0YsR0FBR3VDLFdBQVc3SCxLQUFLc0YsR0FBRzZDLHFCQUFzQm5JLEtBQUtrSSxhQUN0RGxJLEtBQUtzRixHQUFHeUMsV0FDTi9ILEtBQUtzRixHQUFHNkMscUJBQ1IsSUFBSUMsWUFBWUosRUFBVWpILFNBQzFCZixLQUFLc0YsR0FBRzJDLGFBSVZqSSxLQUFLcUksa0JBQW9CckksS0FBS3NGLEdBQUdnRCxrQkFDL0J0SSxLQUFLeUcsUUFDTCxnQkFHRnpHLEtBQUtzRixHQUFHaUQsb0JBQ052SSxLQUFLcUksa0JBQ0wsRUFDQXJJLEtBQUtzRixHQUFHa0QsT0FDUixFQUNBLEVBQUl2SCxhQUFhd0gsa0JBQ2pCLEdBRUZ6SSxLQUFLc0YsR0FBR29ELHdCQUF3QjFJLEtBQUtxSSxtQkFFckNySSxLQUFLMkksZ0JBQWtCM0ksS0FBS3NGLEdBQUdnRCxrQkFDN0J0SSxLQUFLeUcsUUFDTCxjQUdGekcsS0FBS3NGLEdBQUdpRCxvQkFDTnZJLEtBQUsySSxnQkFDTCxFQUNBM0ksS0FBS3NGLEdBQUdrRCxPQUNSLEVBQ0EsRUFBSXZILGFBQWF3SCxrQkFDakIsRUFBSXhILGFBQWF3SCxtQkFFbkJ6SSxLQUFLc0YsR0FBR29ELHdCQUF3QjFJLEtBQUsySSxpQkFHckMzSSxLQUFLOEYsV0FBYTlGLEtBQUtzRixHQUFHc0QsbUJBQW1CNUksS0FBS3lHLFFBQVMsV0FDM0R6RyxLQUFLNEYsV0FBYTVGLEtBQUtzRixHQUFHc0QsbUJBQW1CNUksS0FBS3lHLFFBQVMsV0FDM0R6RyxLQUFLd0YsWUFBY3hGLEtBQUtzRixHQUFHc0QsbUJBQW1CNUksS0FBS3lHLFFBQVMsWUFDNUR6RyxLQUFLNkksVUFBWTdJLEtBQUtzRixHQUFHc0QsbUJBQW1CNUksS0FBS3lHLFFBQVMsWUFDMUR6RyxLQUFLOEksVUFBWTlJLEtBQUtzRixHQUFHc0QsbUJBQW1CNUksS0FBS3lHLFFBQVMsYUFDMUR6RyxLQUFLK0ksVUFBWS9JLEtBQUtzRixHQUFHc0QsbUJBQW1CNUksS0FBS3lHLFFBQVMsVUFHMUQsSUFBTVosRUFBbUJWLEVBQU9wRCwrQkFDeEJWLEtBQUswQyxHQUFLLElBQWhCLEdBQ0EvRCxLQUFLZ0UsT0FBT2UsTUFBUS9FLEtBQUtnRSxPQUFPaUIsT0FDaEMsR0FDQWpGLEtBQUttRSxXQUFhLEtBR2R3QixFQUFhUixFQUFPeEQscUJBQXFCLEVBQUcsR0FBSTNCLEtBQUttRSxZQUdyRGtCLEVBQWNGLEVBQU9uRSxvQkFFM0JoQixLQUFLc0YsR0FBR0MsaUJBQWlCdkYsS0FBSzhGLFlBQVksRUFBT0QsR0FDakQ3RixLQUFLc0YsR0FBR0MsaUJBQWlCdkYsS0FBSzRGLFlBQVksRUFBT0QsR0FDakQzRixLQUFLc0YsR0FBR0MsaUJBQWlCdkYsS0FBS3dGLGFBQWEsRUFBT0gsUUE3RmhEMkQsUUFBUUMsTUFDTiwyQkFDQWpKLEtBQUtzRixHQUFHNEQsa0JBQWtCbEosS0FBS3lHLGVBWGpDdUMsUUFBUUMsTUFDTix3QkFDQWpKLEtBQUtzRixHQUFHNEQsa0JBQWtCbEosS0FBS3lHLGVBaEJqQ3VDLFFBQVFDLE1BQ04sa0NBQ0FqSixLQUFLc0YsR0FBRzZELGlCQUFpQmhELFNBWDNCNkMsUUFBUUMsTUFDTixnQ0FDQWpKLEtBQUtzRixHQUFHNkQsaUJBQWlCbkQsU0FmM0JnRCxRQUFRQyxNQUFNLHVCQTRPcEIsT0EvRkUsWUFBQXJJLE1BQUEsV0FDRVosS0FBS3NGLEdBQUcxRSxNQUFNWixLQUFLc0YsR0FBRzhELGlCQUFtQnBKLEtBQUtzRixHQUFHK0QsbUJBR25ELFlBQUF4SSxXQUFBLFNBQVdkLEdBQVgsV0FDRUEsRUFBT1EsU0FBUSxTQUFDQyxHQUVkLElBQUk4SSxFQUFNOUksRUFBTStJLGNBQ2hCLEVBQUtqRSxHQUFHa0UsVUFDTixFQUFLWCxVQUNMUyxFQUFJMUgsRUFBSSxFQUFLb0MsT0FBT2UsTUFBUSxFQUM1QnVFLEVBQUl6SCxFQUFJLEVBQUttQyxPQUFPaUIsT0FBUyxHQUkvQixJQUFJd0UsRUFBTWpKLEVBQU1rSixlQUFlakcsWUFDbEIsR0FBVGdHLEVBQUk3SCxHQUFtQixHQUFUNkgsRUFBSTVILElBQ3BCNEgsRUFBTSxJQUFJekcsRUFBUyxFQUFHLElBRXhCLEVBQUtzQyxHQUFHa0UsVUFBVSxFQUFLVixVQUFXVyxFQUFJN0gsRUFBRzZILEVBQUk1SCxHQUc3QyxFQUFLeUQsR0FBR3FFLFVBQVUsRUFBS1osVUFBV3ZJLEVBQU1vSixRQUd4QyxFQUFLdEUsR0FBR3VFLGFBQ04sRUFBS3ZFLEdBQUd3RSxVQUNSOUIsRUFBVWpILFFBQVFnSixPQUNsQixFQUFLekUsR0FBRzBFLGVBQ1IsT0FrRVIsRUE3UUEsR0N0Q0EsYUFVRSxXQUNFQyxFQUNBQyxFQUNBQyxFQUNBdEcsR0FFQTdELEtBQUtvSyxHQUFLSCxFQUNWakssS0FBS3FLLFVBQVlILEVBQ2pCbEssS0FBS3NLLGNBQWdCSCxFQUNyQm5LLEtBQUs0SixPQUFTL0YsRUFDZDdELEtBQUt1SyxXQUFhLElBQUl2SCxFQUFTLEVBQUcsR0FFbENoRCxLQUFLd0ssU0FBVSxFQXNDbkIsT0FuQ0UsWUFBQWpCLFlBQUEsV0FDRSxPQUFPdkosS0FBS3FLLFdBR2QsWUFBQVgsYUFBQSxXQUNFLE9BQU8xSixLQUFLdUssWUFHZCxZQUFBRSxVQUFBLFdBQ0UsT0FBT3pLLEtBQUt3SyxTQUdkLFlBQUFFLFdBQUEsV0FFRSxPQUFPLEdBR1QsWUFBQXJLLE9BQUEsU0FBT0MsRUFBZ0JKLEdBQ3JCLElBQUlGLEtBQUt3SyxRQUFULENBSUEsSUFBSUcsRUFBZ0IzSyxLQUFLc0ssY0FBY3BILFNBQVNsRCxLQUFLcUssV0FDbENNLEVBQWNwSCxZQUVKLEdBQVRqRCxFQUFlLEtBQ2pDTixLQUFLdUssV0FBYUksRUFBY2xILFlBQ2hDekQsS0FBS3FLLFVBQVlySyxLQUFLcUssVUFBVXBILElBQzlCakQsS0FBS3VLLFdBQVdwSCxTQUFtQixHQUFUN0MsRUFBZSxRQUczQ04sS0FBS3FLLFVBQVlySyxLQUFLc0ssY0FDdEJ0SyxLQUFLd0ssU0FBVSxLQUdyQixFQTVEQSxHQ0FBLGFBV0UsV0FDRVAsRUFDQUMsRUFDQUMsRUFDQXRHLEdBRUE3RCxLQUFLb0ssR0FBS0gsRUFDVmpLLEtBQUtxSyxVQUFZSCxFQUNqQmxLLEtBQUtzSyxjQUFnQkgsRUFDckJuSyxLQUFLNEosT0FBUy9GLEVBQ2Q3RCxLQUFLdUssV0FBYSxJQUFJdkgsRUFBUyxFQUFHLEdBRWxDaEQsS0FBS3dLLFNBQVUsRUFDZnhLLEtBQUs0SyxVQUFXLEVBdURwQixPQXBERSxZQUFBckIsWUFBQSxXQUNFLE9BQU92SixLQUFLcUssV0FHZCxZQUFBWCxhQUFBLFdBQ0UsT0FBTzFKLEtBQUt1SyxZQUdkLFlBQUFFLFVBQUEsV0FDRSxPQUFPekssS0FBS3dLLFNBR2QsWUFBQUUsV0FBQSxXQUNFLE9BQU8xSyxLQUFLNEssVUFHZCxZQUFBdkssT0FBQSxTQUFPQyxFQUFnQlAsR0FBdkIsV0FDRSxJQUFJQyxLQUFLd0ssUUFBVCxDQUlBLElBQUlHLEVBQWdCM0ssS0FBS3NLLGNBQWNwSCxTQUFTbEQsS0FBS3FLLFdBR3JELEdBRm1CTSxFQUFjcEgsWUFFSixHQUFUakQsRUFBZSxJQUFNLENBQ3ZDTixLQUFLdUssV0FBYUksRUFBY2xILFlBQ2hDLElBQUksRUFBVXpELEtBQUtxSyxVQUFVcEgsSUFBSWpELEtBQUt1SyxXQUFXcEgsU0FBUyxLQUUxRG5ELEtBQUs0SyxVQUFXLEVBQ2hCN0ssRUFBT1EsU0FBUSxTQUFDQyxHQUNWQSxFQUFNNEosSUFBTSxFQUFLQSxJQUFNLEVBQUtTLFNBQVNySyxFQUFPLEtBQzlDLEVBQUtvSyxVQUFXLE1BSWY1SyxLQUFLNEssV0FDUjVLLEtBQUtxSyxVQUFZckssS0FBS3FLLFVBQVVwSCxJQUM5QmpELEtBQUt1SyxXQUFXcEgsU0FBbUIsR0FBVDdDLEVBQWUsWUFJN0NOLEtBQUtxSyxVQUFZckssS0FBS3NLLGNBQ3RCdEssS0FBS3dLLFNBQVUsSUFJbkIsWUFBQUssU0FBQSxTQUFTckssRUFBZXNLLEdBQ3RCLE9BQ0V0SyxFQUFNK0ksY0FBY3JHLFNBQVM0SCxHQUFVdkgsWUFDdkMvQyxFQUFNb0osT0FBUzVKLEtBQUs0SixRQUcxQixFQS9FQSxHQ0lBLDJCQTRLQSxPQTNLUyxFQUFBbUIsZUFBUCxTQUNFQyxFQUNBakcsRUFDQUUsRUFDQWdHLEdBWUEsSUFKQSxJQUFJbEwsRUFBbUIsR0FDbkJtTCxFQUFpQmxMLEtBQUttTCxrQkFBa0JwRyxFQUFPRSxFQUFRK0YsRUFBRyxJQUMxREksRUFBZ0JwTCxLQUFLbUwsa0JBQWtCcEcsRUFBT0UsRUFBUStGLEVBQUcsSUFFcEQxSSxFQUFJLEVBQUdBLEVBQUkwSSxFQUFHMUksSUFBSyxDQUMxQixJQUFNOUIsRUFBUXlLLEVBQ1ozSSxFQUNBNEksRUFBZTVJLEdBQ2Y4SSxFQUFjOUksR0FDZCxJQUVGdkMsRUFBT3NMLEtBQUs3SyxHQUdkLE1BQU8sQ0FBRVQsT0FBUUEsSUFHWixFQUFBdUwsYUFBUCxTQUNFTixFQUNBakcsRUFDQUUsRUFDQWdHLEdBV0EsSUFIQSxJQUFJbEwsRUFBbUIsR0FDbkJtTCxFQUFpQmxMLEtBQUttTCxrQkFBa0JwRyxFQUFPRSxFQUFRK0YsRUFBRyxJQUVyRDFJLEVBQUksRUFBR0EsRUFBSTBJLEVBQUcxSSxJQUFLLENBQzFCLElBQU05QixFQUFReUssRUFDWjNJLEVBQ0E0SSxFQUFlNUksR0FDZixJQUFJVSxHQUFXVixFQUFJLElBQU0wSSxFQUFJLEdBQU1qRyxFQUFPRSxFQUFTLEdBQ25ELElBRUZsRixFQUFPc0wsS0FBSzdLLEdBR2QsTUFBTyxDQUFFVCxPQUFRQSxJQUdaLEVBQUF3TCxlQUFQLFNBQ0VQLEVBQ0FqRyxFQUNBRSxFQUNBZ0csR0FhQSxJQUxBLElBQUlsTCxFQUFtQixHQUNqQnlMLEVBQVV6RyxFQUFRLEVBQ2xCMEcsRUFBVXhHLEVBQVMsRUFDbkJwQixFQUFTb0IsRUFBUyxFQUFJLEdBRW5CM0MsRUFBSSxFQUFHQSxFQUFJMEksRUFBRzFJLElBQUssQ0FDMUIsSUFBTW5CLEVBQVMsRUFBSUUsS0FBSzBDLEdBQUt6QixFQUFLMEksRUFDNUJ4SyxFQUFReUssRUFDWjNJLEVBQ0EsSUFBSVUsRUFDRndJLEVBQVUzSCxFQUFTeEMsS0FBS0csSUFBSUwsR0FDNUJzSyxFQUFVNUgsRUFBU3hDLEtBQUtDLElBQUlILElBRTlCLElBQUk2QixFQUNGd0ksRUFBVTNILEVBQVN4QyxLQUFLRyxJQUFJTCxFQUFRRSxLQUFLMEMsSUFDekMwSCxFQUFVNUgsRUFBU3hDLEtBQUtDLElBQUlILEVBQVFFLEtBQUswQyxLQUUzQyxJQUVGaEUsRUFBT3NMLEtBQUs3SyxHQUdkLE1BQU8sQ0FBRVQsT0FBUUEsSUFHWixFQUFBMkwsV0FBUCxTQUNFVixFQUNBakcsRUFDQUUsRUFDQWdHLEdBaUJBLElBVEEsSUFBSWxMLEVBQW1CLEdBRW5CNEwsRUFBT3RLLEtBQUt1SyxLQUFLWixFQUFJLEdBR3JCYSxFQUFROUcsRUFERCxHQURHLElBRXdCNEcsRUFBTyxHQUN6Q0csRUFBTTdHLEVBQVMsRUFBSSxJQUVuQmdGLEVBQUssRUFDQTNILEVBQUksRUFBR0EsRUFBSXFKLEVBQU1ySixJQUFLLENBQzdCLElBQUssSUFBSUssRUFBSSxFQUFHQSxFQVRQLEVBU2lCQSxJQUFLLENBQzdCLElBQUlILEVBQUksSUFBSVEsRUFQTCxHQURHLEdBUTRCVixFQUFHd0osRUFSL0IsR0FRK0NuSixHQUNyREYsRUFBSSxJQUFJTyxFQUFTNkksRUFUWCxHQVM2QnZKLEVBQUd3SixFQVRoQyxHQVNnRG5KLEdBSzFELEdBRkE1QyxFQUFPc0wsS0FBS0osRUFBaUJoQixFQUFJekgsRUFBR0MsRUFBRyxPQUN2Q3dILEdBQ1VlLEVBQ1IsTUFPRixHQUhBakwsRUFBT3NMLEtBQUtKLEVBQWlCaEIsRUFBSXhILEVBQUdELEVBQUcsT0FDdkN5SCxHQUVVZSxFQUNSLE1BR0osR0FBSWYsR0FBTWUsRUFDUixNQUlKLE1BQU8sQ0FBRWpMLE9BQVFBLElBR0osRUFBQW9MLGtCQUFmLFNBQ0VZLEVBQ0FDLEVBQ0FoQixFQUNBaUIsR0FJQSxJQUZBLElBQUlDLEVBQXNCLEcsYUFNeEIsSUFIQSxJQUNJNUMsRUFEQTZDLEdBQVcsRUFHUkEsR0FDTEEsR0FBVyxFQUNYN0MsRUFBTSxJQUFJdEcsRUFBUytJLEVBQVMxSyxLQUFLeUMsU0FBVWtJLEVBQVMzSyxLQUFLeUMsVUFFekRvSSxFQUFRM0wsU0FBUSxTQUFDb0QsR0FDWDJGLEVBQUlwRyxTQUFTUyxHQUFRTCxnQkFBa0IsU0FBQTJJLEVBQWEsS0FDdERFLEdBQVcsTUFLakJELEVBQVFiLEtBQUsvQixJQWZOaEgsRUFBSSxFQUFHQSxFQUFJMEksRUFBRzFJLEksSUFrQnZCLE9BQU80SixHQUVYLEVBNUtBLEdDRUEsMkJBK0dBLE9BM0dFLFlBQUEvTCxLQUFBLFNBQUtKLEdBQ0hDLEtBQUtFLFFBQVVILEVBQ2ZDLEtBQUtvTSxNQUFRcE0sS0FBS3FNLGNBQWNyTSxLQUFLRSxTQUFTLElBR2hELFlBQUFRLE9BQUEsV0FDRSxPQUFPVixLQUFLRSxTQUdkLFlBQUFvTSxnQ0FBQSxTQUFnQzlMLEVBQWUrTCxHQUM3QyxJQUFJQyxFQUFPaE0sRUFBTStJLGNBQWMzSCxFQUFJMkssRUFDL0JFLEVBQU9qTSxFQUFNK0ksY0FBYzFILEVBQUkwSyxFQUMvQkcsRUFBT2xNLEVBQU0rSSxjQUFjM0gsRUFBSTJLLEVBQy9CSSxFQUFPbk0sRUFBTStJLGNBQWMxSCxFQUFJMEssRUFHbkMsT0FEaUJ2TSxLQUFLNE0sWUFBWTVNLEtBQUtvTSxNQUFPSSxFQUFNQyxFQUFNQyxFQUFNQyxHQUFNLEdBQ3BERSxRQUFPLFNBQUNDLEdBQVUsT0FBQUEsRUFBTTFDLEtBQU81SixFQUFNNEosT0FHekQsWUFBQTNKLDhCQUFBLFNBQThCRCxFQUFlK0wsR0FFM0MsT0FEaUJ2TSxLQUFLc00sZ0NBQWdDOUwsRUFBTytMLEdBQzNDTSxRQUNoQixTQUFDQyxHQUNDLE9BQUF0TSxFQUFNK0ksY0FBY3JHLFNBQVM0SixFQUFNdkQsZUFBZWpHLGlCQUNsRCxTQUFBaUosRUFBUyxPQUlmLFlBQUFoTSxRQUFBLFNBQVF3TSxHQUNOL00sS0FBS0UsUUFBUUssUUFBUXdNLElBR2YsWUFBQVYsY0FBUixTQUFzQnRNLEVBQWtCaU4sR0FDdEMsR0FBc0IsSUFBbEJqTixFQUFPZ0ssT0FDVCxPQUFPLEtBR1QsSUFBSWtELEVBQU01TCxLQUFLNkwsTUFBTW5OLEVBQU9nSyxPQUFTLEdBRWpDb0QsRUFBU0gsRUFDVGpOLEVBQU9xTixNQUFLLFNBQUM1SyxFQUFHQyxHQUFNLE9BQUFELEVBQUUrRyxjQUFjM0gsRUFBSWEsRUFBRThHLGNBQWMzSCxLQUMxRDdCLEVBQU9xTixNQUFLLFNBQUM1SyxFQUFHQyxHQUFNLE9BQUFELEVBQUUrRyxjQUFjMUgsRUFBSVksRUFBRThHLGNBQWMxSCxLQUUxRHdMLEVBQU9yTixLQUFLcU0sY0FBY2MsRUFBT0csTUFBTSxFQUFHTCxJQUFPRCxHQUNqRG5CLEVBQVE3TCxLQUFLcU0sY0FDZmMsRUFBT0csTUFBTUwsRUFBTSxFQUFHbE4sRUFBT2dLLFNBQzVCaUQsR0FHSCxNQUFPLENBQUV4TSxNQUFPVCxFQUFPa04sR0FBTUksS0FBTUEsRUFBTXhCLE1BQU9BLElBRzFDLFlBQUFlLFlBQVIsU0FDRVcsRUFDQWYsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUssR0FFQSxHQUFZLE1BQVJPLEVBQ0YsTUFBTyxHQUdULElBQUlDLEVBQWdCLEdBeUNwQixPQXhDSVIsR0FFRU8sRUFBSy9NLE1BQU0rSSxjQUFjM0gsR0FBSzhLLElBQ2hDYyxFQUFNQSxFQUFJQyxPQUNSek4sS0FBSzRNLFlBQVlXLEVBQUsxQixNQUFPVyxFQUFNQyxFQUFNQyxFQUFNQyxHQUFPSyxLQUt0RE8sRUFBSy9NLE1BQU0rSSxjQUFjM0gsR0FBSzRLLElBQ2hDZ0IsRUFBTUEsRUFBSUMsT0FDUnpOLEtBQUs0TSxZQUFZVyxFQUFLRixLQUFNYixFQUFNQyxFQUFNQyxFQUFNQyxHQUFPSyxPQUtyRE8sRUFBSy9NLE1BQU0rSSxjQUFjMUgsR0FBSzhLLElBQ2hDYSxFQUFNQSxFQUFJQyxPQUNSek4sS0FBSzRNLFlBQVlXLEVBQUsxQixNQUFPVyxFQUFNQyxFQUFNQyxFQUFNQyxHQUFPSyxLQUt0RE8sRUFBSy9NLE1BQU0rSSxjQUFjMUgsR0FBSzRLLElBQ2hDZSxFQUFNQSxFQUFJQyxPQUNSek4sS0FBSzRNLFlBQVlXLEVBQUtGLEtBQU1iLEVBQU1DLEVBQU1DLEVBQU1DLEdBQU9LLE1BT3pETyxFQUFLL00sTUFBTStJLGNBQWMzSCxHQUFLNEssR0FDOUJlLEVBQUsvTSxNQUFNK0ksY0FBYzFILEdBQUs0SyxHQUM5QmMsRUFBSy9NLE1BQU0rSSxjQUFjM0gsR0FBSzhLLEdBQzlCYSxFQUFLL00sTUFBTStJLGNBQWMxSCxHQUFLOEssR0FFOUJhLEVBQUluQyxLQUFLa0MsRUFBSy9NLE9BR1RnTixHQUVYLEVBL0dBLEdDQ0EsYUFjRSxXQUNFdkQsRUFDQUMsRUFDQUMsRUFDQXRHLEdBZEYsS0FBQTZKLGFBQWUsRUFDZixLQUFBQyxpQkFBbUIsR0FlakIzTixLQUFLb0ssR0FBS0gsRUFDVmpLLEtBQUtxSyxVQUFZSCxFQUNqQmxLLEtBQUtzSyxjQUFnQkgsRUFDckJuSyxLQUFLNEosT0FBUy9GLEVBQ2Q3RCxLQUFLdUssV0FBYSxJQUFJdkgsRUFBUyxFQUFHLEdBRWxDaEQsS0FBS3dLLFNBQVUsRUFDZnhLLEtBQUs0SyxVQUFXLEVBaVNwQixPQTlSRSxZQUFBckIsWUFBQSxXQUNFLE9BQU92SixLQUFLcUssV0FHZCxZQUFBWCxhQUFBLFdBQ0UsT0FBTzFKLEtBQUt1SyxZQUdkLFlBQUFFLFVBQUEsV0FDRSxPQUFPekssS0FBS3dLLFNBR2QsWUFBQUUsV0FBQSxXQUNFLE9BQU8xSyxLQUFLNEssVUFHZCxZQUFBdkssT0FBQSxTQUFPQyxFQUFnQnNOLEdBQ3JCLElBQUk1TixLQUFLd0ssUUFBVCxDQUlBeEssS0FBSzRLLFVBQVcsRUFPaEIsSUFOQSxJQUlJaUQsRUFDQXJOLEVBTEFzTixFQUFRLEdBQ1JDLEVBQW9CL04sS0FBS2dPLHFCQUFxQkYsR0FFOUNHLEdBQU8sRUFHRjNMLEVBQUksRUFBR0EsRUFBSXNMLEVBQVc3RCxPQUFRekgsSUFFckMsR0FDc0IsT0FGbEI0TCxFQUFtQmxPLEtBQUttTyxvQkFBb0JQLEVBQVd0TCxNQUd6RHRDLEtBQUtvTyxTQUFTTCxFQUFtQkcsR0FDakMsQ0FDQUQsR0FBTyxFQUNQSixFQUFZSyxFQUNaMU4sRUFBUThCLEVBQ1IsTUFLSixHQUFJMkwsRUFJRixPQUhBak8sS0FBS3VLLFdBQWF3RCxFQUNsQi9OLEtBQUtxSyxVQUFZckssS0FBS3FLLFVBQVVwSCxJQUFJOEssUUFDcEMvTixLQUFLcU8sY0FJUCxHQUFpQixNQUFiUixFQUFtQixDQUVyQixJQUFJUyxFQUFhdE8sS0FBS3VPLHNCQUNwQlYsRUFBVVcsT0FDVlgsRUFBVVksU0FDVlYsR0FHRixHQUFJTyxFQUFXL0ssYUFBZXVLLEVBQU8sQ0FFbkMsSUFEQUcsR0FBTyxFQUNFM0wsRUFBSSxFQUFHQSxFQUFJc0wsRUFBVzdELE9BQVF6SCxJQUNyQyxHQUFJQSxHQUFLOUIsR0FHZSxPQUZsQjBOLEVBQW1CbE8sS0FBS21PLG9CQUFvQlAsRUFBV3RMLE1BR3pEdEMsS0FBS29PLFNBQVNFLEVBQVlKLEdBQzFCLENBQ0FELEdBQU8sRUFDUCxNQUtOLEdBQUlBLEVBSUYsT0FIQWpPLEtBQUt1SyxXQUFhK0QsRUFDbEJ0TyxLQUFLcUssVUFBWXJLLEtBQUtxSyxVQUFVcEgsSUFBSXFMLFFBQ3BDdE8sS0FBS3FPLGNBTVQsSUFBSUssRUFBYTFPLEtBQUt1TyxzQkFDcEJWLEVBQVVXLE9BQ1ZYLEVBQVVjLFNBQ1ZaLEdBR0YsR0FBSU8sRUFBVy9LLGFBQWV1SyxFQUFPLENBRW5DLElBREFHLEdBQU8sRUFDRTNMLEVBQUksRUFBR0EsRUFBSXNMLEVBQVc3RCxPQUFRekgsSUFDckMsR0FBSUEsR0FBSzlCLEdBR2UsT0FGbEIwTixFQUFtQmxPLEtBQUttTyxvQkFBb0JQLEVBQVd0TCxNQUd6RHRDLEtBQUtvTyxTQUFTTSxFQUFZUixHQUMxQixDQUNBRCxHQUFPLEVBQ1AsTUFLTixHQUFJQSxFQUlGLE9BSEFqTyxLQUFLdUssV0FBYW1FLEVBQ2xCMU8sS0FBS3FLLFVBQVlySyxLQUFLcUssVUFBVXBILElBQUl5TCxRQUNwQzFPLEtBQUtxTyxlQU9YLElBRUlPLEVBQWFDLElBQ2JDLEVBQWUsSUFBSTlMLEVBQVMsRUFBRyxHQUVuQyxJQUFTVixFQUFJLEVBQUdBLEVBTEYsSUFLZUEsSUFBSyxDQU1oQyxJQUpBLElBQUlxQixFQUFTLElBQUlYLEVBQVMsRUFBRyxHQUFHVyxPQUFPbUssR0FDbkNpQixFQUFxQkYsSUFHaEJsTSxFQUFJLEVBQUdBLEVBQUlpTCxFQUFXN0QsT0FBUXBILElBQUssQ0FDMUMsSUFDSXVMLEVBREF6TCxFQUFJbUwsRUFBV2pMLEdBRW5CLEdBQ3NCLE9BRmxCdUwsRUFBbUJsTyxLQUFLbU8sb0JBQW9CMUwsS0FHOUN6QyxLQUFLb08sU0FBU3pLLEVBQVF1SyxHQUN0QixDQUNBLElBQUljLEVBQWtCaFAsS0FBS2lQLDhCQUN6QnhNLEVBQUU4RyxjQUFjdEcsSUFBSVIsRUFBRWlILGdCQUN0QjFKLEtBQUs0SixPQUFTbkgsRUFBRW1ILE9BQ2hCNUosS0FBS3FLLFVBQ0wxRyxFQUFPVCxTQUFTVCxFQUFFaUgsaUJBR3BCLEdBQUlzRixFQUFrQkQsR0FFTSxJQUQxQkEsRUFBcUJDLEdBR25CLFlBREFoUCxLQUFLcU8sZUFRYixJQUFJYSxFQW5DRSxJQW9DQUgsRUFBcUJoQixFQUFrQjdLLFNBQVNTLEdBQVFKLFlBQzFEMkwsRUFBVU4sSUFDWkEsRUFBYU0sRUFDYkosRUFBZW5MLEdBSWEsR0FBNUJtTCxFQUFhdkwsY0FDZnZELEtBQUs0SyxVQUFXLEdBR2xCNUssS0FBS3VLLFdBQWF1RSxFQUNsQjlPLEtBQUtxSyxVQUFZckssS0FBS3FLLFVBQVVwSCxJQUFJNkwsR0FDcEM5TyxLQUFLcU8sZ0JBSUMsWUFBQUwscUJBQVIsU0FBNkJtQixHQUMzQixJQUFJeEUsRUFBZ0IzSyxLQUFLc0ssY0FBY3BILFNBQVNsRCxLQUFLcUssV0FDakQrRSxFQUFlekUsRUFBY3BILFlBRWpDLE9BQUk2TCxFQUFlRCxFQUNWeEUsRUFBY3ZILE9BQU9nTSxFQUFlRCxHQUV0Q3hFLEdBR0QsWUFBQXdELG9CQUFSLFNBQTRCMUwsR0FDMUIsSUFBSTRNLEVBQVk1TSxFQUFFaUgsZUFNZDRGLEVBSFk3TSxFQUFFOEcsY0FBY3JHLFNBQVNsRCxLQUFLcUssV0FHdkJwSCxJQUFJb00sR0FDdkJ4TCxFQUFTcEIsRUFBRW1ILE9BQVM1SixLQUFLNEosT0FHekIyRixFQUFPRixFQUFVbk0sU0FBU29NLEdBQzFCRSxFQUFPRCxFQUFLaE0sWUFDaEIsR0FBSWlNLEVBQU8zTCxFQUNULE9BQU8sS0FHVCxJQUFJNEwsRUFBUXBPLEtBQUtxTyxLQUFLN0wsRUFBUzJMLEdBQzNCRyxFQUFNdE8sS0FBS3VPLE1BQU1MLEVBQUsxTixFQUFHME4sRUFBSzNOLEdBRzlCaU8sRUFBU0YsRUFBTUYsRUFNZkssRUFBU0gsRUFBTUYsRUFPbkIsTUFBTyxDQUFFakIsT0FBUWEsRUFBV1osU0FaYixJQUFJekwsRUFDakJzTSxFQUFPMU4sRUFBSWlDLEVBQVN4QyxLQUFLRyxJQUFJcU8sR0FDN0JQLEVBQU96TixFQUFJZ0MsRUFBU3hDLEtBQUtDLElBQUl1TyxJQVVpQmxCLFNBTmpDLElBQUkzTCxFQUNqQnNNLEVBQU8xTixFQUFJaUMsRUFBU3hDLEtBQUtHLElBQUlzTyxHQUM3QlIsRUFBT3pOLEVBQUlnQyxFQUFTeEMsS0FBS0MsSUFBSXdPLE1BT3pCLFlBQUExQixTQUFSLFNBQ0UyQixFQUNBN0IsR0FHQSxJQUFJOEIsR0FDRDlCLEVBQWlCTyxTQUFTN00sRUFBSXNNLEVBQWlCTSxPQUFPNU0sSUFDcERtTyxFQUFTbE8sRUFBSXFNLEVBQWlCTSxPQUFPM00sSUFDdkNxTSxFQUFpQk8sU0FBUzVNLEVBQUlxTSxFQUFpQk0sT0FBTzNNLElBQ3BEa08sRUFBU25PLEVBQUlzTSxFQUFpQk0sT0FBTzVNLEdBR3RDcU8sR0FDRC9CLEVBQWlCUyxTQUFTL00sRUFBSXNNLEVBQWlCTSxPQUFPNU0sSUFDcERtTyxFQUFTbE8sRUFBSXFNLEVBQWlCTSxPQUFPM00sSUFDdkNxTSxFQUFpQlMsU0FBUzlNLEVBQUlxTSxFQUFpQk0sT0FBTzNNLElBQ3BEa08sRUFBU25PLEVBQUlzTSxFQUFpQk0sT0FBTzVNLEdBRTFDLE9BQU9vTyxFQUFlLEdBQUtDLEVBQWUsR0FHcEMsWUFBQTFCLHNCQUFSLFNBQ0UyQixFQUNBQyxFQUNBQyxHQUVBLElBQUlDLEVBQVlGLEVBQWMxTSxZQUUxQjZNLEVBRFNGLEVBQU1sTixTQUFTZ04sR0FDTjdNLElBQUlnTixHQUMxQixPQUFPSCxFQUFVak4sSUFBSW9OLEVBQVVsTixTQUFTbU4sS0FHbEMsWUFBQXJCLDhCQUFSLFNBQ0VLLEVBQ0F6TCxFQUNBME0sRUFDQUYsR0FFQSxJQUFJRyxFQUFRRCxFQUFPck4sU0FBU29NLEdBRXhCOU0sRUFBSTZOLEVBQVVoTixJQUFJZ04sR0FDbEI1TixFQUFJLEVBQUk0TixFQUFVaE4sSUFBSW1OLEdBQ3RCalAsRUFBSWlQLEVBQU1uTixJQUFJbU4sR0FBUyxTQUFBM00sRUFBVSxHQUVqQzRNLEVBQVUsU0FBQWhPLEVBQUssR0FBSSxFQUFJRCxFQUFJakIsRUFFL0IsR0FBSWtQLEVBQVUsRUFFWixPQUFPNUIsSUFHVCxJQUFJeUIsSUFBYzdOLEVBQUlwQixLQUFLbUMsS0FBS2lOLElBQVksRUFBS2pPLEVBRWpELE9BQUk4TixFQUFXLEVBRU56QixJQUdGeUIsR0FHRCxZQUFBakMsWUFBUixXQUlJck8sS0FBS3FLLFVBQVVuSCxTQUFTbEQsS0FBS3NLLGVBQWVoSCxnQkFIeEIsSUFNcEJ0RCxLQUFLd0ssU0FBVSxFQUNmeEssS0FBS3FLLFVBQVlySyxLQUFLc0ssY0FDdEJ0SyxLQUFLdUssV0FBYSxJQUFJdkgsRUFBUyxFQUFHLEtBR3hDLEVBNVRBLEdDQUEsYUFjRSxXQUNFaUgsRUFDQUMsRUFDQUMsRUFDQXRHLEdBZEYsS0FBQTZKLGFBQWUsRUFDZixLQUFBQyxpQkFBbUIsR0FlakIzTixLQUFLb0ssR0FBS0gsRUFDVmpLLEtBQUtxSyxVQUFZSCxFQUNqQmxLLEtBQUtzSyxjQUFnQkgsRUFDckJuSyxLQUFLNEosT0FBUy9GLEVBQ2Q3RCxLQUFLdUssV0FBYSxJQUFJdkgsRUFBUyxFQUFHLEdBRWxDaEQsS0FBS3dLLFNBQVUsRUFDZnhLLEtBQUs0SyxVQUFXLEVBMFNwQixPQXZTRSxZQUFBckIsWUFBQSxXQUNFLE9BQU92SixLQUFLcUssV0FHZCxZQUFBWCxhQUFBLFdBQ0UsT0FBTzFKLEtBQUt1SyxZQUdkLFlBQUFFLFVBQUEsV0FDRSxPQUFPekssS0FBS3dLLFNBR2QsWUFBQUUsV0FBQSxXQUNFLE9BQU8xSyxLQUFLNEssVUFHZCxZQUFBdkssT0FBQSxTQUFPQyxFQUFnQnNOLEdBQ3JCLElBQUk1TixLQUFLd0ssUUFBVCxDQUlBeEssS0FBSzRLLFVBQVcsRUFPaEIsSUFOQSxJQUlJaUQsRUFDQXJOLEVBTEFzTixFQUFRLEdBQ1JDLEVBQW9CL04sS0FBS2dPLHFCQUFxQkYsR0FFOUNHLEdBQU8sRUFHRjNMLEVBQUksRUFBR0EsRUFBSXNMLEVBQVc3RCxPQUFRekgsSUFFckMsR0FDc0IsT0FGbEI0TCxFQUFtQmxPLEtBQUswUSw4QkFBOEI5QyxFQUFXdEwsTUFHbkV0QyxLQUFLb08sU0FBU0wsRUFBbUJHLEdBQ2pDLENBQ0FELEdBQU8sRUFDUEosRUFBWUssRUFDWjFOLEVBQVE4QixFQUNSLE1BS0osR0FBSTJMLEVBSUYsT0FIQWpPLEtBQUt1SyxXQUFhd0QsRUFDbEIvTixLQUFLcUssVUFBWXJLLEtBQUtxSyxVQUFVcEgsSUFBSThLLFFBQ3BDL04sS0FBS3FPLGNBSVAsR0FBaUIsTUFBYlIsRUFBbUIsQ0FFckIsSUFBSVMsRUFBYXRPLEtBQUt1TyxzQkFDcEJWLEVBQVVXLE9BQ1ZYLEVBQVVZLFNBQ1ZWLEdBR0YsR0FBSU8sRUFBVy9LLGFBQWV1SyxFQUFPLENBRW5DLElBREFHLEdBQU8sRUFDRTNMLEVBQUksRUFBR0EsRUFBSXNMLEVBQVc3RCxPQUFRekgsSUFDckMsR0FBSUEsR0FBSzlCLEdBS2UsT0FKbEIwTixFQUFtQmxPLEtBQUswUSw4QkFDMUI5QyxFQUFXdEwsTUFJWHRDLEtBQUtvTyxTQUFTRSxFQUFZSixHQUMxQixDQUNBRCxHQUFPLEVBQ1AsTUFLTixHQUFJQSxFQUlGLE9BSEFqTyxLQUFLdUssV0FBYStELEVBQ2xCdE8sS0FBS3FLLFVBQVlySyxLQUFLcUssVUFBVXBILElBQUlxTCxRQUNwQ3RPLEtBQUtxTyxjQU1ULElBQUlLLEVBQWExTyxLQUFLdU8sc0JBQ3BCVixFQUFVVyxPQUNWWCxFQUFVYyxTQUNWWixHQUdGLEdBQUlPLEVBQVcvSyxhQUFldUssRUFBTyxDQUVuQyxJQURBRyxHQUFPLEVBQ0UzTCxFQUFJLEVBQUdBLEVBQUlzTCxFQUFXN0QsT0FBUXpILElBQ3JDLEdBQUlBLEdBQUs5QixHQUtlLE9BSmxCME4sRUFBbUJsTyxLQUFLMFEsOEJBQzFCOUMsRUFBV3RMLE1BSVh0QyxLQUFLb08sU0FBU00sRUFBWVIsR0FDMUIsQ0FDQUQsR0FBTyxFQUNQLE1BS04sR0FBSUEsRUFJRixPQUhBak8sS0FBS3VLLFdBQWFtRSxFQUNsQjFPLEtBQUtxSyxVQUFZckssS0FBS3FLLFVBQVVwSCxJQUFJeUwsUUFDcEMxTyxLQUFLcU8sZUFPWCxJQUVJTyxFQUFhQyxJQUNiQyxFQUFlLElBQUk5TCxFQUFTLEVBQUcsR0FFbkMsSUFBU1YsRUFBSSxFQUFHQSxFQUxGLElBS2VBLElBQUssQ0FNaEMsSUFKQSxJQUFJcUIsRUFBUyxJQUFJWCxFQUFTLEVBQUcsR0FBR1csT0FBT21LLEdBQ25DaUIsRUFBcUJGLElBR2hCbE0sRUFBSSxFQUFHQSxFQUFJaUwsRUFBVzdELE9BQVFwSCxJQUFLLENBQzFDLElBQ0l1TCxFQURBekwsRUFBSW1MLEVBQVdqTCxHQUVuQixHQUNzQixPQUZsQnVMLEVBQW1CbE8sS0FBSzBRLDhCQUE4QmpPLEtBR3hEekMsS0FBS29PLFNBQVN6SyxFQUFRdUssR0FDdEIsQ0FDQSxJQUFJYyxFQUFrQmhQLEtBQUtpUCw4QkFDekJ4TSxFQUFFOEcsY0FBY3RHLElBQUlSLEVBQUVpSCxnQkFDdEIxSixLQUFLNEosT0FBU25ILEVBQUVtSCxPQUNoQjVKLEtBQUtxSyxVQUNMMUcsRUFDR1IsU0FBUyxHQUNURCxTQUFTbEQsS0FBSzBKLGdCQUNkeEcsU0FBU1QsRUFBRWlILGlCQUdoQixHQUFJc0YsRUFBa0JELEdBRU0sSUFEMUJBLEVBQXFCQyxHQUduQixZQURBaFAsS0FBS3FPLGVBUWIsSUFBSWEsRUF0Q0UsSUF1Q0FILEVBQXFCaEIsRUFBa0I3SyxTQUFTUyxHQUFRSixZQUMxRDJMLEVBQVVOLElBQ1pBLEVBQWFNLEVBQ2JKLEVBQWVuTCxHQUlhLEdBQTVCbUwsRUFBYXZMLGNBQ2Z2RCxLQUFLNEssVUFBVyxHQUdsQjVLLEtBQUt1SyxXQUFhdUUsRUFDbEI5TyxLQUFLcUssVUFBWXJLLEtBQUtxSyxVQUFVcEgsSUFBSTZMLEdBQ3BDOU8sS0FBS3FPLGdCQUlDLFlBQUFMLHFCQUFSLFNBQTZCbUIsR0FDM0IsSUFBSXhFLEVBQWdCM0ssS0FBS3NLLGNBQWNwSCxTQUFTbEQsS0FBS3FLLFdBQ2pEK0UsRUFBZXpFLEVBQWNwSCxZQUVqQyxPQUFJNkwsRUFBZUQsRUFDVnhFLEVBQWN2SCxPQUFPZ00sRUFBZUQsR0FFdEN4RSxHQUdELFlBQUErRiw4QkFBUixTQUFzQ2pPLEdBQ3BDLElBQUlrTyxFQUFZM1EsS0FBSzBKLGVBQ2pCMkYsRUFBWTVNLEVBQUVpSCxlQUNkOEUsRUFBU21DLEVBQVUxTixJQUFJb00sR0FBV2pNLE9BQU8sR0FNekNrTSxFQUhZN00sRUFBRThHLGNBQWNyRyxTQUFTbEQsS0FBS3FLLFdBR3ZCcEgsSUFBSW9NLEdBQ3ZCeEwsRUFBU3BCLEVBQUVtSCxPQUFTNUosS0FBSzRKLE9BR3pCMkYsRUFBT0YsRUFBVW5NLFNBQVNvTSxHQUMxQkUsRUFBT0QsRUFBS2hNLFlBQ2hCLEdBQUlpTSxFQUFPM0wsRUFDVCxPQUFPLEtBR1QsSUFBSTRMLEVBQVFwTyxLQUFLcU8sS0FBSzdMLEVBQVMyTCxHQUMzQkcsRUFBTXRPLEtBQUt1TyxNQUFNTCxFQUFLMU4sRUFBRzBOLEVBQUszTixHQUc5QmlPLEVBQVNGLEVBQU1GLEVBTWZLLEVBQVNILEVBQU1GLEVBT25CLE1BQU8sQ0FBRWpCLE9BQVFBLEVBQVFDLFNBWlYsSUFBSXpMLEVBQ2pCc00sRUFBTzFOLEVBQUlpQyxFQUFTeEMsS0FBS0csSUFBSXFPLEdBQzdCUCxFQUFPek4sRUFBSWdDLEVBQVN4QyxLQUFLQyxJQUFJdU8sSUFVY2xCLFNBTjlCLElBQUkzTCxFQUNqQnNNLEVBQU8xTixFQUFJaUMsRUFBU3hDLEtBQUtHLElBQUlzTyxHQUM3QlIsRUFBT3pOLEVBQUlnQyxFQUFTeEMsS0FBS0MsSUFBSXdPLE1BT3pCLFlBQUExQixTQUFSLFNBQ0UyQixFQUNBN0IsR0FHQSxJQUFJOEIsR0FDRDlCLEVBQWlCTyxTQUFTN00sRUFBSXNNLEVBQWlCTSxPQUFPNU0sSUFDcERtTyxFQUFTbE8sRUFBSXFNLEVBQWlCTSxPQUFPM00sSUFDdkNxTSxFQUFpQk8sU0FBUzVNLEVBQUlxTSxFQUFpQk0sT0FBTzNNLElBQ3BEa08sRUFBU25PLEVBQUlzTSxFQUFpQk0sT0FBTzVNLEdBR3RDcU8sR0FDRC9CLEVBQWlCUyxTQUFTL00sRUFBSXNNLEVBQWlCTSxPQUFPNU0sSUFDcERtTyxFQUFTbE8sRUFBSXFNLEVBQWlCTSxPQUFPM00sSUFDdkNxTSxFQUFpQlMsU0FBUzlNLEVBQUlxTSxFQUFpQk0sT0FBTzNNLElBQ3BEa08sRUFBU25PLEVBQUlzTSxFQUFpQk0sT0FBTzVNLEdBRTFDLE9BQU9vTyxFQUFlLEdBQUtDLEVBQWUsR0FHcEMsWUFBQTFCLHNCQUFSLFNBQ0UyQixFQUNBQyxFQUNBQyxHQUVBLElBQUlDLEVBQVlGLEVBQWMxTSxZQUUxQjZNLEVBRFNGLEVBQU1sTixTQUFTZ04sR0FDTjdNLElBQUlnTixHQUMxQixPQUFPSCxFQUFVak4sSUFBSW9OLEVBQVVsTixTQUFTbU4sS0FHbEMsWUFBQXJCLDhCQUFSLFNBQ0VLLEVBQ0F6TCxFQUNBME0sRUFDQUYsR0FFQSxJQUFJRyxFQUFRRCxFQUFPck4sU0FBU29NLEdBRXhCOU0sRUFBSTZOLEVBQVVoTixJQUFJZ04sR0FDbEI1TixFQUFJLEVBQUk0TixFQUFVaE4sSUFBSW1OLEdBQ3RCalAsRUFBSWlQLEVBQU1uTixJQUFJbU4sR0FBUyxTQUFBM00sRUFBVSxHQUVqQzRNLEVBQVUsU0FBQWhPLEVBQUssR0FBSSxFQUFJRCxFQUFJakIsRUFFL0IsR0FBSWtQLEVBQVUsRUFFWixPQUFPNUIsSUFHVCxJQUFJeUIsSUFBYzdOLEVBQUlwQixLQUFLbUMsS0FBS2lOLElBQVksRUFBS2pPLEVBRWpELE9BQUk4TixFQUFXLEVBRU56QixJQUdGeUIsR0FHRCxZQUFBakMsWUFBUixXQUlJck8sS0FBS3FLLFVBQVVuSCxTQUFTbEQsS0FBS3NLLGVBQWVoSCxnQkFIeEIsSUFNcEJ0RCxLQUFLd0ssU0FBVSxFQUNmeEssS0FBS3FLLFVBQVlySyxLQUFLc0ssY0FDdEJ0SyxLQUFLdUssV0FBYSxJQUFJdkgsRUFBUyxFQUFHLEtBR3hDLEVBclVBLEdDQU00TixFQUFlQyxTQUFTQyxlQUFlLFVBQ3ZDQyxFQUFrQkYsU0FBU0MsZUFDL0IsYUFFSUUsRUFBc0JILFNBQVNDLGVBQ25DLGtCQUdJOU0sRUFBUzZNLFNBQVNDLGVBQWUsVUFDakNHLEVBQVlKLFNBQVNDLGVBQWUsYUFDcENJLEVBQWFMLFNBQVNDLGVBQWUsY0FDckNLLEVBQWFOLFNBQVNDLGVBQWUsY0FHckNNLEVBQWEsSUFBSUMsRUFETixJQUFJQyxFQUFXdE4sR0FDWSxJQUFJdU4sR0FDNUNDLEdBQU8sRUFHSixTQUFTclIsSUFDZEgsS0FBS3lSLGNBRUwsSUFBSUMsRUFBYSxFQUNiQyxFQUFVLEVBQ1ZDLEVBQVMsRUE2QmJDLE9BQU9DLHVCQTNCUCxTQUFTQyxFQUFLQyxHQUNaLElBQUkxUixFQUFTMFIsRUFBWU4sRUFDekJBLEVBQWFNLEVBR1RSLEdBQ0ZKLEVBQVcvUSxPQUFPQyxHQUlwQjhRLEVBQVd6USxPQUNYaVIsSUFHSUksRUFBWUwsR0FBVyxNQUN6QlYsRUFBVWdCLFlBQWMsU0FDckIsSUFBT0wsR0FDUEksRUFBWUwsSUFDYk8sUUFBUSxHQUVWTixFQUFTLEVBQ1RELEVBQVVLLEdBR1pILE9BQU9DLHNCQUFzQkMsTUFPMUIsU0FBU0ksS0FDZFgsR0FBUUEsSUFHTk4sRUFBV2UsWUFBYyxRQUN6QmQsRUFBV2lCLFVBQVcsSUFFdEJsQixFQUFXZSxZQUFjLE9BQ3pCZCxFQUFXaUIsVUFBVyxHQUtuQixTQUFTQyxJQUNkakIsRUFBVy9RLE9BQU8sSUFBTyxJQUdwQixTQUFTb1IsSSxNQUNWRCxHQUNGeFIsS0FBS21TLFlBR1AsSUFLSWxILEVBTEU3SyxFQUFTd1EsRUFBYTBCLE1BQ3RCQyxFQUFZeEIsRUFBZ0J1QixNQUM1QnRILEVBQXVDLFFBQXRDLEVBQUd3SCxTQUFTeEIsRUFBb0JzQixjQUFNLFFBQUksRUFJakQsT0FBUUMsR0FDTixJQUFLLGFBQ0h0SCxFQUFtQixTQUNqQmhCLEVBQ0FhLEVBQ0FYLEVBQ0F0RyxHQUNHLFdBQUk0TyxFQUFXeEksRUFBSWEsRUFBVVgsRUFBY3RHLElBQ2hELE1BQ0YsSUFBSyxZQUNIb0gsRUFBbUIsU0FDakJoQixFQUNBYSxFQUNBWCxFQUNBdEcsR0FDRyxXQUFJNk8sRUFBVXpJLEVBQUlhLEVBQVVYLEVBQWN0RyxJQUMvQyxNQUNGLElBQUssVUFDSG9ILEVBQW1CLFNBQ2pCaEIsRUFDQWEsRUFDQVgsRUFDQXRHLEdBQ0csV0FBSThPLEVBQVExSSxFQUFJYSxFQUFVWCxFQUFjdEcsSUFDN0MsTUFDRixJQUFLLFdBQ0hvSCxFQUFtQixTQUNqQmhCLEVBQ0FhLEVBQ0FYLEVBQ0F0RyxHQUNHLFdBQUkrTyxFQUFTM0ksRUFBSWEsRUFBVVgsRUFBY3RHLElBQzlDLE1BQ0YsUUFDRSxNQUFNLElBQUlnUCxNQUFNLHlCQUtwQixPQUFRelMsR0FDTixJQUFLLGlCQUNIZ1IsRUFBV2pSLEtBQ1QyUyxFQUFlL0gsZUFDYkMsRUFDQWhILEVBQU9lLE1BQ1BmLEVBQU9pQixPQUNQZ0csSUFHSixNQUVGLElBQUssZUFDSG1HLEVBQVdqUixLQUNUMlMsRUFBZXhILGFBQ2JOLEVBQ0FoSCxFQUFPZSxNQUNQZixFQUFPaUIsT0FDUGdHLElBR0osTUFFRixJQUFLLGlCQUNIbUcsRUFBV2pSLEtBQ1QyUyxFQUFldkgsZUFDYlAsRUFDQWhILEVBQU9lLE1BQ1BmLEVBQU9pQixPQUNQZ0csSUFHSixNQUVGLElBQUssYUFDSG1HLEVBQVdqUixLQUNUMlMsRUFBZXBILFdBQ2JWLEVBQ0FoSCxFQUFPZSxNQUNQZixFQUFPaUIsT0FDUGdHLElBR0osTUFFRixRQUNFLE1BQU0sSUFBSTRILE1BQU0scUNDbExsQkUsRUFBMkIsR0FHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLEdBQUdGLEVBQXlCRSxHQUMzQixPQUFPRixFQUF5QkUsR0FBVUMsUUFHM0MsSUFBSUMsRUFBU0osRUFBeUJFLEdBQVksQ0FHakRDLFFBQVMsSUFPVixPQUhBRSxFQUFvQkgsR0FBVUUsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0NHLEVBQU9ELFFDakJmLE9DRkFGLEVBQW9CSyxFQUFJLENBQUNILEVBQVNJLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWE4sRUFBb0JRLEVBQUVGLEVBQVlDLEtBQVNQLEVBQW9CUSxFQUFFTixFQUFTSyxJQUM1RUUsT0FBT0MsZUFBZVIsRUFBU0ssRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLE1DSjNFUCxFQUFvQlEsRUFBSSxDQUFDSyxFQUFLQyxJQUFTTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxHQ0NqRmQsRUFBb0JrQixFQUFLaEIsSUFDSCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ1gsT0FBT0MsZUFBZVIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRTlCLE1BQU8sV0FFN0RtQixPQUFPQyxlQUFlUixFQUFTLGFBQWMsQ0FBRVosT0FBTyxLSEZoRFUsRUFBb0IsTSIsImZpbGUiOiJkZW1vM2QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJQWdlbnRDb2xsZWN0aW9uIH0gZnJvbSBcIi4vSUFnZW50Q29sbGVjdGlvblwiO1xyXG5pbXBvcnQgeyBJUmVuZGVyZXIgfSBmcm9tIFwiLi9JUmVuZGVyZXJcIjtcclxuaW1wb3J0IHsgSUNvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi9Db25maWd1cmF0aW9uc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNpbXVsYXRpb24ge1xyXG4gIF9yZW5kZXJlcjogSVJlbmRlcmVyO1xyXG4gIF9hZ2VudHM6IElBZ2VudENvbGxlY3Rpb247XHJcblxyXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBJUmVuZGVyZXIsIGFnZW50czogSUFnZW50Q29sbGVjdGlvbikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2FnZW50cyA9IGFnZW50cztcclxuICB9XHJcblxyXG4gIGluaXQoY29uZmlnOiBJQ29uZmlndXJhdGlvbikge1xyXG4gICAgdGhpcy5fYWdlbnRzLmluaXQoY29uZmlnLmFnZW50cyk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoZGVsdGFUOiBudW1iZXIpIHtcclxuICAgIGxldCByYW5nZSA9IDMwMDtcclxuICAgIHRoaXMuX2FnZW50cy5mb3JFYWNoKChhZ2VudCkgPT4ge1xyXG4gICAgICBhZ2VudC51cGRhdGUoXHJcbiAgICAgICAgZGVsdGFULFxyXG4gICAgICAgIHRoaXMuX2FnZW50cy5nZXROZWlnaGJvdXJzSW5SYW5nZUV1Y2xpZGVhbihhZ2VudCwgcmFuZ2UpXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9hZ2VudHMuaW5pdCh0aGlzLl9hZ2VudHMuZ2V0QWxsKCkpO1xyXG4gIH1cclxuXHJcbiAgZHJhdygpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyLmNsZWFyKCk7XHJcbiAgICB0aGlzLl9yZW5kZXJlci5kcmF3QWdlbnRzKHRoaXMuX2FnZW50cyk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBBZ2VudE1lc2gge1xyXG4gIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gIHN0YXRpYyB2ZXJ0aWNlcyA9IFtcclxuICAgIFx0XHQvLyBUb3BcdFxyXG5cdFx0LTEuMCwgMS4wLCAtMS4wLCAgIFx0MC4wLCAgMS4wLCAgMC4wLFxyXG5cdFx0LTEuMCwgMS4wLCAxLjAsICAgIFx0MC4wLCAgMS4wLCAgMC4wLFxyXG5cdFx0MS4wLCAxLjAsIDEuMCwgICAgIFx0MC4wLCAgMS4wLCAgMC4wLFxyXG5cdFx0MS4wLCAxLjAsIC0xLjAsICAgIFx0MC4wLCAgMS4wLCAgMC4wLFxyXG5cdFxyXG5cdFx0Ly8gTGVmdFx0XHJcblx0XHQtMS4wLCAxLjAsIDEuMCwgICAgXHQtMS4wLCAgMC4wLCAgMC4wLFxyXG5cdFx0LTEuMCwgLTEuMCwgMS4wLCAgIFx0LTEuMCwgIDAuMCwgIDAuMCxcclxuXHRcdC0xLjAsIC0xLjAsIC0xLjAsICBcdC0xLjAsICAwLjAsICAwLjAsXHJcblx0XHQtMS4wLCAxLjAsIC0xLjAsICAgXHQtMS4wLCAgMC4wLCAgMC4wLFxyXG5cdFxyXG5cdFx0Ly8gUmlnaHRcdFxyXG5cdFx0MS4wLCAxLjAsIDEuMCwgICAgIFx0MS4wLCAgMC4wLCAgMC4wLFxyXG5cdFx0MS4wLCAtMS4wLCAxLjAsICAgIFx0MS4wLCAgMC4wLCAgMC4wLFxyXG5cdFx0MS4wLCAtMS4wLCAtMS4wLCAgIFx0MS4wLCAgMC4wLCAgMC4wLFxyXG5cdFx0MS4wLCAxLjAsIC0xLjAsICAgIFx0MS4wLCAgMC4wLCAgMC4wLFxyXG5cdFxyXG5cdFx0Ly8gRnJvbnRcdFxyXG5cdFx0MS4wLCAxLjAsIDEuMCwgICAgIFx0MC4wLCAgMC4wLCAgMS4wLFxyXG5cdFx0MS4wLCAtMS4wLCAxLjAsICAgIFx0MC4wLCAgMC4wLCAgMS4wLFxyXG5cdFx0LTEuMCwgLTEuMCwgMS4wLCAgIFx0MC4wLCAgMC4wLCAgMS4wLFxyXG5cdFx0LTEuMCwgMS4wLCAxLjAsICAgIFx0MC4wLCAgMC4wLCAgMS4wLFxyXG5cdFxyXG5cdFx0Ly8gQmFja1x0XHJcblx0XHQxLjAsIDEuMCwgLTEuMCwgICAgXHQwLjAsICAwLjAsIC0xLjAsXHJcblx0XHQxLjAsIC0xLjAsIC0xLjAsICAgXHQwLjAsICAwLjAsIC0xLjAsXHJcblx0XHQtMS4wLCAtMS4wLCAtMS4wLCAgXHQwLjAsICAwLjAsIC0xLjAsXHJcblx0XHQtMS4wLCAxLjAsIC0xLjAsICAgXHQwLjAsICAwLjAsIC0xLjAsXHJcblx0XHJcblx0XHQvLyBCb3R0b21cdFxyXG5cdFx0LTEuMCwgLTEuMCwgLTEuMCwgIFx0MC4wLCAtMS4wLCAgMC4wLFxyXG5cdFx0LTEuMCwgLTEuMCwgMS4wLCAgIFx0MC4wLCAtMS4wLCAgMC4wLFxyXG5cdFx0MS4wLCAtMS4wLCAxLjAsICAgIFx0MC4wLCAtMS4wLCAgMC4wLFxyXG5cdFx0MS4wLCAtMS4wLCAtMS4wLCAgIFx0MC4wLCAtMS4wLCAgMC4wXHJcbiAgXTtcclxuXHJcbiAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgc3RhdGljIGluZGljZXMgPSBbXHJcbiAgICAvLyBUb3BcclxuXHRcdDAsIDEsIDIsXHJcblx0XHQwLCAyLCAzLFxyXG5cclxuXHRcdC8vIExlZnRcclxuXHRcdDUsIDQsIDYsXHJcblx0XHQ2LCA0LCA3LFxyXG5cclxuXHRcdC8vIFJpZ2h0XHJcblx0XHQ4LCA5LCAxMCxcclxuXHRcdDgsIDEwLCAxMSxcclxuXHJcblx0XHQvLyBGcm9udFxyXG5cdFx0MTMsIDEyLCAxNCxcclxuXHRcdDE1LCAxNCwgMTIsXHJcblxyXG5cdFx0Ly8gQmFja1xyXG5cdFx0MTYsIDE3LCAxOCxcclxuXHRcdDE2LCAxOCwgMTksXHJcblxyXG5cdFx0Ly8gQm90dG9tXHJcblx0XHQyMSwgMjAsIDIyLFxyXG5cdFx0MjIsIDIwLCAyM1xyXG4gIF07XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIE1hdHJpeCB7XHJcbiAgc3RhdGljIGdldElkZW50aXR5TWF0cml4KCk6IEZsb2F0MzJBcnJheSB7XHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgMSwgMCwgMCwgMCxcclxuICAgICAgMCwgMSwgMCwgMCxcclxuICAgICAgMCwgMCwgMSwgMCxcclxuICAgICAgMCwgMCwgMCwgMVxyXG4gICAgXSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0WFJvdGF0aW9uTWF0cml4KGFuZ2xlOiBudW1iZXIpOiBGbG9hdDMyQXJyYXkge1xyXG4gICAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlKTtcclxuICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XHJcblxyXG4gICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAgIDEsIDAsIDAsIDAsXHJcbiAgICAgIDAsIGMsIHMsIDAsXHJcbiAgICAgIDAsLXMsIGMsIDAsXHJcbiAgICAgIDAsIDAsIDAsIDFcclxuICAgIF0pO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldFlSb3RhdGlvbk1hdHJpeChhbmdsZTogbnVtYmVyKTogRmxvYXQzMkFycmF5IHtcclxuICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZSk7XHJcbiAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGUpO1xyXG5cclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoW1xyXG4gICAgICBjLCAwLC1zLCAwLFxyXG4gICAgICAwLCAxLCAwLCAwLFxyXG4gICAgICBzLCAwLCBjLCAwLFxyXG4gICAgICAwLCAwLCAwLCAxXHJcbiAgICBdKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRaUm90YXRpb25NYXRyaXgoYW5nbGU6IG51bWJlcik6IEZsb2F0MzJBcnJheSB7XHJcbiAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUpO1xyXG4gICAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlKTtcclxuXHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgYywgcywgMCwgMCxcclxuICAgICAtcywgYywgMCwgMCxcclxuICAgICAgMCwgMCwgMSwgMCxcclxuICAgICAgMCwgMCwgMCwgMVxyXG4gICAgXSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0VHJhbnNsYXRpb25NYXRyaXgoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IEZsb2F0MzJBcnJheSB7XHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgMSwgMCwgMCwgMCxcclxuICAgICAgMCwgMSwgMCwgMCxcclxuICAgICAgMCwgMCwgMSwgMCxcclxuICAgICAgeCwgeSwgeiwgMVxyXG4gICAgXSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0UGVyc3BlY3RpdmVQcm9qZWN0aW9uTWF0cml4KFxyXG4gICAgZm92OiBudW1iZXIsXHJcbiAgICBhc3BlY3RSYXRpbzogbnVtYmVyLFxyXG4gICAgbmVhcjogbnVtYmVyLFxyXG4gICAgZmFyOiBudW1iZXJcclxuICApOiBGbG9hdDMyQXJyYXkge1xyXG4gICAgY29uc3QgZiA9IDEuMCAvIE1hdGgudGFuKGZvdiAvIDIpO1xyXG4gICAgY29uc3QgaSA9IDEuMCAvIChuZWFyIC0gZmFyKTtcclxuXHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgZiAvIGFzcGVjdFJhdGlvLCAwLCAgICAgICAgICAgICAgICAgIDAsICAwLFxyXG4gICAgICAgICAgICAgICAgICAgIDAsIGYsICAgICAgICAgICAgICAgICAgMCwgIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgMCwgMCwgICAobmVhciArIGZhcikgKiBpLCAtMSxcclxuICAgICAgICAgICAgICAgICAgICAwLCAwLCBuZWFyICogZmFyICogaSAqIDIsICAwXHJcbiAgICBdKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBtdWx0aXBseU1hdHJpY2VzKGE6IEZsb2F0MzJBcnJheSwgYjogRmxvYXQzMkFycmF5KTogRmxvYXQzMkFycmF5IHtcclxuICAgIGxldCByZXN1bHQgPSBuZXcgRmxvYXQzMkFycmF5KDE2KTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDQ7IGorKykge1xyXG4gICAgICAgIGxldCBudW0gPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgNDsgaysrKSB7XHJcbiAgICAgICAgICBudW0gKz0gYVtpICogNCArIGtdICogYltrICogNCArIGpdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXN1bHRbaSAqIDQgKyBqXSA9IG51bTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBWZWN0b3IyZiB7XHJcbiAgeDogbnVtYmVyO1xyXG4gIHk6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gIH1cclxuXHJcbiAgY29weSh2OiBWZWN0b3IyZik6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMmYodi54LCB2LnkpO1xyXG4gIH1cclxuXHJcbiAgYWRkKHY6IFZlY3RvcjJmKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyZih0aGlzLnggKyB2LngsIHRoaXMueSArIHYueSk7XHJcbiAgfVxyXG5cclxuICBzdWJ0cmFjdCh2OiBWZWN0b3IyZik6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMmYodGhpcy54IC0gdi54LCB0aGlzLnkgLSB2LnkpO1xyXG4gIH1cclxuXHJcbiAgbXVsdGlwbHkoczogbnVtYmVyKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyZih0aGlzLnggKiBzLCB0aGlzLnkgKiBzKTtcclxuICB9XHJcblxyXG4gIGRpdmlkZShzOiBudW1iZXIpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJmKHRoaXMueCAvIHMsIHRoaXMueSAvIHMpO1xyXG4gIH1cclxuXHJcbiAgZG90KHY6IFZlY3RvcjJmKSB7XHJcbiAgICByZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55O1xyXG4gIH1cclxuXHJcbiAgbWFnbml0dWRlU3FyZCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMueCAqKiAyICsgdGhpcy55ICoqIDI7XHJcbiAgfVxyXG5cclxuICBtYWduaXR1ZGUoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5tYWduaXR1ZGVTcXJkKCkpO1xyXG4gIH1cclxuXHJcbiAgbm9ybWFsaXNlKCk6IFZlY3RvcjJmIHtcclxuICAgIGxldCBtID0gdGhpcy5tYWduaXR1ZGUoKTtcclxuICAgIHJldHVybiBtID09IDAgPyBuZXcgVmVjdG9yMmYoMCwgMCkgOiB0aGlzLmRpdmlkZShtKTtcclxuICB9XHJcblxyXG4gIHNhbXBsZShtYXhSYWRpdXM6IG51bWJlcikge1xyXG4gICAgLy8gVW5pZm9ybWx5IHNhbXBsZSB0aGUgY2lyY2xlIGNlbnRyZWQgYXQgdGhpcyBwb2ludCB3aXRoIHJhZGl1cyBtYXhSYWRpdXNcclxuICAgIGxldCByYWRpdXMgPSBNYXRoLnNxcnQoTWF0aC5yYW5kb20oKSkgKiBtYXhSYWRpdXM7XHJcbiAgICBsZXQgYW5nbGUgPSAyICogTWF0aC5QSSAqIE1hdGgucmFuZG9tKCk7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjJmKFxyXG4gICAgICB0aGlzLnggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSksXHJcbiAgICAgIHRoaXMueSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSUFnZW50Q29sbGVjdGlvbiB9IGZyb20gXCIuL0lBZ2VudENvbGxlY3Rpb25cIjtcclxuaW1wb3J0IHsgSVJlbmRlcmVyIH0gZnJvbSBcIi4vSVJlbmRlcmVyXCI7XHJcbmltcG9ydCB7IEFnZW50TWVzaCB9IGZyb20gXCIuL0FnZW50TWVzaFwiO1xyXG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tIFwiLi9NYXRyaXhcIjtcclxuaW1wb3J0IHsgVmVjdG9yMmYgfSBmcm9tIFwiLi9WZWN0b3IyZlwiO1xyXG5cclxuY29uc3QgdmVydGV4U2hhZGVyVGV4dCA9IGBcclxuICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcclxuICBhdHRyaWJ1dGUgdmVjMyB2ZXJ0UG9zaXRpb247XHJcbiAgYXR0cmlidXRlIHZlYzMgdmVydE5vcm1hbDtcclxuICB2YXJ5aW5nIHZlYzMgZnJhZ0NvbG9yO1xyXG5cclxuICB1bmlmb3JtIG1hdDQgcHJvak1hdDtcclxuICB1bmlmb3JtIG1hdDQgdmlld01hdDtcclxuICB1bmlmb3JtIG1hdDQgd29ybGRNYXQ7XHJcblxyXG4gIHVuaWZvcm0gdmVjMiBwb3NpdGlvbjtcclxuICB1bmlmb3JtIHZlYzIgZGlyZWN0aW9uO1xyXG4gIHVuaWZvcm0gZmxvYXQgcmFkaXVzO1xyXG5cclxuICB2b2lkIG1haW4oKVxyXG4gIHtcclxuICAgIG1lZGl1bXAgdmVjMyByb3RhdGVkVmVydCA9IHZlYzModmVydFBvc2l0aW9uLnggKiBkaXJlY3Rpb24ueCAtIHZlcnRQb3NpdGlvbi55ICogZGlyZWN0aW9uLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRQb3NpdGlvbi54ICogZGlyZWN0aW9uLnkgKyB2ZXJ0UG9zaXRpb24ueSAqIGRpcmVjdGlvbi54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0UG9zaXRpb24ueik7XHJcbiAgICBnbF9Qb3NpdGlvbiA9IHByb2pNYXQgKiB2aWV3TWF0ICogd29ybGRNYXQgKiB2ZWM0KHJvdGF0ZWRWZXJ0LnggKiByYWRpdXMgKyBwb3NpdGlvbi54LCByb3RhdGVkVmVydC55ICogcmFkaXVzICsgcG9zaXRpb24ueSwgcm90YXRlZFZlcnQueiAqIHJhZGl1cywgMS4wKTtcclxuICAgIFxyXG4gICAgZnJhZ0NvbG9yID0gMC41ICogdmVydE5vcm1hbCArIDAuNTtcclxuICB9XHJcbmA7XHJcblxyXG5jb25zdCBmcmFnbWVudFNoYWRlclRleHQgPSBgXHJcbiAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XHJcbiAgdmFyeWluZyB2ZWMzIGZyYWdDb2xvcjtcclxuXHJcbiAgdm9pZCBtYWluKClcclxuICB7XHJcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGZyYWdDb2xvciwgMSk7XHJcbiAgfVxyXG5gO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJlbmRlcmVyM0QgaW1wbGVtZW50cyBJUmVuZGVyZXIge1xyXG4gIC8vIFJlbmRlcmluZ1xyXG4gIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICBwcml2YXRlIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XHJcbiAgcHJpdmF0ZSBwcm9ncmFtOiBXZWJHTFByb2dyYW07XHJcbiAgcHJpdmF0ZSBWZXJ0ZXhCdWZmZXI6IFdlYkdMQnVmZmVyO1xyXG4gIHByaXZhdGUgSW5kZXhCdWZmZXI6IFdlYkdMQnVmZmVyO1xyXG4gIHByaXZhdGUgcG9zaXRpb25BdHRyaWJ1dGU6IG51bWJlcjtcclxuICBwcml2YXRlIG5vcm1hbEF0dHJpYnV0ZTogbnVtYmVyO1xyXG4gIHByaXZhdGUgcHJvak1hdExvYzogV2ViR0xVbmlmb3JtTG9jYXRpb247XHJcbiAgcHJpdmF0ZSB2aWV3TWF0TG9jOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcclxuICBwcml2YXRlIHdvcmxkTWF0TG9jOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcclxuICBwcml2YXRlIHBvc1ZlY0xvYzogV2ViR0xVbmlmb3JtTG9jYXRpb247XHJcbiAgcHJpdmF0ZSBkaXJWZWNMb2M6IFdlYkdMVW5pZm9ybUxvY2F0aW9uO1xyXG4gIHByaXZhdGUgcmFkaXVzTG9jOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcclxuXHJcbiAgLy8gQ2FtZXJhIGNvbnRyb2xzXHJcbiAgcHJpdmF0ZSBkcmFnOiBib29sZWFuO1xyXG4gIHByaXZhdGUgb2xkWDogbnVtYmVyO1xyXG4gIHByaXZhdGUgb2xkWTogbnVtYmVyO1xyXG4gIHByaXZhdGUgZFg6IG51bWJlcjtcclxuICBwcml2YXRlIGRZOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSB4Um90ID0gMDtcclxuICBwcml2YXRlIHlSb3QgPSAwO1xyXG4gIHByaXZhdGUgY2FtZXJhRGlzdCA9IDgwMDsgLy8gU3RhcnQgY2FtZXJhIDgwMCAncHgnIGF3YXlcclxuXHJcbiAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcblxyXG4gICAgLy8gR2V0IFdlYkdMIGNvbnRleHRcclxuICAgIHRoaXMuZ2wgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIik7XHJcblxyXG4gICAgaWYgKCF0aGlzLmdsKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJXZWJHTCBub3Qgc3VwcG9ydGVkXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29tcGlsZSBzaGFkZXJzXHJcbiAgICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSB0aGlzLmdsLmNyZWF0ZVNoYWRlcih0aGlzLmdsLlZFUlRFWF9TSEFERVIpO1xyXG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSB0aGlzLmdsLmNyZWF0ZVNoYWRlcih0aGlzLmdsLkZSQUdNRU5UX1NIQURFUik7XHJcblxyXG4gICAgdGhpcy5nbC5zaGFkZXJTb3VyY2UodmVydGV4U2hhZGVyLCB2ZXJ0ZXhTaGFkZXJUZXh0KTtcclxuICAgIHRoaXMuZ2wuc2hhZGVyU291cmNlKGZyYWdtZW50U2hhZGVyLCBmcmFnbWVudFNoYWRlclRleHQpO1xyXG5cclxuICAgIHRoaXMuZ2wuY29tcGlsZVNoYWRlcih2ZXJ0ZXhTaGFkZXIpO1xyXG4gICAgaWYgKCF0aGlzLmdsLmdldFNoYWRlclBhcmFtZXRlcih2ZXJ0ZXhTaGFkZXIsIHRoaXMuZ2wuQ09NUElMRV9TVEFUVVMpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgXCJFUlJPUiBjb21waWxpbmcgdmVydGV4IHNoYWRlclwiLFxyXG4gICAgICAgIHRoaXMuZ2wuZ2V0U2hhZGVySW5mb0xvZyh2ZXJ0ZXhTaGFkZXIpXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdsLmNvbXBpbGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xyXG4gICAgaWYgKCF0aGlzLmdsLmdldFNoYWRlclBhcmFtZXRlcihmcmFnbWVudFNoYWRlciwgdGhpcy5nbC5DT01QSUxFX1NUQVRVUykpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICBcIkVSUk9SIGNvbXBpbGluZyBmcmFnbWVudCBzaGFkZXJcIixcclxuICAgICAgICB0aGlzLmdsLmdldFNoYWRlckluZm9Mb2coZnJhZ21lbnRTaGFkZXIpXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgYW5kIHZhbGlkYXRlIHByb2dyYW1cclxuICAgIHRoaXMucHJvZ3JhbSA9IHRoaXMuZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG4gICAgdGhpcy5nbC5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xyXG4gICAgdGhpcy5nbC5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XHJcbiAgICB0aGlzLmdsLmxpbmtQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XHJcblxyXG4gICAgaWYgKCF0aGlzLmdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5wcm9ncmFtLCB0aGlzLmdsLkxJTktfU1RBVFVTKSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIFwiRVJST1IgbGlua2luZyBwcm9ncmFtXCIsXHJcbiAgICAgICAgdGhpcy5nbC5nZXRQcm9ncmFtSW5mb0xvZyh0aGlzLnByb2dyYW0pXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdsLnZhbGlkYXRlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xyXG4gICAgaWYgKCF0aGlzLmdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5wcm9ncmFtLCB0aGlzLmdsLlZBTElEQVRFX1NUQVRVUykpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICBcIkVSUk9SIHZhbGlkYXRpbmcgcHJvZ3JhbVwiLFxyXG4gICAgICAgIHRoaXMuZ2wuZ2V0UHJvZ3JhbUluZm9Mb2codGhpcy5wcm9ncmFtKVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IFdlYkdMIHNldHRpbmdzXHJcbiAgICB0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcclxuICAgIHRoaXMuZ2wuZW5hYmxlKHRoaXMuZ2wuREVQVEhfVEVTVCk7XHJcbiAgICB0aGlzLmdsLmVuYWJsZSh0aGlzLmdsLkNVTExfRkFDRSk7XHJcbiAgICB0aGlzLmdsLmZyb250RmFjZSh0aGlzLmdsLkNDVyk7XHJcbiAgICB0aGlzLmdsLmN1bGxGYWNlKHRoaXMuZ2wuQkFDSyk7XHJcbiAgICB0aGlzLmdsLmNsZWFyQ29sb3IoMSwgMSwgMSwgMSk7XHJcblxyXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm1vdXNlRG93biwgZmFsc2UpO1xyXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5tb3VzZVVwLCBmYWxzZSk7XHJcbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgdGhpcy5tb3VzZVVwLCBmYWxzZSk7XHJcbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW91c2VNb3ZlLCBmYWxzZSk7XHJcbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgdGhpcy5tb3VzZVNjcm9sbCwgZmFsc2UpO1xyXG5cclxuICAgIC8vIEluaXRpYWxpc2UgdmVydGV4IGFuZCBpbmRleCBidWZmZXJcclxuICAgIHRoaXMuVmVydGV4QnVmZmVyID0gdGhpcy5nbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkFSUkFZX0JVRkZFUiwgdGhpcy5WZXJ0ZXhCdWZmZXIpO1xyXG4gICAgdGhpcy5nbC5idWZmZXJEYXRhKFxyXG4gICAgICB0aGlzLmdsLkFSUkFZX0JVRkZFUixcclxuICAgICAgbmV3IEZsb2F0MzJBcnJheShBZ2VudE1lc2gudmVydGljZXMpLFxyXG4gICAgICB0aGlzLmdsLlNUQVRJQ19EUkFXXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuSW5kZXhCdWZmZXIgPSB0aGlzLmdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuSW5kZXhCdWZmZXIpO1xyXG4gICAgdGhpcy5nbC5idWZmZXJEYXRhKFxyXG4gICAgICB0aGlzLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLFxyXG4gICAgICBuZXcgVWludDE2QXJyYXkoQWdlbnRNZXNoLmluZGljZXMpLFxyXG4gICAgICB0aGlzLmdsLlNUQVRJQ19EUkFXXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEdldCBhdHRyaWJ1dGUgbG9jYXRpb25zXHJcbiAgICB0aGlzLnBvc2l0aW9uQXR0cmlidXRlID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihcclxuICAgICAgdGhpcy5wcm9ncmFtLFxyXG4gICAgICBcInZlcnRQb3NpdGlvblwiXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcihcclxuICAgICAgdGhpcy5wb3NpdGlvbkF0dHJpYnV0ZSxcclxuICAgICAgMyxcclxuICAgICAgdGhpcy5nbC5GTE9BVCxcclxuICAgICAgZmFsc2UsXHJcbiAgICAgIDYgKiBGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsXHJcbiAgICAgIDBcclxuICAgICk7XHJcbiAgICB0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMucG9zaXRpb25BdHRyaWJ1dGUpO1xyXG5cclxuICAgIHRoaXMubm9ybWFsQXR0cmlidXRlID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihcclxuICAgICAgdGhpcy5wcm9ncmFtLFxyXG4gICAgICBcInZlcnROb3JtYWxcIlxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmdsLnZlcnRleEF0dHJpYlBvaW50ZXIoXHJcbiAgICAgIHRoaXMubm9ybWFsQXR0cmlidXRlLFxyXG4gICAgICAzLFxyXG4gICAgICB0aGlzLmdsLkZMT0FULFxyXG4gICAgICBmYWxzZSxcclxuICAgICAgNiAqIEZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCxcclxuICAgICAgMyAqIEZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVFxyXG4gICAgKTtcclxuICAgIHRoaXMuZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5ub3JtYWxBdHRyaWJ1dGUpO1xyXG5cclxuICAgIC8vIEdldCB1bmlmb3JtIGxvY2F0aW9uc1xyXG4gICAgdGhpcy5wcm9qTWF0TG9jID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInByb2pNYXRcIik7XHJcbiAgICB0aGlzLnZpZXdNYXRMb2MgPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sIFwidmlld01hdFwiKTtcclxuICAgIHRoaXMud29ybGRNYXRMb2MgPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sIFwid29ybGRNYXRcIik7XHJcbiAgICB0aGlzLnBvc1ZlY0xvYyA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJwb3NpdGlvblwiKTtcclxuICAgIHRoaXMuZGlyVmVjTG9jID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcImRpcmVjdGlvblwiKTtcclxuICAgIHRoaXMucmFkaXVzTG9jID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInJhZGl1c1wiKTtcclxuXHJcbiAgICAvLyBTZXQgdXAgbWF0cmljZXNcclxuICAgIGNvbnN0IHByb2plY3Rpb25NYXRyaXggPSBNYXRyaXguZ2V0UGVyc3BlY3RpdmVQcm9qZWN0aW9uTWF0cml4KFxyXG4gICAgICA0NSAqIChNYXRoLlBJIC8gMTgwKSwgLy8gNDVkZWcgeS1heGlzIEZPVlxyXG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIHRoaXMuY2FudmFzLmhlaWdodCxcclxuICAgICAgMC4xLFxyXG4gICAgICB0aGlzLmNhbWVyYURpc3QgKyAyMDAwXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IHZpZXdNYXRyaXggPSBNYXRyaXguZ2V0VHJhbnNsYXRpb25NYXRyaXgoMCwgMCwgLXRoaXMuY2FtZXJhRGlzdCk7IC8vIE1vdmUgY2FtZXJhIGJhY2sgb24geiBheGlzXHJcblxyXG4gICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICBjb25zdCB3b3JsZE1hdHJpeCA9IE1hdHJpeC5nZXRJZGVudGl0eU1hdHJpeCgpO1xyXG5cclxuICAgIHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLnByb2pNYXRMb2MsIGZhbHNlLCBwcm9qZWN0aW9uTWF0cml4KTtcclxuICAgIHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLnZpZXdNYXRMb2MsIGZhbHNlLCB2aWV3TWF0cml4KTtcclxuICAgIHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLndvcmxkTWF0TG9jLCBmYWxzZSwgd29ybGRNYXRyaXgpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKTogdm9pZCB7XHJcbiAgICB0aGlzLmdsLmNsZWFyKHRoaXMuZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IHRoaXMuZ2wuREVQVEhfQlVGRkVSX0JJVCk7XHJcbiAgfVxyXG5cclxuICBkcmF3QWdlbnRzKGFnZW50czogSUFnZW50Q29sbGVjdGlvbik6IHZvaWQge1xyXG4gICAgYWdlbnRzLmZvckVhY2goKGFnZW50KSA9PiB7XHJcbiAgICAgIC8vIFBvc2l0aW9uXHJcbiAgICAgIGxldCBwb3MgPSBhZ2VudC5nZXRQb3NpdGlvbigpO1xyXG4gICAgICB0aGlzLmdsLnVuaWZvcm0yZihcclxuICAgICAgICB0aGlzLnBvc1ZlY0xvYyxcclxuICAgICAgICBwb3MueCAtIHRoaXMuY2FudmFzLndpZHRoIC8gMixcclxuICAgICAgICBwb3MueSAtIHRoaXMuY2FudmFzLmhlaWdodCAvIDJcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIERpcmVjdGlvblxyXG4gICAgICBsZXQgZGlyID0gYWdlbnQuZ2V0RGlyZWN0aW9uKCkubm9ybWFsaXNlKCk7XHJcbiAgICAgIGlmIChkaXIueCA9PSAwICYmIGRpci55ID09IDApIHtcclxuICAgICAgICBkaXIgPSBuZXcgVmVjdG9yMmYoMSwgMCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5nbC51bmlmb3JtMmYodGhpcy5kaXJWZWNMb2MsIGRpci54LCBkaXIueSk7XHJcblxyXG4gICAgICAvLyBSYWRpdXNcclxuICAgICAgdGhpcy5nbC51bmlmb3JtMWYodGhpcy5yYWRpdXNMb2MsIGFnZW50LlJhZGl1cyk7XHJcblxyXG4gICAgICAvLyBEcmF3IG1lc2hcclxuICAgICAgdGhpcy5nbC5kcmF3RWxlbWVudHMoXHJcbiAgICAgICAgdGhpcy5nbC5UUklBTkdMRVMsXHJcbiAgICAgICAgQWdlbnRNZXNoLmluZGljZXMubGVuZ3RoLFxyXG4gICAgICAgIHRoaXMuZ2wuVU5TSUdORURfU0hPUlQsXHJcbiAgICAgICAgMFxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG1vdXNlRG93biA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgdGhpcy5kcmFnID0gdHJ1ZTtcclxuICAgIHRoaXMub2xkWCA9IGV2ZW50LnBhZ2VYO1xyXG4gICAgdGhpcy5vbGRZID0gZXZlbnQucGFnZVk7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgbW91c2VVcCA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgdGhpcy5kcmFnID0gZmFsc2U7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgbW91c2VNb3ZlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBpZiAoIXRoaXMuZHJhZykgcmV0dXJuIGZhbHNlO1xyXG4gICAgdGhpcy5kWCA9ICgoZXZlbnQucGFnZVggLSB0aGlzLm9sZFgpICogMiAqIE1hdGguUEkpIC8gdGhpcy5jYW52YXMud2lkdGg7XHJcbiAgICB0aGlzLmRZID0gKChldmVudC5wYWdlWSAtIHRoaXMub2xkWSkgKiAyICogTWF0aC5QSSkgLyB0aGlzLmNhbnZhcy5oZWlnaHQ7XHJcbiAgICB0aGlzLnhSb3QgKz0gdGhpcy5kWDtcclxuICAgIHRoaXMueVJvdCArPSB0aGlzLmRZO1xyXG4gICAgdGhpcy5vbGRYID0gZXZlbnQucGFnZVg7XHJcbiAgICB0aGlzLm9sZFkgPSBldmVudC5wYWdlWTtcclxuXHJcbiAgICAvLyBDbGFtcCBZIHJvdGF0aW9uXHJcbiAgICBpZiAodGhpcy55Um90ID4gMCkge1xyXG4gICAgICB0aGlzLnlSb3QgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnlSb3QgPCAtTWF0aC5QSSkge1xyXG4gICAgICB0aGlzLnlSb3QgPSAtTWF0aC5QSTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgeFJvdE1hdCA9IE1hdHJpeC5nZXRaUm90YXRpb25NYXRyaXgodGhpcy54Um90KTtcclxuICAgIGxldCB5Um90TWF0ID0gTWF0cml4LmdldFhSb3RhdGlvbk1hdHJpeCh0aGlzLnlSb3QpO1xyXG4gICAgbGV0IHdvcmxkTWF0cml4ID0gTWF0cml4Lm11bHRpcGx5TWF0cmljZXMoeFJvdE1hdCwgeVJvdE1hdCk7XHJcbiAgICB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy53b3JsZE1hdExvYywgZmFsc2UsIHdvcmxkTWF0cml4KTtcclxuXHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgbW91c2VTY3JvbGwgPSAoZXZlbnQ6IFdoZWVsRXZlbnQpID0+IHtcclxuICAgIHRoaXMuY2FtZXJhRGlzdCArPSBldmVudC5kZWx0YVk7XHJcbiAgICBpZiAodGhpcy5jYW1lcmFEaXN0IDwgMCkge1xyXG4gICAgICB0aGlzLmNhbWVyYURpc3QgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHZpZXdNYXRyaXggPSBNYXRyaXguZ2V0VHJhbnNsYXRpb25NYXRyaXgoMCwgMCwgLXRoaXMuY2FtZXJhRGlzdCk7XHJcbiAgICB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy52aWV3TWF0TG9jLCBmYWxzZSwgdmlld01hdHJpeCk7XHJcblxyXG4gICAgY29uc3QgcHJvamVjdGlvbk1hdHJpeCA9IE1hdHJpeC5nZXRQZXJzcGVjdGl2ZVByb2plY3Rpb25NYXRyaXgoXHJcbiAgICAgIDQ1ICogKE1hdGguUEkgLyAxODApLCAvLyA0NWRlZyB5LWF4aXMgRk9WXHJcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5jYW52YXMuaGVpZ2h0LFxyXG4gICAgICAwLjEsXHJcbiAgICAgIHRoaXMuY2FtZXJhRGlzdCArIDIwMDBcclxuICAgICk7XHJcbiAgICB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5wcm9qTWF0TG9jLCBmYWxzZSwgcHJvamVjdGlvbk1hdHJpeCk7XHJcblxyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9O1xyXG59XHJcbiIsImltcG9ydCB7IElBZ2VudCB9IGZyb20gXCIuL0lBZ2VudFwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyZiB9IGZyb20gXCIuL1ZlY3RvcjJmXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQmFzaWNBZ2VudCBpbXBsZW1lbnRzIElBZ2VudCB7XHJcbiAgcHVibGljIHJlYWRvbmx5IElkOiBudW1iZXI7XHJcbiAgcHVibGljIHJlYWRvbmx5IFJhZGl1czogbnVtYmVyO1xyXG5cclxuICBwcml2YXRlIF9wb3NpdGlvbjogVmVjdG9yMmY7XHJcbiAgcHJpdmF0ZSBfZ29hbFBvc2l0aW9uOiBWZWN0b3IyZjtcclxuICBwcml2YXRlIF9kaXJlY3Rpb246IFZlY3RvcjJmO1xyXG5cclxuICBwcml2YXRlIF9pc0RvbmU6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaWQ6IG51bWJlcixcclxuICAgIHN0YXJ0UG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgZ29hbFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgIHJhZGl1czogbnVtYmVyXHJcbiAgKSB7XHJcbiAgICB0aGlzLklkID0gaWQ7XHJcbiAgICB0aGlzLl9wb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XHJcbiAgICB0aGlzLl9nb2FsUG9zaXRpb24gPSBnb2FsUG9zaXRpb247XHJcbiAgICB0aGlzLlJhZGl1cyA9IHJhZGl1cztcclxuICAgIHRoaXMuX2RpcmVjdGlvbiA9IG5ldyBWZWN0b3IyZigwLCAwKTtcclxuXHJcbiAgICB0aGlzLl9pc0RvbmUgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uKCk6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIGdldERpcmVjdGlvbigpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGlyZWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgZ2V0SXNEb25lKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzRG9uZTtcclxuICB9XHJcblxyXG4gIGdldElzU3R1Y2soKTogYm9vbGVhbiB7XHJcbiAgICAvLyBUaGlzIGFnZW50IGNhbm5vdCBnZXQgc3R1Y2tcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZShkZWx0YVQ6IG51bWJlciwgX2FnZW50czogSUFnZW50W10pOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9pc0RvbmUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBnb2FsRGlyZWN0aW9uID0gdGhpcy5fZ29hbFBvc2l0aW9uLnN1YnRyYWN0KHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgIGxldCBnb2FsRGlzdGFuY2UgPSBnb2FsRGlyZWN0aW9uLm1hZ25pdHVkZSgpO1xyXG5cclxuICAgIGlmIChnb2FsRGlzdGFuY2UgPiAoZGVsdGFUICogNjApIC8gMTAwMCkge1xyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24gPSBnb2FsRGlyZWN0aW9uLm5vcm1hbGlzZSgpO1xyXG4gICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChcclxuICAgICAgICB0aGlzLl9kaXJlY3Rpb24ubXVsdGlwbHkoKGRlbHRhVCAqIDYwKSAvIDEwMDApXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX2dvYWxQb3NpdGlvbjtcclxuICAgICAgdGhpcy5faXNEb25lID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSUFnZW50IH0gZnJvbSBcIi4vSUFnZW50XCI7XHJcbmltcG9ydCB7IFZlY3RvcjJmIH0gZnJvbSBcIi4vVmVjdG9yMmZcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdG9wQWdlbnQgaW1wbGVtZW50cyBJQWdlbnQge1xyXG4gIHB1YmxpYyByZWFkb25seSBJZDogbnVtYmVyO1xyXG4gIHB1YmxpYyByZWFkb25seSBSYWRpdXM6IG51bWJlcjtcclxuXHJcbiAgcHJpdmF0ZSBfcG9zaXRpb246IFZlY3RvcjJmO1xyXG4gIHByaXZhdGUgX2dvYWxQb3NpdGlvbjogVmVjdG9yMmY7XHJcbiAgcHJpdmF0ZSBfZGlyZWN0aW9uOiBWZWN0b3IyZjtcclxuXHJcbiAgcHJpdmF0ZSBfaXNEb25lOiBib29sZWFuO1xyXG4gIHByaXZhdGUgX2lzU3R1Y2s6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaWQ6IG51bWJlcixcclxuICAgIHN0YXJ0UG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgZ29hbFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgIHJhZGl1czogbnVtYmVyXHJcbiAgKSB7XHJcbiAgICB0aGlzLklkID0gaWQ7XHJcbiAgICB0aGlzLl9wb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XHJcbiAgICB0aGlzLl9nb2FsUG9zaXRpb24gPSBnb2FsUG9zaXRpb247XHJcbiAgICB0aGlzLlJhZGl1cyA9IHJhZGl1cztcclxuICAgIHRoaXMuX2RpcmVjdGlvbiA9IG5ldyBWZWN0b3IyZigwLCAwKTtcclxuXHJcbiAgICB0aGlzLl9pc0RvbmUgPSBmYWxzZTtcclxuICAgIHRoaXMuX2lzU3R1Y2sgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uKCk6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIGdldERpcmVjdGlvbigpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGlyZWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgZ2V0SXNEb25lKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzRG9uZTtcclxuICB9XHJcblxyXG4gIGdldElzU3R1Y2soKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNTdHVjaztcclxuICB9XHJcblxyXG4gIHVwZGF0ZShkZWx0YVQ6IG51bWJlciwgYWdlbnRzOiBJQWdlbnRbXSk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuX2lzRG9uZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGdvYWxEaXJlY3Rpb24gPSB0aGlzLl9nb2FsUG9zaXRpb24uc3VidHJhY3QodGhpcy5fcG9zaXRpb24pO1xyXG4gICAgbGV0IGdvYWxEaXN0YW5jZSA9IGdvYWxEaXJlY3Rpb24ubWFnbml0dWRlKCk7XHJcblxyXG4gICAgaWYgKGdvYWxEaXN0YW5jZSA+IChkZWx0YVQgKiA2MCkgLyAxMDAwKSB7XHJcbiAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGdvYWxEaXJlY3Rpb24ubm9ybWFsaXNlKCk7XHJcbiAgICAgIGxldCBoZWFkaW5nID0gdGhpcy5fcG9zaXRpb24uYWRkKHRoaXMuX2RpcmVjdGlvbi5tdWx0aXBseSgyMCkpO1xyXG5cclxuICAgICAgdGhpcy5faXNTdHVjayA9IGZhbHNlO1xyXG4gICAgICBhZ2VudHMuZm9yRWFjaCgoYWdlbnQpID0+IHtcclxuICAgICAgICBpZiAoYWdlbnQuSWQgIT0gdGhpcy5JZCAmJiB0aGlzLmNvbGxpZGVzKGFnZW50LCBoZWFkaW5nKSkge1xyXG4gICAgICAgICAgdGhpcy5faXNTdHVjayA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghdGhpcy5faXNTdHVjaykge1xyXG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKFxyXG4gICAgICAgICAgdGhpcy5fZGlyZWN0aW9uLm11bHRpcGx5KChkZWx0YVQgKiA2MCkgLyAxMDAwKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fZ29hbFBvc2l0aW9uO1xyXG4gICAgICB0aGlzLl9pc0RvbmUgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29sbGlkZXMoYWdlbnQ6IElBZ2VudCwgcG9zaXRpb246IFZlY3RvcjJmKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBhZ2VudC5nZXRQb3NpdGlvbigpLnN1YnRyYWN0KHBvc2l0aW9uKS5tYWduaXR1ZGUoKSA8XHJcbiAgICAgIGFnZW50LlJhZGl1cyArIHRoaXMuUmFkaXVzXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJQWdlbnQgfSBmcm9tIFwiLi9JQWdlbnRcIjtcclxuaW1wb3J0IHsgVmVjdG9yMmYgfSBmcm9tIFwiLi9WZWN0b3IyZlwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQ29uZmlndXJhdGlvbiB7XHJcbiAgYWdlbnRzOiBJQWdlbnRbXTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENvbmZpZ3VyYXRpb25zIHtcclxuICBzdGF0aWMgUmFuZG9tVG9SYW5kb20oXHJcbiAgICBuOiBudW1iZXIsXHJcbiAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICBhZ2VudENvbnN0cnVjdG9yOiAoXHJcbiAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgIHN0YXJ0UG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICByYWRpdXM6IG51bWJlclxyXG4gICAgKSA9PiBJQWdlbnRcclxuICApIHtcclxuICAgIC8vIFJhbmRvbSBzdGFydCBwb3NpdGlvbiB0byByYW5kb20gZ29hbCBwb3NpdGlvblxyXG4gICAgbGV0IGFnZW50czogSUFnZW50W10gPSBbXTtcclxuICAgIGxldCBzdGFydFBvc2l0aW9ucyA9IHRoaXMucG9pc3NvbkRpc2tTYW1wbGUod2lkdGgsIGhlaWdodCwgbiwgNTApO1xyXG4gICAgbGV0IGdvYWxQb3NpdGlvbnMgPSB0aGlzLnBvaXNzb25EaXNrU2FtcGxlKHdpZHRoLCBoZWlnaHQsIG4sIDUwKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgICBjb25zdCBhZ2VudCA9IGFnZW50Q29uc3RydWN0b3IoXHJcbiAgICAgICAgaSxcclxuICAgICAgICBzdGFydFBvc2l0aW9uc1tpXSxcclxuICAgICAgICBnb2FsUG9zaXRpb25zW2ldLFxyXG4gICAgICAgIDIwXHJcbiAgICAgICk7XHJcbiAgICAgIGFnZW50cy5wdXNoKGFnZW50KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBhZ2VudHM6IGFnZW50cyB9IGFzIElDb25maWd1cmF0aW9uO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIFJhbmRvbVRvTGluZShcclxuICAgIG46IG51bWJlcixcclxuICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgIGFnZW50Q29uc3RydWN0b3I6IChcclxuICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgc3RhcnRQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgIHJhZGl1czogbnVtYmVyXHJcbiAgICApID0+IElBZ2VudFxyXG4gICkge1xyXG4gICAgLy8gUmFuZG9tIHN0YXJ0IHBvc2l0aW9uIHRvIGZpeGVkIHBvc2l0aW9uIG9uIGxpbmVcclxuICAgIGxldCBhZ2VudHM6IElBZ2VudFtdID0gW107XHJcbiAgICBsZXQgc3RhcnRQb3NpdGlvbnMgPSB0aGlzLnBvaXNzb25EaXNrU2FtcGxlKHdpZHRoLCBoZWlnaHQsIG4sIDUwKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgICBjb25zdCBhZ2VudCA9IGFnZW50Q29uc3RydWN0b3IoXHJcbiAgICAgICAgaSxcclxuICAgICAgICBzdGFydFBvc2l0aW9uc1tpXSxcclxuICAgICAgICBuZXcgVmVjdG9yMmYoKChpICsgMSkgLyAobiArIDEpKSAqIHdpZHRoLCBoZWlnaHQgLyAyKSxcclxuICAgICAgICAyMFxyXG4gICAgICApO1xyXG4gICAgICBhZ2VudHMucHVzaChhZ2VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgYWdlbnRzOiBhZ2VudHMgfSBhcyBJQ29uZmlndXJhdGlvbjtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBDaXJjbGVUb0NpcmNsZShcclxuICAgIG46IG51bWJlcixcclxuICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgIGFnZW50Q29uc3RydWN0b3I6IChcclxuICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgc3RhcnRQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgIHJhZGl1czogbnVtYmVyXHJcbiAgICApID0+IElBZ2VudFxyXG4gICkge1xyXG4gICAgLy8gUG9zaXRpb24gb24gcmFkaXVzIG9mIGNpcmNsZSB0byBvcHBvc2l0ZSBwb2ludFxyXG4gICAgbGV0IGFnZW50czogSUFnZW50W10gPSBbXTtcclxuICAgIGNvbnN0IGNlbnRyZVggPSB3aWR0aCAvIDI7XHJcbiAgICBjb25zdCBjZW50cmVZID0gaGVpZ2h0IC8gMjtcclxuICAgIGNvbnN0IHJhZGl1cyA9IGhlaWdodCAvIDIgLSAyNTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgICBjb25zdCBhbmdsZSA9ICgyICogTWF0aC5QSSAqIGkpIC8gbjtcclxuICAgICAgY29uc3QgYWdlbnQgPSBhZ2VudENvbnN0cnVjdG9yKFxyXG4gICAgICAgIGksXHJcbiAgICAgICAgbmV3IFZlY3RvcjJmKFxyXG4gICAgICAgICAgY2VudHJlWCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSxcclxuICAgICAgICAgIGNlbnRyZVkgKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSlcclxuICAgICAgICApLFxyXG4gICAgICAgIG5ldyBWZWN0b3IyZihcclxuICAgICAgICAgIGNlbnRyZVggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSArIE1hdGguUEkpLFxyXG4gICAgICAgICAgY2VudHJlWSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlICsgTWF0aC5QSSlcclxuICAgICAgICApLFxyXG4gICAgICAgIDIwXHJcbiAgICAgICk7XHJcbiAgICAgIGFnZW50cy5wdXNoKGFnZW50KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBhZ2VudHM6IGFnZW50cyB9IGFzIElDb25maWd1cmF0aW9uO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIEdyaWRUb0dyaWQoXHJcbiAgICBuOiBudW1iZXIsXHJcbiAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICBhZ2VudENvbnN0cnVjdG9yOiAoXHJcbiAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgIHN0YXJ0UG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICByYWRpdXM6IG51bWJlclxyXG4gICAgKSA9PiBJQWdlbnRcclxuICApIHtcclxuICAgIC8vIFR3byBvcHBvc2luZyBncmlkcyBvZiBhZ2VudHMgcGFzc2luZyB0aHJvdWdoIGVhY2hvdGhlclxyXG4gICAgbGV0IGFnZW50czogSUFnZW50W10gPSBbXTtcclxuICAgIGxldCByb3dzID0gNDtcclxuICAgIGxldCBjb2xzID0gTWF0aC5jZWlsKG4gLyAoMiAqIHJvd3MpKTtcclxuICAgIGxldCBzcGFjaW5nID0gOTA7XHJcbiAgICBsZXQgbGVmdCA9IDUwO1xyXG4gICAgbGV0IHJpZ2h0ID0gd2lkdGggLSBsZWZ0IC0gc3BhY2luZyAqIChjb2xzIC0gMSk7XHJcbiAgICBsZXQgdG9wID0gaGVpZ2h0IC8gMiAtIChzcGFjaW5nIC8gMikgKiAocm93cyAtIDEpO1xyXG5cclxuICAgIGxldCBpZCA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbHM7IGkrKykge1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJvd3M7IGorKykge1xyXG4gICAgICAgIGxldCBhID0gbmV3IFZlY3RvcjJmKGxlZnQgKyBzcGFjaW5nICogaSwgdG9wICsgc3BhY2luZyAqIGopO1xyXG4gICAgICAgIGxldCBiID0gbmV3IFZlY3RvcjJmKHJpZ2h0ICsgc3BhY2luZyAqIGksIHRvcCArIHNwYWNpbmcgKiBqKTtcclxuXHJcbiAgICAgICAgLy8gTGVmdCBncmlkXHJcbiAgICAgICAgYWdlbnRzLnB1c2goYWdlbnRDb25zdHJ1Y3RvcihpZCwgYSwgYiwgMjApKTtcclxuICAgICAgICBpZCsrO1xyXG4gICAgICAgIGlmIChpZCA+PSBuKSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJpZ2h0IGdyaWRcclxuICAgICAgICBhZ2VudHMucHVzaChhZ2VudENvbnN0cnVjdG9yKGlkLCBiLCBhLCAyMCkpO1xyXG4gICAgICAgIGlkKys7XHJcblxyXG4gICAgICAgIGlmIChpZCA+PSBuKSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGlkID49IG4pIHtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGFnZW50czogYWdlbnRzIH0gYXMgSUNvbmZpZ3VyYXRpb247XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXRpYyBwb2lzc29uRGlza1NhbXBsZShcclxuICAgIHhSYW5nZTogbnVtYmVyLFxyXG4gICAgeVJhbmdlOiBudW1iZXIsXHJcbiAgICBuOiBudW1iZXIsXHJcbiAgICB0aHJlc2hvbGQ6IG51bWJlclxyXG4gICk6IFZlY3RvcjJmW10ge1xyXG4gICAgbGV0IHNhbXBsZXM6IFZlY3RvcjJmW10gPSBbXTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgICBsZXQgcmVzYW1wbGUgPSB0cnVlO1xyXG4gICAgICBsZXQgcG9zOiBWZWN0b3IyZjtcclxuXHJcbiAgICAgIHdoaWxlIChyZXNhbXBsZSkge1xyXG4gICAgICAgIHJlc2FtcGxlID0gZmFsc2U7XHJcbiAgICAgICAgcG9zID0gbmV3IFZlY3RvcjJmKHhSYW5nZSAqIE1hdGgucmFuZG9tKCksIHlSYW5nZSAqIE1hdGgucmFuZG9tKCkpO1xyXG5cclxuICAgICAgICBzYW1wbGVzLmZvckVhY2goKHNhbXBsZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKHBvcy5zdWJ0cmFjdChzYW1wbGUpLm1hZ25pdHVkZVNxcmQoKSA8IHRocmVzaG9sZCAqKiAyKSB7XHJcbiAgICAgICAgICAgIHJlc2FtcGxlID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2FtcGxlcy5wdXNoKHBvcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNhbXBsZXM7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IElBZ2VudENvbGxlY3Rpb24gfSBmcm9tIFwiLi9JQWdlbnRDb2xsZWN0aW9uXCI7XHJcbmltcG9ydCB7IElBZ2VudCB9IGZyb20gXCIuL0lBZ2VudFwiO1xyXG5cclxuaW50ZXJmYWNlIE5vZGUge1xyXG4gIGFnZW50OiBJQWdlbnQ7XHJcbiAgbGVmdDogTm9kZTtcclxuICByaWdodDogTm9kZTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFnZW50VHJlZSBpbXBsZW1lbnRzIElBZ2VudENvbGxlY3Rpb24ge1xyXG4gIHByaXZhdGUgX2FnZW50czogSUFnZW50W107XHJcbiAgcHJpdmF0ZSBfcm9vdDogTm9kZTtcclxuXHJcbiAgaW5pdChhZ2VudHM6IElBZ2VudFtdKTogdm9pZCB7XHJcbiAgICB0aGlzLl9hZ2VudHMgPSBhZ2VudHM7XHJcbiAgICB0aGlzLl9yb290ID0gdGhpcy5jb25zdHJ1Y3RUcmVlKHRoaXMuX2FnZW50cywgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXRBbGwoKTogSUFnZW50W10ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2FnZW50cztcclxuICB9XHJcblxyXG4gIGdldE5laWdoYm91cnNJblJhbmdlUmVjdGlsaW5lYXIoYWdlbnQ6IElBZ2VudCwgcmFuZ2U6IG51bWJlcik6IElBZ2VudFtdIHtcclxuICAgIGxldCBtaW5YID0gYWdlbnQuZ2V0UG9zaXRpb24oKS54IC0gcmFuZ2U7XHJcbiAgICBsZXQgbWluWSA9IGFnZW50LmdldFBvc2l0aW9uKCkueSAtIHJhbmdlO1xyXG4gICAgbGV0IG1heFggPSBhZ2VudC5nZXRQb3NpdGlvbigpLnggKyByYW5nZTtcclxuICAgIGxldCBtYXhZID0gYWdlbnQuZ2V0UG9zaXRpb24oKS55ICsgcmFuZ2U7XHJcblxyXG4gICAgbGV0IGNhbmRpZGF0ZXMgPSB0aGlzLnJhbmdlU2VhcmNoKHRoaXMuX3Jvb3QsIG1pblgsIG1pblksIG1heFgsIG1heFksIHRydWUpO1xyXG4gICAgcmV0dXJuIGNhbmRpZGF0ZXMuZmlsdGVyKChvdGhlcikgPT4gb3RoZXIuSWQgIT09IGFnZW50LklkKTtcclxuICB9XHJcblxyXG4gIGdldE5laWdoYm91cnNJblJhbmdlRXVjbGlkZWFuKGFnZW50OiBJQWdlbnQsIHJhbmdlOiBudW1iZXIpOiBJQWdlbnRbXSB7XHJcbiAgICBsZXQgY2FuZGlkYXRlcyA9IHRoaXMuZ2V0TmVpZ2hib3Vyc0luUmFuZ2VSZWN0aWxpbmVhcihhZ2VudCwgcmFuZ2UpO1xyXG4gICAgcmV0dXJuIGNhbmRpZGF0ZXMuZmlsdGVyKFxyXG4gICAgICAob3RoZXIpID0+XHJcbiAgICAgICAgYWdlbnQuZ2V0UG9zaXRpb24oKS5zdWJ0cmFjdChvdGhlci5nZXRQb3NpdGlvbigpKS5tYWduaXR1ZGVTcXJkKCkgPD1cclxuICAgICAgICByYW5nZSAqKiAyXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZm9yRWFjaChmdW46IChhZ2VudDogSUFnZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICB0aGlzLl9hZ2VudHMuZm9yRWFjaChmdW4pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb25zdHJ1Y3RUcmVlKGFnZW50czogSUFnZW50W10sIHhBeGlzOiBib29sZWFuKTogTm9kZSB7XHJcbiAgICBpZiAoYWdlbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbWlkID0gTWF0aC5mbG9vcihhZ2VudHMubGVuZ3RoIC8gMik7XHJcblxyXG4gICAgbGV0IHNvcnRlZCA9IHhBeGlzXHJcbiAgICAgID8gYWdlbnRzLnNvcnQoKGEsIGIpID0+IGEuZ2V0UG9zaXRpb24oKS54IC0gYi5nZXRQb3NpdGlvbigpLngpXHJcbiAgICAgIDogYWdlbnRzLnNvcnQoKGEsIGIpID0+IGEuZ2V0UG9zaXRpb24oKS55IC0gYi5nZXRQb3NpdGlvbigpLnkpO1xyXG5cclxuICAgIGxldCBsZWZ0ID0gdGhpcy5jb25zdHJ1Y3RUcmVlKHNvcnRlZC5zbGljZSgwLCBtaWQpLCAheEF4aXMpO1xyXG4gICAgbGV0IHJpZ2h0ID0gdGhpcy5jb25zdHJ1Y3RUcmVlKFxyXG4gICAgICBzb3J0ZWQuc2xpY2UobWlkICsgMSwgYWdlbnRzLmxlbmd0aCksXHJcbiAgICAgICF4QXhpc1xyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4geyBhZ2VudDogYWdlbnRzW21pZF0sIGxlZnQ6IGxlZnQsIHJpZ2h0OiByaWdodCB9O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByYW5nZVNlYXJjaChcclxuICAgIHJvb3Q6IE5vZGUsXHJcbiAgICBtaW5YOiBudW1iZXIsXHJcbiAgICBtaW5ZOiBudW1iZXIsXHJcbiAgICBtYXhYOiBudW1iZXIsXHJcbiAgICBtYXhZOiBudW1iZXIsXHJcbiAgICB4QXhpczogYm9vbGVhblxyXG4gICk6IElBZ2VudFtdIHtcclxuICAgIGlmIChyb290ID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCByZXM6IElBZ2VudFtdID0gW107XHJcbiAgICBpZiAoeEF4aXMpIHtcclxuICAgICAgLy8gSWYgeCA8PSBtYXhYIG5lZWQgdG8gY2hlY2sgcmlnaHQgc3VidHJlZVxyXG4gICAgICBpZiAocm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnggPD0gbWF4WCkge1xyXG4gICAgICAgIHJlcyA9IHJlcy5jb25jYXQoXHJcbiAgICAgICAgICB0aGlzLnJhbmdlU2VhcmNoKHJvb3QucmlnaHQsIG1pblgsIG1pblksIG1heFgsIG1heFksICF4QXhpcylcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiB4ID49IG1pblggbmVlZCB0byBjaGVjayBsZWZ0IHN1YnRyZWVcclxuICAgICAgaWYgKHJvb3QuYWdlbnQuZ2V0UG9zaXRpb24oKS54ID49IG1pblgpIHtcclxuICAgICAgICByZXMgPSByZXMuY29uY2F0KFxyXG4gICAgICAgICAgdGhpcy5yYW5nZVNlYXJjaChyb290LmxlZnQsIG1pblgsIG1pblksIG1heFgsIG1heFksICF4QXhpcylcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBJZiB5IDw9IG1heFkgbmVlZCB0byBjaGVjayByaWdodCBzdWJ0cmVlXHJcbiAgICAgIGlmIChyb290LmFnZW50LmdldFBvc2l0aW9uKCkueSA8PSBtYXhZKSB7XHJcbiAgICAgICAgcmVzID0gcmVzLmNvbmNhdChcclxuICAgICAgICAgIHRoaXMucmFuZ2VTZWFyY2gocm9vdC5yaWdodCwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgIXhBeGlzKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIHkgPj0gbWluWSBuZWVkIHRvIGNoZWNrIGxlZnQgc3VidHJlZVxyXG4gICAgICBpZiAocm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnkgPj0gbWluWSkge1xyXG4gICAgICAgIHJlcyA9IHJlcy5jb25jYXQoXHJcbiAgICAgICAgICB0aGlzLnJhbmdlU2VhcmNoKHJvb3QubGVmdCwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgIXhBeGlzKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGUgYWdlbnQgaXMgaW4gcmFuZ2UgcmFuZ2UgYWRkIHRvIHRoZSByZXN1bHRcclxuICAgIGlmIChcclxuICAgICAgcm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnggPj0gbWluWCAmJlxyXG4gICAgICByb290LmFnZW50LmdldFBvc2l0aW9uKCkueSA+PSBtaW5ZICYmXHJcbiAgICAgIHJvb3QuYWdlbnQuZ2V0UG9zaXRpb24oKS54IDw9IG1heFggJiZcclxuICAgICAgcm9vdC5hZ2VudC5nZXRQb3NpdGlvbigpLnkgPD0gbWF4WVxyXG4gICAgKSB7XHJcbiAgICAgIHJlcy5wdXNoKHJvb3QuYWdlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXM7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IElBZ2VudCB9IGZyb20gXCIuL0lBZ2VudFwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyZiB9IGZyb20gXCIuL1ZlY3RvcjJmXCI7XHJcblxyXG5pbnRlcmZhY2UgVmVsb2NpdHlPYnN0YWNsZSB7XHJcbiAgLy8gVmVsb2NpdHkgb2JqZWN0IGRlZmluZWQgYnkgYSBwb2ludCBhbmQgdHdvIGRpcmVjdGlvbiB2ZWN0b3JzXHJcbiAgdmVydGV4OiBWZWN0b3IyZjtcclxuICB0YW5nZW50MTogVmVjdG9yMmY7XHJcbiAgdGFuZ2VudDI6IFZlY3RvcjJmO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVk9BZ2VudCBpbXBsZW1lbnRzIElBZ2VudCB7XHJcbiAgUmFkaXVzOiBudW1iZXI7XHJcbiAgSWQ6IG51bWJlcjtcclxuXHJcbiAgTUFYX1ZFTE9DSVRZID0gMS4wO1xyXG4gIE1BWF9BQ0NFTEVSQVRJT04gPSAwLjU7XHJcblxyXG4gIHByaXZhdGUgX3Bvc2l0aW9uOiBWZWN0b3IyZjtcclxuICBwcml2YXRlIF9nb2FsUG9zaXRpb246IFZlY3RvcjJmO1xyXG4gIHByaXZhdGUgX2RpcmVjdGlvbjogVmVjdG9yMmY7XHJcblxyXG4gIHByaXZhdGUgX2lzRG9uZTogYm9vbGVhbjtcclxuICBwcml2YXRlIF9pc1N0dWNrOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICBzdGFydFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICByYWRpdXM6IG51bWJlclxyXG4gICkge1xyXG4gICAgdGhpcy5JZCA9IGlkO1xyXG4gICAgdGhpcy5fcG9zaXRpb24gPSBzdGFydFBvc2l0aW9uO1xyXG4gICAgdGhpcy5fZ29hbFBvc2l0aW9uID0gZ29hbFBvc2l0aW9uO1xyXG4gICAgdGhpcy5SYWRpdXMgPSByYWRpdXM7XHJcbiAgICB0aGlzLl9kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcblxyXG4gICAgdGhpcy5faXNEb25lID0gZmFsc2U7XHJcbiAgICB0aGlzLl9pc1N0dWNrID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbigpOiBWZWN0b3IyZiB7XHJcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBnZXREaXJlY3Rpb24oKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RpcmVjdGlvbjtcclxuICB9XHJcblxyXG4gIGdldElzRG9uZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc0RvbmU7XHJcbiAgfVxyXG5cclxuICBnZXRJc1N0dWNrKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzU3R1Y2s7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoZGVsdGFUOiBudW1iZXIsIG5laWdoYm91cnM6IElBZ2VudFtdKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5faXNEb25lKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9pc1N0dWNrID0gZmFsc2U7XHJcbiAgICBsZXQgc3BlZWQgPSAwLjU7XHJcbiAgICBsZXQgcHJlZmVycmVkVmVsb2NpdHkgPSB0aGlzLmdldFByZWZlcnJlZFZlbG9jaXR5KHNwZWVkKTtcclxuXHJcbiAgICBsZXQgc2FmZSA9IHRydWU7XHJcbiAgICBsZXQgY29sbGlzaW9uO1xyXG4gICAgbGV0IGFnZW50O1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCB2ZWxvY2l0eU9ic3RhY2xlID0gdGhpcy5nZXRWZWxvY2l0eU9ic3RhY2xlKG5laWdoYm91cnNbaV0pO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdmVsb2NpdHlPYnN0YWNsZSAhPSBudWxsICYmXHJcbiAgICAgICAgdGhpcy5pc0luc2lkZShwcmVmZXJyZWRWZWxvY2l0eSwgdmVsb2NpdHlPYnN0YWNsZSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgc2FmZSA9IGZhbHNlO1xyXG4gICAgICAgIGNvbGxpc2lvbiA9IHZlbG9jaXR5T2JzdGFjbGU7XHJcbiAgICAgICAgYWdlbnQgPSBpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgcHJlZmVycmVkIHZlbG9jaXR5IGlzIHNhZmUsIGdvIGluIHRoYXQgZGlyZWN0aW9uXHJcbiAgICBpZiAoc2FmZSkge1xyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24gPSBwcmVmZXJyZWRWZWxvY2l0eTtcclxuICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQocHJlZmVycmVkVmVsb2NpdHkpO1xyXG4gICAgICB0aGlzLmNoZWNrSWZEb25lKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY29sbGlzaW9uICE9IG51bGwpIHtcclxuICAgICAgLy8gRWxzZSwgY29uc2lkZXIgY2xvc2VzdCBwb2ludCBvbiBmaXJzdCBoYWxmLXBsYW5lXHJcbiAgICAgIGxldCBoYWxmcGxhbmUxID0gdGhpcy5nZXRDbG9zZXN0UG9pbnRPbkxpbmUoXHJcbiAgICAgICAgY29sbGlzaW9uLnZlcnRleCxcclxuICAgICAgICBjb2xsaXNpb24udGFuZ2VudDEsXHJcbiAgICAgICAgcHJlZmVycmVkVmVsb2NpdHlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChoYWxmcGxhbmUxLm1hZ25pdHVkZSgpIDw9IHNwZWVkKSB7XHJcbiAgICAgICAgc2FmZSA9IHRydWU7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoaSAhPSBhZ2VudCkge1xyXG4gICAgICAgICAgICBsZXQgdmVsb2NpdHlPYnN0YWNsZSA9IHRoaXMuZ2V0VmVsb2NpdHlPYnN0YWNsZShuZWlnaGJvdXJzW2ldKTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgIHZlbG9jaXR5T2JzdGFjbGUgIT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgIHRoaXMuaXNJbnNpZGUoaGFsZnBsYW5lMSwgdmVsb2NpdHlPYnN0YWNsZSlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgc2FmZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2FmZSkge1xyXG4gICAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gaGFsZnBsYW5lMTtcclxuICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKGhhbGZwbGFuZTEpO1xyXG4gICAgICAgICAgdGhpcy5jaGVja0lmRG9uZSgpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRWxzZSwgY29uc2lkZXIgY2xvc2VzdCBwb2ludCBvbiBzZWNvbmQgaGFsZi1wbGFuZVxyXG4gICAgICBsZXQgaGFsZlBsYW5lMiA9IHRoaXMuZ2V0Q2xvc2VzdFBvaW50T25MaW5lKFxyXG4gICAgICAgIGNvbGxpc2lvbi52ZXJ0ZXgsXHJcbiAgICAgICAgY29sbGlzaW9uLnRhbmdlbnQyLFxyXG4gICAgICAgIHByZWZlcnJlZFZlbG9jaXR5XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoaGFsZnBsYW5lMS5tYWduaXR1ZGUoKSA8PSBzcGVlZCkge1xyXG4gICAgICAgIHNhZmUgPSB0cnVlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGkgIT0gYWdlbnQpIHtcclxuICAgICAgICAgICAgbGV0IHZlbG9jaXR5T2JzdGFjbGUgPSB0aGlzLmdldFZlbG9jaXR5T2JzdGFjbGUobmVpZ2hib3Vyc1tpXSk7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICB2ZWxvY2l0eU9ic3RhY2xlICE9IG51bGwgJiZcclxuICAgICAgICAgICAgICB0aGlzLmlzSW5zaWRlKGhhbGZQbGFuZTIsIHZlbG9jaXR5T2JzdGFjbGUpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIHNhZmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNhZmUpIHtcclxuICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGhhbGZQbGFuZTI7XHJcbiAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChoYWxmUGxhbmUyKTtcclxuICAgICAgICAgIHRoaXMuY2hlY2tJZkRvbmUoKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBFbHNlLCBzYW1wbGUgcmFuZG9tIHZlbG9jaXRpZXMgYW5kIHNlbGVjdCB0aGUgb25lIHdpdGggdGhlIGxlYXN0IHBlbmFsdHlcclxuICAgIGxldCBzYW1wbGVzID0gMTAwOyAvLyBudW1iZXIgb2YgdmVsb2NpdGllcyB0byB0cnlcclxuICAgIGxldCB3ID0gMTAwOyAvLyBwYXJhbWV0ZXIgZm9yIHBlbmFsdHlcclxuICAgIGxldCBtaW5QZW5hbHR5ID0gSW5maW5pdHk7XHJcbiAgICBsZXQgYmVzdFZlbG9jaXR5ID0gbmV3IFZlY3RvcjJmKDAsIDApO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2FtcGxlczsgaSsrKSB7XHJcbiAgICAgIC8vIFNhbXBsZSB2ZWxvY2l0eSBmcm9tIGVudGlyZSBhbGxvd2VkIHZlbG9jaXR5IHNwYWNlXHJcbiAgICAgIGxldCBzYW1wbGUgPSBuZXcgVmVjdG9yMmYoMCwgMCkuc2FtcGxlKHNwZWVkKTtcclxuICAgICAgbGV0IG1pblRpbWVUb0NvbGxpc2lvbiA9IEluZmluaXR5O1xyXG5cclxuICAgICAgLy8gRmluZCB0aW1lIHRvIGZpcnN0IGNvbGxpc2lvblxyXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5laWdoYm91cnMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBsZXQgYiA9IG5laWdoYm91cnNbal07XHJcbiAgICAgICAgbGV0IHZlbG9jaXR5T2JzdGFjbGUgPSB0aGlzLmdldFZlbG9jaXR5T2JzdGFjbGUoYik7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgdmVsb2NpdHlPYnN0YWNsZSA9PSBudWxsIHx8XHJcbiAgICAgICAgICB0aGlzLmlzSW5zaWRlKHNhbXBsZSwgdmVsb2NpdHlPYnN0YWNsZSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGxldCB0aW1lVG9Db2xsaXNpb24gPSB0aGlzLmdldEZpcnN0UmF5Q2lyY2xlSW50ZXJzZWN0aW9uKFxyXG4gICAgICAgICAgICBiLmdldFBvc2l0aW9uKCkuYWRkKGIuZ2V0RGlyZWN0aW9uKCkpLFxyXG4gICAgICAgICAgICB0aGlzLlJhZGl1cyArIGIuUmFkaXVzLFxyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbixcclxuICAgICAgICAgICAgc2FtcGxlLnN1YnRyYWN0KGIuZ2V0RGlyZWN0aW9uKCkpXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIGlmICh0aW1lVG9Db2xsaXNpb24gPCBtaW5UaW1lVG9Db2xsaXNpb24pIHtcclxuICAgICAgICAgICAgbWluVGltZVRvQ29sbGlzaW9uID0gdGltZVRvQ29sbGlzaW9uO1xyXG4gICAgICAgICAgICBpZiAobWluVGltZVRvQ29sbGlzaW9uID09IDApIHtcclxuICAgICAgICAgICAgICB0aGlzLmNoZWNrSWZEb25lKCk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDYWxjdWxhdGUgcGVuYWx0eVxyXG4gICAgICBsZXQgcGVuYWx0eSA9XHJcbiAgICAgICAgdyAvIG1pblRpbWVUb0NvbGxpc2lvbiArIHByZWZlcnJlZFZlbG9jaXR5LnN1YnRyYWN0KHNhbXBsZSkubWFnbml0dWRlKCk7IC8vIFRTIGNvcnJlY3RseSBoYW5kbGVzIGRpdmlkZSBieSB6ZXJvIG9yIGluZmluaXR5XHJcbiAgICAgIGlmIChwZW5hbHR5IDwgbWluUGVuYWx0eSkge1xyXG4gICAgICAgIG1pblBlbmFsdHkgPSBwZW5hbHR5O1xyXG4gICAgICAgIGJlc3RWZWxvY2l0eSA9IHNhbXBsZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChiZXN0VmVsb2NpdHkubWFnbml0dWRlKCkgPT0gMCkge1xyXG4gICAgICB0aGlzLl9pc1N0dWNrID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9kaXJlY3Rpb24gPSBiZXN0VmVsb2NpdHk7XHJcbiAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChiZXN0VmVsb2NpdHkpO1xyXG4gICAgdGhpcy5jaGVja0lmRG9uZSgpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRQcmVmZXJyZWRWZWxvY2l0eShtYXhTcGVlZDogbnVtYmVyKTogVmVjdG9yMmYge1xyXG4gICAgbGV0IGdvYWxEaXJlY3Rpb24gPSB0aGlzLl9nb2FsUG9zaXRpb24uc3VidHJhY3QodGhpcy5fcG9zaXRpb24pO1xyXG4gICAgbGV0IGdvYWxEaXN0YW5jZSA9IGdvYWxEaXJlY3Rpb24ubWFnbml0dWRlKCk7XHJcblxyXG4gICAgaWYgKGdvYWxEaXN0YW5jZSA+IG1heFNwZWVkKSB7XHJcbiAgICAgIHJldHVybiBnb2FsRGlyZWN0aW9uLmRpdmlkZShnb2FsRGlzdGFuY2UgLyBtYXhTcGVlZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZ29hbERpcmVjdGlvbjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0VmVsb2NpdHlPYnN0YWNsZShiOiBJQWdlbnQpOiBWZWxvY2l0eU9ic3RhY2xlIHwgbnVsbCB7XHJcbiAgICBsZXQgdmVsb2NpdHlCID0gYi5nZXREaXJlY3Rpb24oKTtcclxuXHJcbiAgICAvLyBUcmFuc2xhdGUgb3JpZ2luIHRvIHRoaXMgYWdlbnQncyBwb3NpdGlvblxyXG4gICAgbGV0IHBvc2l0aW9uQiA9IGIuZ2V0UG9zaXRpb24oKS5zdWJ0cmFjdCh0aGlzLl9wb3NpdGlvbik7XHJcblxyXG4gICAgLy8gRmluZCBNaW5rb3dza2kgc3VtIG9mIGFnZW50c1xyXG4gICAgbGV0IGNlbnRyZSA9IHBvc2l0aW9uQi5hZGQodmVsb2NpdHlCKTtcclxuICAgIGxldCByYWRpdXMgPSBiLlJhZGl1cyArIHRoaXMuUmFkaXVzO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSBhbmdsZXNcclxuICAgIGxldCBkaWZmID0gdmVsb2NpdHlCLnN1YnRyYWN0KGNlbnRyZSk7XHJcbiAgICBsZXQgZGlzdCA9IGRpZmYubWFnbml0dWRlKCk7XHJcbiAgICBpZiAoZGlzdCA8IHJhZGl1cykge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgdGhldGEgPSBNYXRoLmFjb3MocmFkaXVzIC8gZGlzdCk7XHJcbiAgICBsZXQgcGhpID0gTWF0aC5hdGFuMihkaWZmLnksIGRpZmYueCk7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIHRhbmdlbnQgdmVjdG9yc1xyXG4gICAgbGV0IGFuZ2xlMSA9IHBoaSArIHRoZXRhO1xyXG4gICAgbGV0IHRhbmdlbnQxID0gbmV3IFZlY3RvcjJmKFxyXG4gICAgICBjZW50cmUueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlMSksXHJcbiAgICAgIGNlbnRyZS55ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUxKVxyXG4gICAgKTtcclxuXHJcbiAgICBsZXQgYW5nbGUyID0gcGhpIC0gdGhldGE7XHJcbiAgICBsZXQgdGFuZ2VudDIgPSBuZXcgVmVjdG9yMmYoXHJcbiAgICAgIGNlbnRyZS54ICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGUyKSxcclxuICAgICAgY2VudHJlLnkgKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZTIpXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFJldHVybiB2ZWxvY2l0eSBvYnN0YWNsZVxyXG4gICAgcmV0dXJuIHsgdmVydGV4OiB2ZWxvY2l0eUIsIHRhbmdlbnQxOiB0YW5nZW50MSwgdGFuZ2VudDI6IHRhbmdlbnQyIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzSW5zaWRlKFxyXG4gICAgdmVsb2NpdHk6IFZlY3RvcjJmLFxyXG4gICAgdmVsb2NpdHlPYnN0YWNsZTogVmVsb2NpdHlPYnN0YWNsZVxyXG4gICk6IGJvb2xlYW4ge1xyXG4gICAgLy8gRmlyc3QgaGFsZi1wbGFuZVxyXG4gICAgbGV0IGRldGVybWluYW50MSA9XHJcbiAgICAgICh2ZWxvY2l0eU9ic3RhY2xlLnRhbmdlbnQxLnggLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC54KSAqXHJcbiAgICAgICAgKHZlbG9jaXR5LnkgLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC55KSAtXHJcbiAgICAgICh2ZWxvY2l0eU9ic3RhY2xlLnRhbmdlbnQxLnkgLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC55KSAqXHJcbiAgICAgICAgKHZlbG9jaXR5LnggLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC54KTtcclxuXHJcbiAgICAvLyBTZWNvbmQgaGFsZi1wbGFuZVxyXG4gICAgbGV0IGRldGVybWluYW50MiA9XHJcbiAgICAgICh2ZWxvY2l0eU9ic3RhY2xlLnRhbmdlbnQyLnggLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC54KSAqXHJcbiAgICAgICAgKHZlbG9jaXR5LnkgLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC55KSAtXHJcbiAgICAgICh2ZWxvY2l0eU9ic3RhY2xlLnRhbmdlbnQyLnkgLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC55KSAqXHJcbiAgICAgICAgKHZlbG9jaXR5LnggLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC54KTtcclxuXHJcbiAgICByZXR1cm4gZGV0ZXJtaW5hbnQxID4gMCAmJiBkZXRlcm1pbmFudDIgPCAwO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRDbG9zZXN0UG9pbnRPbkxpbmUoXHJcbiAgICBsaW5lUG9pbnQ6IFZlY3RvcjJmLFxyXG4gICAgbGluZURpcmVjdGlvbjogVmVjdG9yMmYsXHJcbiAgICBwb2ludDogVmVjdG9yMmZcclxuICApOiBWZWN0b3IyZiB7XHJcbiAgICBsZXQgZGlyZWN0aW9uID0gbGluZURpcmVjdGlvbi5ub3JtYWxpc2UoKTtcclxuICAgIGxldCB2ZWN0b3IgPSBwb2ludC5zdWJ0cmFjdChsaW5lUG9pbnQpO1xyXG4gICAgbGV0IGRpc3RhbmNlID0gdmVjdG9yLmRvdChkaXJlY3Rpb24pO1xyXG4gICAgcmV0dXJuIGxpbmVQb2ludC5hZGQoZGlyZWN0aW9uLm11bHRpcGx5KGRpc3RhbmNlKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldEZpcnN0UmF5Q2lyY2xlSW50ZXJzZWN0aW9uKFxyXG4gICAgY2VudHJlOiBWZWN0b3IyZixcclxuICAgIHJhZGl1czogbnVtYmVyLFxyXG4gICAgb3JpZ2luOiBWZWN0b3IyZixcclxuICAgIGRpcmVjdGlvbjogVmVjdG9yMmZcclxuICApOiBudW1iZXIge1xyXG4gICAgbGV0IGRlbHRhID0gb3JpZ2luLnN1YnRyYWN0KGNlbnRyZSk7XHJcblxyXG4gICAgbGV0IGEgPSBkaXJlY3Rpb24uZG90KGRpcmVjdGlvbik7XHJcbiAgICBsZXQgYiA9IDIgKiBkaXJlY3Rpb24uZG90KGRlbHRhKTtcclxuICAgIGxldCBjID0gZGVsdGEuZG90KGRlbHRhKSAtIHJhZGl1cyAqKiAyO1xyXG5cclxuICAgIGxldCBkaXNjcmltID0gYiAqKiAyIC0gNCAqIGEgKiBjO1xyXG5cclxuICAgIGlmIChkaXNjcmltIDwgMCkge1xyXG4gICAgICAvLyBObyBpbnRlcnNlY3Rpb25cclxuICAgICAgcmV0dXJuIEluZmluaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBkaXN0YW5jZSA9ICgoLWIgLSBNYXRoLnNxcnQoZGlzY3JpbSkpIC8gMikgKiBhO1xyXG5cclxuICAgIGlmIChkaXN0YW5jZSA8IDApIHtcclxuICAgICAgLy8gSW50ZXJzZWN0aW9uIGJlaGluZFxyXG4gICAgICByZXR1cm4gSW5maW5pdHk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRpc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja0lmRG9uZSgpIHtcclxuICAgIGxldCBmaW5pc2hUaHJlc2hvbGQgPSAxLjA7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLl9wb3NpdGlvbi5zdWJ0cmFjdCh0aGlzLl9nb2FsUG9zaXRpb24pLm1hZ25pdHVkZVNxcmQoKSA8XHJcbiAgICAgIGZpbmlzaFRocmVzaG9sZFxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuX2lzRG9uZSA9IHRydWU7XHJcbiAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fZ29hbFBvc2l0aW9uO1xyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IElBZ2VudCB9IGZyb20gXCIuL0lBZ2VudFwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyZiB9IGZyb20gXCIuL1ZlY3RvcjJmXCI7XHJcblxyXG5pbnRlcmZhY2UgVmVsb2NpdHlPYnN0YWNsZSB7XHJcbiAgLy8gVmVsb2NpdHkgb2JqZWN0IGRlZmluZWQgYnkgYSBwb2ludCBhbmQgdHdvIGRpcmVjdGlvbiB2ZWN0b3JzXHJcbiAgdmVydGV4OiBWZWN0b3IyZjtcclxuICB0YW5nZW50MTogVmVjdG9yMmY7XHJcbiAgdGFuZ2VudDI6IFZlY3RvcjJmO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUlZPQWdlbnQgaW1wbGVtZW50cyBJQWdlbnQge1xyXG4gIFJhZGl1czogbnVtYmVyO1xyXG4gIElkOiBudW1iZXI7XHJcblxyXG4gIE1BWF9WRUxPQ0lUWSA9IDEuMDtcclxuICBNQVhfQUNDRUxFUkFUSU9OID0gMC41O1xyXG5cclxuICBwcml2YXRlIF9wb3NpdGlvbjogVmVjdG9yMmY7XHJcbiAgcHJpdmF0ZSBfZ29hbFBvc2l0aW9uOiBWZWN0b3IyZjtcclxuICBwcml2YXRlIF9kaXJlY3Rpb246IFZlY3RvcjJmO1xyXG5cclxuICBwcml2YXRlIF9pc0RvbmU6IGJvb2xlYW47XHJcbiAgcHJpdmF0ZSBfaXNTdHVjazogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBpZDogbnVtYmVyLFxyXG4gICAgc3RhcnRQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgcmFkaXVzOiBudW1iZXJcclxuICApIHtcclxuICAgIHRoaXMuSWQgPSBpZDtcclxuICAgIHRoaXMuX3Bvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcclxuICAgIHRoaXMuX2dvYWxQb3NpdGlvbiA9IGdvYWxQb3NpdGlvbjtcclxuICAgIHRoaXMuUmFkaXVzID0gcmFkaXVzO1xyXG4gICAgdGhpcy5fZGlyZWN0aW9uID0gbmV3IFZlY3RvcjJmKDAsIDApO1xyXG5cclxuICAgIHRoaXMuX2lzRG9uZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5faXNTdHVjayA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24oKTogVmVjdG9yMmYge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGlyZWN0aW9uKCk6IFZlY3RvcjJmIHtcclxuICAgIHJldHVybiB0aGlzLl9kaXJlY3Rpb247XHJcbiAgfVxyXG5cclxuICBnZXRJc0RvbmUoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNEb25lO1xyXG4gIH1cclxuXHJcbiAgZ2V0SXNTdHVjaygpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc1N0dWNrO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKGRlbHRhVDogbnVtYmVyLCBuZWlnaGJvdXJzOiBJQWdlbnRbXSk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuX2lzRG9uZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5faXNTdHVjayA9IGZhbHNlO1xyXG4gICAgbGV0IHNwZWVkID0gMC41O1xyXG4gICAgbGV0IHByZWZlcnJlZFZlbG9jaXR5ID0gdGhpcy5nZXRQcmVmZXJyZWRWZWxvY2l0eShzcGVlZCk7XHJcblxyXG4gICAgbGV0IHNhZmUgPSB0cnVlO1xyXG4gICAgbGV0IGNvbGxpc2lvbjtcclxuICAgIGxldCBhZ2VudDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgdmVsb2NpdHlPYnN0YWNsZSA9IHRoaXMuZ2V0UmVjaXByb2NhbFZlbG9jaXR5T2JzdGFjbGUobmVpZ2hib3Vyc1tpXSk7XHJcbiAgICAgIGlmIChcclxuICAgICAgICB2ZWxvY2l0eU9ic3RhY2xlICE9IG51bGwgJiZcclxuICAgICAgICB0aGlzLmlzSW5zaWRlKHByZWZlcnJlZFZlbG9jaXR5LCB2ZWxvY2l0eU9ic3RhY2xlKVxyXG4gICAgICApIHtcclxuICAgICAgICBzYWZlID0gZmFsc2U7XHJcbiAgICAgICAgY29sbGlzaW9uID0gdmVsb2NpdHlPYnN0YWNsZTtcclxuICAgICAgICBhZ2VudCA9IGk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBwcmVmZXJyZWQgdmVsb2NpdHkgaXMgc2FmZSwgZ28gaW4gdGhhdCBkaXJlY3Rpb25cclxuICAgIGlmIChzYWZlKSB7XHJcbiAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHByZWZlcnJlZFZlbG9jaXR5O1xyXG4gICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChwcmVmZXJyZWRWZWxvY2l0eSk7XHJcbiAgICAgIHRoaXMuY2hlY2tJZkRvbmUoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb2xsaXNpb24gIT0gbnVsbCkge1xyXG4gICAgICAvLyBFbHNlLCBjb25zaWRlciBjbG9zZXN0IHBvaW50IG9uIGZpcnN0IGhhbGYtcGxhbmVcclxuICAgICAgbGV0IGhhbGZwbGFuZTEgPSB0aGlzLmdldENsb3Nlc3RQb2ludE9uTGluZShcclxuICAgICAgICBjb2xsaXNpb24udmVydGV4LFxyXG4gICAgICAgIGNvbGxpc2lvbi50YW5nZW50MSxcclxuICAgICAgICBwcmVmZXJyZWRWZWxvY2l0eVxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKGhhbGZwbGFuZTEubWFnbml0dWRlKCkgPD0gc3BlZWQpIHtcclxuICAgICAgICBzYWZlID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChpICE9IGFnZW50KSB7XHJcbiAgICAgICAgICAgIGxldCB2ZWxvY2l0eU9ic3RhY2xlID0gdGhpcy5nZXRSZWNpcHJvY2FsVmVsb2NpdHlPYnN0YWNsZShcclxuICAgICAgICAgICAgICBuZWlnaGJvdXJzW2ldXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICB2ZWxvY2l0eU9ic3RhY2xlICE9IG51bGwgJiZcclxuICAgICAgICAgICAgICB0aGlzLmlzSW5zaWRlKGhhbGZwbGFuZTEsIHZlbG9jaXR5T2JzdGFjbGUpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIHNhZmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNhZmUpIHtcclxuICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGhhbGZwbGFuZTE7XHJcbiAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChoYWxmcGxhbmUxKTtcclxuICAgICAgICAgIHRoaXMuY2hlY2tJZkRvbmUoKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEVsc2UsIGNvbnNpZGVyIGNsb3Nlc3QgcG9pbnQgb24gc2Vjb25kIGhhbGYtcGxhbmVcclxuICAgICAgbGV0IGhhbGZQbGFuZTIgPSB0aGlzLmdldENsb3Nlc3RQb2ludE9uTGluZShcclxuICAgICAgICBjb2xsaXNpb24udmVydGV4LFxyXG4gICAgICAgIGNvbGxpc2lvbi50YW5nZW50MixcclxuICAgICAgICBwcmVmZXJyZWRWZWxvY2l0eVxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKGhhbGZwbGFuZTEubWFnbml0dWRlKCkgPD0gc3BlZWQpIHtcclxuICAgICAgICBzYWZlID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChpICE9IGFnZW50KSB7XHJcbiAgICAgICAgICAgIGxldCB2ZWxvY2l0eU9ic3RhY2xlID0gdGhpcy5nZXRSZWNpcHJvY2FsVmVsb2NpdHlPYnN0YWNsZShcclxuICAgICAgICAgICAgICBuZWlnaGJvdXJzW2ldXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICB2ZWxvY2l0eU9ic3RhY2xlICE9IG51bGwgJiZcclxuICAgICAgICAgICAgICB0aGlzLmlzSW5zaWRlKGhhbGZQbGFuZTIsIHZlbG9jaXR5T2JzdGFjbGUpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIHNhZmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNhZmUpIHtcclxuICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGhhbGZQbGFuZTI7XHJcbiAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChoYWxmUGxhbmUyKTtcclxuICAgICAgICAgIHRoaXMuY2hlY2tJZkRvbmUoKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBFbHNlLCBzYW1wbGUgcmFuZG9tIHZlbG9jaXRpZXMgYW5kIHNlbGVjdCB0aGUgb25lIHdpdGggdGhlIGxlYXN0IHBlbmFsdHlcclxuICAgIGxldCBzYW1wbGVzID0gMTAwOyAvLyBudW1iZXIgb2YgdmVsb2NpdGllcyB0byB0cnlcclxuICAgIGxldCB3ID0gMTAwOyAvLyBwYXJhbWV0ZXIgZm9yIHBlbmFsdHlcclxuICAgIGxldCBtaW5QZW5hbHR5ID0gSW5maW5pdHk7XHJcbiAgICBsZXQgYmVzdFZlbG9jaXR5ID0gbmV3IFZlY3RvcjJmKDAsIDApO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2FtcGxlczsgaSsrKSB7XHJcbiAgICAgIC8vIFNhbXBsZSB2ZWxvY2l0eSBmcm9tIGVudGlyZSBhbGxvd2VkIHZlbG9jaXR5IHNwYWNlXHJcbiAgICAgIGxldCBzYW1wbGUgPSBuZXcgVmVjdG9yMmYoMCwgMCkuc2FtcGxlKHNwZWVkKTtcclxuICAgICAgbGV0IG1pblRpbWVUb0NvbGxpc2lvbiA9IEluZmluaXR5O1xyXG5cclxuICAgICAgLy8gRmluZCB0aW1lIHRvIGZpcnN0IGNvbGxpc2lvblxyXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5laWdoYm91cnMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBsZXQgYiA9IG5laWdoYm91cnNbal07XHJcbiAgICAgICAgbGV0IHZlbG9jaXR5T2JzdGFjbGUgPSB0aGlzLmdldFJlY2lwcm9jYWxWZWxvY2l0eU9ic3RhY2xlKGIpO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHZlbG9jaXR5T2JzdGFjbGUgIT0gbnVsbCAmJlxyXG4gICAgICAgICAgdGhpcy5pc0luc2lkZShzYW1wbGUsIHZlbG9jaXR5T2JzdGFjbGUpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBsZXQgdGltZVRvQ29sbGlzaW9uID0gdGhpcy5nZXRGaXJzdFJheUNpcmNsZUludGVyc2VjdGlvbihcclxuICAgICAgICAgICAgYi5nZXRQb3NpdGlvbigpLmFkZChiLmdldERpcmVjdGlvbigpKSxcclxuICAgICAgICAgICAgdGhpcy5SYWRpdXMgKyBiLlJhZGl1cyxcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24sXHJcbiAgICAgICAgICAgIHNhbXBsZVxyXG4gICAgICAgICAgICAgIC5tdWx0aXBseSgyKVxyXG4gICAgICAgICAgICAgIC5zdWJ0cmFjdCh0aGlzLmdldERpcmVjdGlvbigpKVxyXG4gICAgICAgICAgICAgIC5zdWJ0cmFjdChiLmdldERpcmVjdGlvbigpKVxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBpZiAodGltZVRvQ29sbGlzaW9uIDwgbWluVGltZVRvQ29sbGlzaW9uKSB7XHJcbiAgICAgICAgICAgIG1pblRpbWVUb0NvbGxpc2lvbiA9IHRpbWVUb0NvbGxpc2lvbjtcclxuICAgICAgICAgICAgaWYgKG1pblRpbWVUb0NvbGxpc2lvbiA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5jaGVja0lmRG9uZSgpO1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2FsY3VsYXRlIHBlbmFsdHlcclxuICAgICAgbGV0IHBlbmFsdHkgPVxyXG4gICAgICAgIHcgLyBtaW5UaW1lVG9Db2xsaXNpb24gKyBwcmVmZXJyZWRWZWxvY2l0eS5zdWJ0cmFjdChzYW1wbGUpLm1hZ25pdHVkZSgpOyAvLyBUUyBjb3JyZWN0bHkgaGFuZGxlcyBkaXZpZGUgYnkgemVybyBvciBpbmZpbml0eVxyXG4gICAgICBpZiAocGVuYWx0eSA8IG1pblBlbmFsdHkpIHtcclxuICAgICAgICBtaW5QZW5hbHR5ID0gcGVuYWx0eTtcclxuICAgICAgICBiZXN0VmVsb2NpdHkgPSBzYW1wbGU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoYmVzdFZlbG9jaXR5Lm1hZ25pdHVkZSgpID09IDApIHtcclxuICAgICAgdGhpcy5faXNTdHVjayA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZGlyZWN0aW9uID0gYmVzdFZlbG9jaXR5O1xyXG4gICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQoYmVzdFZlbG9jaXR5KTtcclxuICAgIHRoaXMuY2hlY2tJZkRvbmUoKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0UHJlZmVycmVkVmVsb2NpdHkobWF4U3BlZWQ6IG51bWJlcik6IFZlY3RvcjJmIHtcclxuICAgIGxldCBnb2FsRGlyZWN0aW9uID0gdGhpcy5fZ29hbFBvc2l0aW9uLnN1YnRyYWN0KHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgIGxldCBnb2FsRGlzdGFuY2UgPSBnb2FsRGlyZWN0aW9uLm1hZ25pdHVkZSgpO1xyXG5cclxuICAgIGlmIChnb2FsRGlzdGFuY2UgPiBtYXhTcGVlZCkge1xyXG4gICAgICByZXR1cm4gZ29hbERpcmVjdGlvbi5kaXZpZGUoZ29hbERpc3RhbmNlIC8gbWF4U3BlZWQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdvYWxEaXJlY3Rpb247XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFJlY2lwcm9jYWxWZWxvY2l0eU9ic3RhY2xlKGI6IElBZ2VudCk6IFZlbG9jaXR5T2JzdGFjbGUgfCBudWxsIHtcclxuICAgIGxldCB2ZWxvY2l0eUEgPSB0aGlzLmdldERpcmVjdGlvbigpO1xyXG4gICAgbGV0IHZlbG9jaXR5QiA9IGIuZ2V0RGlyZWN0aW9uKCk7XHJcbiAgICBsZXQgdmVydGV4ID0gdmVsb2NpdHlBLmFkZCh2ZWxvY2l0eUIpLmRpdmlkZSgyKTtcclxuXHJcbiAgICAvLyBUcmFuc2xhdGUgb3JpZ2luIHRvIHRoaXMgYWdlbnQncyBwb3NpdGlvblxyXG4gICAgbGV0IHBvc2l0aW9uQiA9IGIuZ2V0UG9zaXRpb24oKS5zdWJ0cmFjdCh0aGlzLl9wb3NpdGlvbik7XHJcblxyXG4gICAgLy8gRmluZCBNaW5rb3dza2kgc3VtIG9mIGFnZW50c1xyXG4gICAgbGV0IGNlbnRyZSA9IHBvc2l0aW9uQi5hZGQodmVsb2NpdHlCKTtcclxuICAgIGxldCByYWRpdXMgPSBiLlJhZGl1cyArIHRoaXMuUmFkaXVzO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSBhbmdsZXNcclxuICAgIGxldCBkaWZmID0gdmVsb2NpdHlCLnN1YnRyYWN0KGNlbnRyZSk7XHJcbiAgICBsZXQgZGlzdCA9IGRpZmYubWFnbml0dWRlKCk7XHJcbiAgICBpZiAoZGlzdCA8IHJhZGl1cykge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgdGhldGEgPSBNYXRoLmFjb3MocmFkaXVzIC8gZGlzdCk7XHJcbiAgICBsZXQgcGhpID0gTWF0aC5hdGFuMihkaWZmLnksIGRpZmYueCk7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIHRhbmdlbnQgdmVjdG9yc1xyXG4gICAgbGV0IGFuZ2xlMSA9IHBoaSArIHRoZXRhO1xyXG4gICAgbGV0IHRhbmdlbnQxID0gbmV3IFZlY3RvcjJmKFxyXG4gICAgICBjZW50cmUueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlMSksXHJcbiAgICAgIGNlbnRyZS55ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUxKVxyXG4gICAgKTtcclxuXHJcbiAgICBsZXQgYW5nbGUyID0gcGhpIC0gdGhldGE7XHJcbiAgICBsZXQgdGFuZ2VudDIgPSBuZXcgVmVjdG9yMmYoXHJcbiAgICAgIGNlbnRyZS54ICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGUyKSxcclxuICAgICAgY2VudHJlLnkgKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZTIpXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFJldHVybiB2ZWxvY2l0eSBvYnN0YWNsZVxyXG4gICAgcmV0dXJuIHsgdmVydGV4OiB2ZXJ0ZXgsIHRhbmdlbnQxOiB0YW5nZW50MSwgdGFuZ2VudDI6IHRhbmdlbnQyIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzSW5zaWRlKFxyXG4gICAgdmVsb2NpdHk6IFZlY3RvcjJmLFxyXG4gICAgdmVsb2NpdHlPYnN0YWNsZTogVmVsb2NpdHlPYnN0YWNsZVxyXG4gICk6IGJvb2xlYW4ge1xyXG4gICAgLy8gRmlyc3QgaGFsZi1wbGFuZVxyXG4gICAgbGV0IGRldGVybWluYW50MSA9XHJcbiAgICAgICh2ZWxvY2l0eU9ic3RhY2xlLnRhbmdlbnQxLnggLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC54KSAqXHJcbiAgICAgICAgKHZlbG9jaXR5LnkgLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC55KSAtXHJcbiAgICAgICh2ZWxvY2l0eU9ic3RhY2xlLnRhbmdlbnQxLnkgLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC55KSAqXHJcbiAgICAgICAgKHZlbG9jaXR5LnggLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC54KTtcclxuXHJcbiAgICAvLyBTZWNvbmQgaGFsZi1wbGFuZVxyXG4gICAgbGV0IGRldGVybWluYW50MiA9XHJcbiAgICAgICh2ZWxvY2l0eU9ic3RhY2xlLnRhbmdlbnQyLnggLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC54KSAqXHJcbiAgICAgICAgKHZlbG9jaXR5LnkgLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC55KSAtXHJcbiAgICAgICh2ZWxvY2l0eU9ic3RhY2xlLnRhbmdlbnQyLnkgLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC55KSAqXHJcbiAgICAgICAgKHZlbG9jaXR5LnggLSB2ZWxvY2l0eU9ic3RhY2xlLnZlcnRleC54KTtcclxuXHJcbiAgICByZXR1cm4gZGV0ZXJtaW5hbnQxID4gMCAmJiBkZXRlcm1pbmFudDIgPCAwO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRDbG9zZXN0UG9pbnRPbkxpbmUoXHJcbiAgICBsaW5lUG9pbnQ6IFZlY3RvcjJmLFxyXG4gICAgbGluZURpcmVjdGlvbjogVmVjdG9yMmYsXHJcbiAgICBwb2ludDogVmVjdG9yMmZcclxuICApOiBWZWN0b3IyZiB7XHJcbiAgICBsZXQgZGlyZWN0aW9uID0gbGluZURpcmVjdGlvbi5ub3JtYWxpc2UoKTtcclxuICAgIGxldCB2ZWN0b3IgPSBwb2ludC5zdWJ0cmFjdChsaW5lUG9pbnQpO1xyXG4gICAgbGV0IGRpc3RhbmNlID0gdmVjdG9yLmRvdChkaXJlY3Rpb24pO1xyXG4gICAgcmV0dXJuIGxpbmVQb2ludC5hZGQoZGlyZWN0aW9uLm11bHRpcGx5KGRpc3RhbmNlKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldEZpcnN0UmF5Q2lyY2xlSW50ZXJzZWN0aW9uKFxyXG4gICAgY2VudHJlOiBWZWN0b3IyZixcclxuICAgIHJhZGl1czogbnVtYmVyLFxyXG4gICAgb3JpZ2luOiBWZWN0b3IyZixcclxuICAgIGRpcmVjdGlvbjogVmVjdG9yMmZcclxuICApOiBudW1iZXIge1xyXG4gICAgbGV0IGRlbHRhID0gb3JpZ2luLnN1YnRyYWN0KGNlbnRyZSk7XHJcblxyXG4gICAgbGV0IGEgPSBkaXJlY3Rpb24uZG90KGRpcmVjdGlvbik7XHJcbiAgICBsZXQgYiA9IDIgKiBkaXJlY3Rpb24uZG90KGRlbHRhKTtcclxuICAgIGxldCBjID0gZGVsdGEuZG90KGRlbHRhKSAtIHJhZGl1cyAqKiAyO1xyXG5cclxuICAgIGxldCBkaXNjcmltID0gYiAqKiAyIC0gNCAqIGEgKiBjO1xyXG5cclxuICAgIGlmIChkaXNjcmltIDwgMCkge1xyXG4gICAgICAvLyBObyBpbnRlcnNlY3Rpb25cclxuICAgICAgcmV0dXJuIEluZmluaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBkaXN0YW5jZSA9ICgoLWIgLSBNYXRoLnNxcnQoZGlzY3JpbSkpIC8gMikgKiBhO1xyXG5cclxuICAgIGlmIChkaXN0YW5jZSA8IDApIHtcclxuICAgICAgLy8gSW50ZXJzZWN0aW9uIGJlaGluZFxyXG4gICAgICByZXR1cm4gSW5maW5pdHk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRpc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja0lmRG9uZSgpIHtcclxuICAgIGxldCBmaW5pc2hUaHJlc2hvbGQgPSAxLjA7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLl9wb3NpdGlvbi5zdWJ0cmFjdCh0aGlzLl9nb2FsUG9zaXRpb24pLm1hZ25pdHVkZVNxcmQoKSA8XHJcbiAgICAgIGZpbmlzaFRocmVzaG9sZFxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuX2lzRG9uZSA9IHRydWU7XHJcbiAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fZ29hbFBvc2l0aW9uO1xyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMmYoMCwgMCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFNpbXVsYXRpb24gfSBmcm9tIFwiLi9TaW11bGF0aW9uXCI7XHJcbmltcG9ydCB7IFJlbmRlcmVyM0QgfSBmcm9tIFwiLi9SZW5kZXJlcjNEXCI7XHJcbmltcG9ydCB7IEJhc2ljQWdlbnQgfSBmcm9tIFwiLi9CYXNpY0FnZW50XCI7XHJcbmltcG9ydCB7IFN0b3BBZ2VudCB9IGZyb20gXCIuL1N0b3BBZ2VudFwiO1xyXG5pbXBvcnQgeyBDb25maWd1cmF0aW9ucyB9IGZyb20gXCIuL0NvbmZpZ3VyYXRpb25zXCI7XHJcbmltcG9ydCB7IEFnZW50VHJlZSB9IGZyb20gXCIuL0FnZW50VHJlZVwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyZiB9IGZyb20gXCIuL1ZlY3RvcjJmXCI7XHJcbmltcG9ydCB7IFZPQWdlbnQgfSBmcm9tIFwiLi9WT0FnZW50XCI7XHJcbmltcG9ydCB7IFJWT0FnZW50IH0gZnJvbSBcIi4vUlZPQWdlbnRcIjtcclxuXHJcbmNvbnN0IGNvbmZpZ1NlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZmlnXCIpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xyXG5jb25zdCBhZ2VudFR5cGVTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICBcImFnZW50VHlwZVwiXHJcbikgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbmNvbnN0IG51bWJlck9mQWdlbnRzSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICBcIm51bWJlck9mQWdlbnRzXCJcclxuKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbmNvbnN0IGZyYW1lcmF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZnJhbWVyYXRlXCIpIGFzIEhUTUxQYXJhZ3JhcGhFbGVtZW50O1xyXG5jb25zdCBwbGF5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5QnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5jb25zdCBzdGVwQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGVwQnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cclxuY29uc3QgcmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIzRChjYW52YXMpO1xyXG5jb25zdCBzaW11bGF0aW9uID0gbmV3IFNpbXVsYXRpb24ocmVuZGVyZXIsIG5ldyBBZ2VudFRyZWUoKSk7XHJcbnZhciBwbGF5ID0gZmFsc2U7XHJcblxyXG4vLyBpbml0aWFsaXNlIHNpbXVsYXRpb24gYW5kIGJlZ2luIHVwZGF0ZS9yZW5kZXIgbG9vcFxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICB0aGlzLnJlY29uZmlndXJlKCk7XHJcblxyXG4gIGxldCBsYXN0UmVuZGVyID0gMDtcclxuICBsZXQgbGFzdEZQUyA9IDA7XHJcbiAgbGV0IGZyYW1lcyA9IDA7XHJcblxyXG4gIGZ1bmN0aW9uIGxvb3AodGltZXN0YW1wOiBudW1iZXIpIHtcclxuICAgIGxldCBkZWx0YVQgPSB0aW1lc3RhbXAgLSBsYXN0UmVuZGVyO1xyXG4gICAgbGFzdFJlbmRlciA9IHRpbWVzdGFtcDtcclxuXHJcbiAgICAvLyB1cGRhdGVcclxuICAgIGlmIChwbGF5KSB7XHJcbiAgICAgIHNpbXVsYXRpb24udXBkYXRlKGRlbHRhVCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmVuZGVyXHJcbiAgICBzaW11bGF0aW9uLmRyYXcoKTtcclxuICAgIGZyYW1lcysrO1xyXG5cclxuICAgIC8vIHJlY2FsY3VsYXRlIGZyYW1lcmF0ZSBldmVyeSAyNTBtc1xyXG4gICAgaWYgKHRpbWVzdGFtcCAtIGxhc3RGUFMgPj0gMjUwKSB7XHJcbiAgICAgIGZyYW1lcmF0ZS50ZXh0Q29udGVudCA9IGBGUFM6ICR7KFxyXG4gICAgICAgICgxMDAwICogZnJhbWVzKSAvXHJcbiAgICAgICAgKHRpbWVzdGFtcCAtIGxhc3RGUFMpXHJcbiAgICAgICkudG9GaXhlZCgxKX1gO1xyXG5cclxuICAgICAgZnJhbWVzID0gMDtcclxuICAgICAgbGFzdEZQUyA9IHRpbWVzdGFtcDtcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG4gIH1cclxuXHJcbiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcclxufVxyXG5cclxuLy8gdG9nZ2xlIHBsYXkvcGF1c2VcclxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlQYXVzZSgpIHtcclxuICBwbGF5ID0gIXBsYXk7XHJcblxyXG4gIGlmIChwbGF5KSB7XHJcbiAgICBwbGF5QnV0dG9uLnRleHRDb250ZW50ID0gXCJQYXVzZVwiO1xyXG4gICAgc3RlcEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHBsYXlCdXR0b24udGV4dENvbnRlbnQgPSBcIlBsYXlcIjtcclxuICAgIHN0ZXBCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbi8vIHN0ZXAgc2ltdWxhdGlvbiBieSAxIGZyYW1lXHJcbmV4cG9ydCBmdW5jdGlvbiBzdGVwKCkge1xyXG4gIHNpbXVsYXRpb24udXBkYXRlKDEwMDAgLyA2MCk7IC8vIEFzc3VtZXMgNjBGUFNcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlY29uZmlndXJlKCkge1xyXG4gIGlmIChwbGF5KSB7XHJcbiAgICB0aGlzLnBsYXlQYXVzZSgpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgY29uZmlnID0gY29uZmlnU2VsZWN0LnZhbHVlO1xyXG4gIGNvbnN0IGFnZW50VHlwZSA9IGFnZW50VHlwZVNlbGVjdC52YWx1ZTtcclxuICBjb25zdCBuID0gcGFyc2VJbnQobnVtYmVyT2ZBZ2VudHNJbnB1dC52YWx1ZSkgPz8gMDtcclxuXHJcbiAgLy8gU2VsZWN0IGFnZW50IGNvbnN0cnVjdG9yXHJcbiAgbGV0IGFnZW50Q29uc3RydWN0b3I7XHJcbiAgc3dpdGNoIChhZ2VudFR5cGUpIHtcclxuICAgIGNhc2UgXCJCYXNpY0FnZW50XCI6XHJcbiAgICAgIGFnZW50Q29uc3RydWN0b3IgPSAoXHJcbiAgICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgICBwb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgICAgZ29hbFBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgICByYWRpdXM6IG51bWJlclxyXG4gICAgICApID0+IG5ldyBCYXNpY0FnZW50KGlkLCBwb3NpdGlvbiwgZ29hbFBvc2l0aW9uLCByYWRpdXMpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgXCJTdG9wQWdlbnRcIjpcclxuICAgICAgYWdlbnRDb25zdHJ1Y3RvciA9IChcclxuICAgICAgICBpZDogbnVtYmVyLFxyXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICAgIHJhZGl1czogbnVtYmVyXHJcbiAgICAgICkgPT4gbmV3IFN0b3BBZ2VudChpZCwgcG9zaXRpb24sIGdvYWxQb3NpdGlvbiwgcmFkaXVzKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFwiVk9BZ2VudFwiOlxyXG4gICAgICBhZ2VudENvbnN0cnVjdG9yID0gKFxyXG4gICAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgICAgcG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICAgIGdvYWxQb3NpdGlvbjogVmVjdG9yMmYsXHJcbiAgICAgICAgcmFkaXVzOiBudW1iZXJcclxuICAgICAgKSA9PiBuZXcgVk9BZ2VudChpZCwgcG9zaXRpb24sIGdvYWxQb3NpdGlvbiwgcmFkaXVzKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFwiUlZPQWdlbnRcIjpcclxuICAgICAgYWdlbnRDb25zdHJ1Y3RvciA9IChcclxuICAgICAgICBpZDogbnVtYmVyLFxyXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IyZixcclxuICAgICAgICBnb2FsUG9zaXRpb246IFZlY3RvcjJmLFxyXG4gICAgICAgIHJhZGl1czogbnVtYmVyXHJcbiAgICAgICkgPT4gbmV3IFJWT0FnZW50KGlkLCBwb3NpdGlvbiwgZ29hbFBvc2l0aW9uLCByYWRpdXMpO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6IHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWdlbnQgbm90IGltcGxlbWVudGVkXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gU2VsZWN0IGNvbmZpZ3VyYXRpb25cclxuICBzd2l0Y2ggKGNvbmZpZykge1xyXG4gICAgY2FzZSBcIlJhbmRvbVRvUmFuZG9tXCI6IHtcclxuICAgICAgc2ltdWxhdGlvbi5pbml0KFxyXG4gICAgICAgIENvbmZpZ3VyYXRpb25zLlJhbmRvbVRvUmFuZG9tKFxyXG4gICAgICAgICAgbixcclxuICAgICAgICAgIGNhbnZhcy53aWR0aCxcclxuICAgICAgICAgIGNhbnZhcy5oZWlnaHQsXHJcbiAgICAgICAgICBhZ2VudENvbnN0cnVjdG9yXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGNhc2UgXCJSYW5kb21Ub0xpbmVcIjoge1xyXG4gICAgICBzaW11bGF0aW9uLmluaXQoXHJcbiAgICAgICAgQ29uZmlndXJhdGlvbnMuUmFuZG9tVG9MaW5lKFxyXG4gICAgICAgICAgbixcclxuICAgICAgICAgIGNhbnZhcy53aWR0aCxcclxuICAgICAgICAgIGNhbnZhcy5oZWlnaHQsXHJcbiAgICAgICAgICBhZ2VudENvbnN0cnVjdG9yXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGNhc2UgXCJDaXJjbGVUb0NpcmNsZVwiOiB7XHJcbiAgICAgIHNpbXVsYXRpb24uaW5pdChcclxuICAgICAgICBDb25maWd1cmF0aW9ucy5DaXJjbGVUb0NpcmNsZShcclxuICAgICAgICAgIG4sXHJcbiAgICAgICAgICBjYW52YXMud2lkdGgsXHJcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0LFxyXG4gICAgICAgICAgYWdlbnRDb25zdHJ1Y3RvclxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBjYXNlIFwiR3JpZFRvR3JpZFwiOiB7XHJcbiAgICAgIHNpbXVsYXRpb24uaW5pdChcclxuICAgICAgICBDb25maWd1cmF0aW9ucy5HcmlkVG9HcmlkKFxyXG4gICAgICAgICAgbixcclxuICAgICAgICAgIGNhbnZhcy53aWR0aCxcclxuICAgICAgICAgIGNhbnZhcy5oZWlnaHQsXHJcbiAgICAgICAgICBhZ2VudENvbnN0cnVjdG9yXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGRlZmF1bHQ6IHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29uZmlndXJhdGlvbiBub3QgaW1wbGVtZW50ZWRcIik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gbW9kdWxlIGV4cG9ydHMgbXVzdCBiZSByZXR1cm5lZCBmcm9tIHJ1bnRpbWUgc28gZW50cnkgaW5saW5pbmcgaXMgZGlzYWJsZWRcbi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xucmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMzg0KTtcbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==